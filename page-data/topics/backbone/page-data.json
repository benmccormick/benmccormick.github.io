{
    "componentChunkName": "component---src-templates-topic-page-js",
    "path": "/topics/backbone",
    "result": {"pageContext":{"posts":[{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-es6-1","topics":["backbone","marionette","javascript"],"category":"frameworks","key":null,"title":"Building Complex Layouts With Marionette.js","description":"How to build complex UIs with Marionette.js","layout":"post","path":"/2014/12/22/building-complex-layouts-with-marionette-js","date":"2014-12-22T04:43:47+00:00","dontfeature":null,"isDraft":null},"html":"<p><em>This is the third post in a series on <a href=\"http://marionettejs.com/\">Marionette.js</a>.  For more background on what Marionette is, check out the first post in the series, <a href=\"http://benmccormick.org/2014/12/02/the-case-for-marionette-js/\">The Case For Marionette</a>  Also note that this article was written about Marionette v2.  The current latest version of Marionette is v3, and while most of the high level concepts remain the same, the specific syntax has changed in some cases.</em></p>\n<p>When building complex web applications, many of the first decisions you have to make revolve around the structure and layout of your application. Most applications will have some static portions like navigations or footers, and some dynamic portions holding content or page specific controls.  A good layout manager will allow you to easily control these layouts, helping you keep structure consistent between pages and actions while swapping out content on changes in routes or data.</p>\n<p>Backbone provides Views as a way of managing the display of a web app’s UI.  But it doesn’t provide any guidance on how you should use them to construct complex layouts.  Should you have one view per page and control the layout with templates and jQuery?  Use one View for each section of the page?  Or have a top level view that creates child views to manage different sections?  All of these are possible with Backbone, and none of them are particularly encouraged or discouraged by the library design.  In fact because Backbone doesn’t provide any consistent conventions for managing subviews, rendering content, or attaching rendered content to the DOM, even projects that take the same approach to managing layout might implement these patterns quite differently.</p>\n<p>In my <a href=\"http://benmccormick.org/2014/12/02/the-case-for-marionette-js/\">first post</a>, I talked about how one of the strengths of Marionette is the way it helps remove many of the decisions that Backbone developers have to make for each project by providing components based on community-tested patterns.  Layout is another area where Marionette can give you a standardized solution.  Marionette does this by providing Regions and by making it easy to manage child Views.</p>\n<h3>Layout in Marionette</h3>\n<p>Regions are the primary tool Marionette provides for defining layouts.  A Region is a defined portion of the page, held within a root DOM element. You can swap different Views in and out of Regions, or show one View and let it stay there permanently.  Like everything in Backbone applications, Regions emit events, which allow you to design functionality that is triggered before or after a region’s content changes.  Regions map very well to low fidelity layout wireframes like the one below, but they also can be used for organizing smaller components.  They’re an organization tool for attaching and removing Views in a consistent way.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.02797202797203%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAABYlAAAWJQFJUiTwAAABP0lEQVQoz5WRy07CQBSG+3omldJS0GKBRFQMcamJ8XW0nZahCIQNxqULNl5KvLQxCvgW/3FjZri0iQRt8q1O5zuXv8rdaHT/8jGOv17fZ5+TWRjNxvGKaRhNHyVP0TSMEx7eJuFzpDR6sAPYATUHdDb83uNUC6gqqQS0f02HPTrqUb1LlQ5VJbUOWZzOb6CoDjQX6hVMD/Uucg7y7gLNRdFHuS0otZCTFc1FnmHrEqdDUgwGg4mnFsfJgAwPpp9Q8DB/UEjVi7LRxS0pOoMu5aL8kJONV+gp0kXVwUE3JZd8lLnYSmd/YDBsOzjuL2VNylYWudEnxfRht0XgFscuFytkkOdhFDzstIScnpxnomi3Ue2I1qu+ibx5bRHykjWT04Gtvfl38hnkTTfrbvKfMwdm+oubLS6C+edk1UFzQD/mRjCUIr7VpQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Regions image\"\n        title=\"Regions image\"\n        src=\"/static/331a9e83c26d8624a64ca39ca049925c/432e7/marionette_regions-1.png\"\n        srcset=\"/static/331a9e83c26d8624a64ca39ca049925c/a6b04/marionette_regions-1.png 143w,\n/static/331a9e83c26d8624a64ca39ca049925c/0e2fe/marionette_regions-1.png 285w,\n/static/331a9e83c26d8624a64ca39ca049925c/432e7/marionette_regions-1.png 570w,\n/static/331a9e83c26d8624a64ca39ca049925c/77800/marionette_regions-1.png 855w,\n/static/331a9e83c26d8624a64ca39ca049925c/b5cea/marionette_regions-1.png 1140w,\n/static/331a9e83c26d8624a64ca39ca049925c/1d7f7/marionette_regions-1.png 2038w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Regions really shine when it comes to child Views.  When you’re setting up Views in a normal Backbone application, you have to be very careful to avoid memory leaks by replacing a view without properly destroying it, especially for long-running SPA style apps. If you’re properly cleaning up Views when they’re destroyed, another thing that Marionette can help with, Regions remove that pain by ensuring that a View is properly destroyed if replaced in a Region, removing boilerplate and the opportunity for subtle memory bugs.  They also provide a clean central way to attach child Views, making it easier to maintain consistency across a project and promoting readability when moving into different code.</p>\n<h3>LayoutView</h3>\n<p>Regions are great, but for the most part you’re not going to want to use them directly.  Instead, Marionette provides a special View class, LayoutView.  LayoutViews allow you to build View tree hierarchies.  You can have one top level View that controls the entire page, or a section of the page that your Marionette app lives in.  That root view can then contain Regions which you use to show child Views.  Some of those child Views may themselves be LayoutViews, and so on for as many levels as you like.  This setup allows you to create modular View classes with few responsibilities that you can easily replace or update without having to write a lot of boilerplate code.</p>\n<p>That’s the high level overview, but let’s dig into what the code looks like.  To use regions in a LayoutView, we don’t have to directly create them.  Instead we define a regions object that works similarly to the events object on normal Backbone Views.  The regions object takes a Region name as a key and a jQuery selector as a value, and then create Region objects for each key-value pair and attach them to the View.  If you need to do something more complicated you can create a regions function that returns an object with the key-value pairs that you would like.  Here’s an example of what a LayoutView might look like in practice.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> Mn <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'backbone.marionette'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> Radio <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'backbone.radio'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> FooterView <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'views/footer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> HeaderView <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'views/header'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> IndexView <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'views/index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> RootView <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>LayoutView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token literal-property property\">regions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">header</span><span class=\"token operator\">:</span> <span class=\"token string\">'#navbar'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token string\">'.content-area'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">footer</span><span class=\"token operator\">:</span> <span class=\"token string\">'footer'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function-variable function\">initialize</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Radio<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'set:content'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">contentView</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRegion</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>contentView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function-variable function\">onBeforeShow</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRegion</span><span class=\"token punctuation\">(</span><span class=\"token string\">'header'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HeaderView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRegion</span><span class=\"token punctuation\">(</span><span class=\"token string\">'footer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FooterView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRegion</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">IndexView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>This is an example of a RootView that could be shown in a standalone Region and used as the top-level of a View hierarchy.  There are a few things to note about this example.  It defines 3 regions, a header and footer that render static Views, and a content area that originally contains an index View.  The initialize function uses Backbone.Radio to listen for commands and can swap out the View held in the content region when commanded. Those views could be swapped based on users navigating to a new route, with the routes initializing the Views and passing the commands, or based on a data change of some type.  We can also see that the child Views are shown within the onBeforeShow callback.  I’ll be discussing View life-cycle methods more in my next post, but for now just know that onBeforeShow runs immediately before a View is shown in a region.  You can use it when nesting your Views in order to make sure your Views are only attached to the DOM once, which prevents the browser from having to repaint the window multiple times.</p>\n<h3>It’s Turtles All The Way Down</h3>\n<p>The great thing about Marionette’s View system is that you can take the 3 Views I’ve gone over in my last 2 posts, ItemView, CollectionView, and LayoutView, and use them to represent pretty much any layout you’d like.  The basic rules: LayoutViews are used to structure the page into regions and regions into subregions. ItemViews are used to bind data to a UI, and CollectionViews are used to iterate over a Collection when each item in a Collection has complex data or behaviors associated with it and should be bound to an individual View or View tree<sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup>. This consistency makes it easy to learn how to structure Marionette apps, and makes it simple for experienced Marionette developers to jump into a new project quickly and get their bearings.  That’s really the promise of Marionette in a nutshell: consistent patterns that allow for a better development experience.</p>\n<h3>More Resources</h3>\n<ul>\n<li>For more on nesting Marionette Views, you can check out <a href=\"https://www.youtube.com/watch?v=CTr-tTwRH3o\">this talk</a> by Marionette core team member Sam Saccone.  It’s a quick 10 minute video covering much of the same stuff I went through here.</li>\n<li>I’ll talk more about this in a future post, but if you have a Marionette app and want to visualize your View hierarchy, <a href=\"https://github.com/marionettejs/marionette.inspector\">Marionette Inspector</a> is a great new tool for debugging Marionette apps, and it’s primary developer, Jason Lastner gave a <a href=\"https://www.youtube.com/watch?v=jbGm3mJXh_s\">great talk</a> describing how to use it at BackboneConf this week.</li>\n</ul>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        Marionette also contains a 4th View type, CompositeView.  But it's essentially a helper for the case where you want to display a CollectionView inside a region of a LayoutView, and isn't strictly necessary.  Technically you can also use LayoutViews to replace ItemViews, but the semantic difference is useful for encouraging readability.\n        </p>\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n</ol>\n</div>","fields":{"slug":"/2014/12/22/building-complex-layouts-with-marionette-js"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","marionette","javascript"],"category":"frameworks","key":null,"title":"Marionette Explained: Connecting Data to Your Views","description":"How to bind data to your views in Marionette.js","layout":"post","path":"/2014/12/10/marionette-explained-connecting-your-data-to-your-views","date":"2014-12-10T12:30:00+00:00","dontfeature":null,"isDraft":null},"html":"<p><em>This is the second post in a series on <a href=\"http://marionettejs.com/\">Marionette.js</a>.  For more background on what Marionette is, check out the first post in the series, <a href=\"http://benmccormick.org/2014/12/02/the-case-for-marionette-js/\">The Case For Marionette</a>.  Also note that this article was written about Marionette v2.  The current latest version of Marionette is v3, and while most of the high level concepts remain the same, the specific syntax has changed in some cases.</em></p>\n<p>One of the most interesting design choices of <a href=\"http://backbonejs.org/\">Backbone</a> was the decision to not provide a default render function for Views. Backbone Views by default are an empty function that adds nothing to the DOM when rendered.  Although a View can have a Model or Collection associated with it, there is no built in way to associate that with the generated View.  When you contrast that to other modern frameworks like Ember, Angular and KnockoutJS, and their emphasis on using 2 way bindings to associate a data object to a rendered View, Backbone can feel a bit incomplete.  The goal is to allow for a variety of rendering approaches, without making one of them a favored approach.  But it leaves a situation where choosing a rendering procedure is one of the first steps in any new Backbone project.  Marionette provides a structured approach for binding your data to your view layer, while still providing flexibility to introduce customization.</p>\n<h3>Rendering and Data-Binding in Marionette</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.75524475524475%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvklEQVQoz2P49P3X1H3XurZdPHLrxf/////9+/cfDCDU5gsP27dcWHjkFlwcGTA8fvtZp3qNbNGy1s3n/////+fvP4hOiNqshYelC5d69m7//ecv3ESE5ufvvzh3bjapXztp1+X//////QcCv//+g5hSseqEYd3a6Ol7fv35A9L89++/P38gCKT595+/N56+vvjg+etP38Ca/0IcCLHk6btPlx6+vP/qPUQK3dkg0d+////+++bb+3tvH/7////zj1+bzz88cfclRMXf7z/ff/1w9839////v7l68VRLxdnuhrM9jT/ev2P48P1j/9FZk4/ObdjXE7gs6fXXF62bLmpUrjRuWHf89uu99/Y375nQdnCSx4LwO1+eP9+7c7Wd9hZ/+w0e5p+fPGJ49+1926GJXUemlu1q9loc/eLz04qVp3SrVxvUrt539fm229uq93TW7euyne17/fPjZ7u2LTdT2hLgsNZBD6QZHj2vvry58erO////33/5Nu/A1R0XH4B9DpJ69+3D9Rc3//////LCmcPl2UdrC481lHx/9xakGRJ8oKD6/+8fanT8/ff3z98/f//9+fcfFpJIAQYAXODInkUKJD8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rendering diagram\"\n        title=\"rendering diagram\"\n        src=\"/static/c46f3a6beda389f53c3b773508f44dee/432e7/renderpattern-3.png\"\n        srcset=\"/static/c46f3a6beda389f53c3b773508f44dee/a6b04/renderpattern-3.png 143w,\n/static/c46f3a6beda389f53c3b773508f44dee/0e2fe/renderpattern-3.png 285w,\n/static/c46f3a6beda389f53c3b773508f44dee/432e7/renderpattern-3.png 570w,\n/static/c46f3a6beda389f53c3b773508f44dee/5a190/renderpattern-3.png 800w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Marionette.JS handles rendering in a way that is similar to the <a href=\"http://en.wikipedia.org/wiki/Model_View_ViewModel\">Model-View-ViewModel</a> pattern that developers who have used KnockoutJS or Durandal will be familiar with <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup>. Marionette implements its render cycle through 2 primary methods available in all of its base View classes.  The first is <code class=\"language-text\">serializeData</code>. serializeData is a function that produces what is essentially a <code class=\"language-text\">ViewModel</code> in the sense of an MVVM application. It takes your data (a Backbone Model or Collection), and pulls it into a simplified form that a View can easily render.  By default Marionette will simply call the Model or Collection’s <code class=\"language-text\">toJSON</code> function to serialize the Backbone object down into a simple JavaScript object.  But it’s possible to override serializeData to provide more complicated logic.  For instance here’s an example from the <a href=\"https://github.com/tastejs/todomvc/tree/gh-pages/examples/backbone_marionette\">Marionette TodoMVC project</a> that takes a collection of todos and calculates a few values to show the number of completed todos.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function-variable function\">serializeData</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> active <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>collection<span class=\"token punctuation\">.</span><span class=\"token function\">getActive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> total <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>collection<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">activeCount</span><span class=\"token operator\">:</span> active<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">totalCount</span><span class=\"token operator\">:</span> total<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">completedCount</span><span class=\"token operator\">:</span> total <span class=\"token operator\">-</span> active\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Once the serialized data/view model has been prepared, data is passed to the render function which starts by looking for a template to render.  In Marionette, templates are defined by setting the template property on your View, or by setting a getTemplate method if you want to conditionally load your templates. The render function takes that template, passes it the serialized data, and renders it using a template engine.  The default Marionette template engine is Underscore, which makes sense since it’s a Backbone dependency already.  But it’s easy to switch to a different templating engine.  Here’s the entire chunk of code I wrote to use Handlebar templates in Windsor Circle’s Marionette app.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//render templates with Handlebars instead of Underscore</span>\nBackbone<span class=\"token punctuation\">.</span>Marionette<span class=\"token punctuation\">.</span>Renderer<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">template<span class=\"token punctuation\">,</span> data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> renderer <span class=\"token operator\">=</span> Handlebars<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">renderer</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>ItemView and CollectionView</h3>\n<p>Marionette provides several View classes that you can use as bases, but the core Views for representing data are ItemView and CollectionView.  An ItemView takes a single data object, either a Model or Collection and passes it to the template to render.  A CollectionView iterates over a Collection and renders a child View for each Model. You can either use the same View for every Collection, or mix and match Views based on the Model’s properties.</p>\n<p>So for instance, views for a simple todo list might look something like this <sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> TodoView<span class=\"token operator\">=</span> Marionette<span class=\"token punctuation\">.</span>ItemView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span> <span class=\"token string\">'li'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;span class=\"checkbox\" {{checked}}>&lt;/span>&lt;span class=\"text\">{{ text}}&lt;/span>&lt;span class=\"delete\">&lt;/span>'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'click .checkbox'</span><span class=\"token operator\">:</span> <span class=\"token string\">'toggleChecked'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'click .delete'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'deleteItem'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">serializeData</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">checked</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'checked'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'checked'</span><span class=\"token operator\">:</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'text'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">toggleChecked</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//logic for checking the box</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">deleteItem</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//logic for deleting the todo</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> TodoListView <span class=\"token operator\">=</span> Marionette<span class=\"token punctuation\">.</span>CollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">childView</span><span class=\"token operator\">:</span> TodoView<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span> <span class=\"token string\">'ul'</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>When the TodoListView is given a collection and rendered, it will display an unordered list of rendered TodoViews, with the data for each model bound to the template object associated with TodoView.</p>\n<h3>A brief note on 2 way data-binding</h3>\n<p>Marionette data-binding is one-way by default.  Over the last few years the discussion around data-binding has gone from “cool there’s structured data-binding” when Backbone first came out, to “how can you ship without 2-way data-bindings?” when Knockout, Angular and Ember popularized the 2-way approach, to “1 way bindings keep things simple and they’re cool again” based on the popularity of React.  I’m not going to go deep into that debate during this post, but the important takeaway is that Marionette generally prefers explicit bindings to implicit.  So when model values change, it will be based on code that you’ve written, not implicit library code.</p>\n<h3>Wrap-Up</h3>\n<p>I kept things pretty simple in this post, but consistent data binding is a core part of what Marionette provides.  Having a single documented system for attaching Model and Collection data to Views is a big win for keeping Backbone applications lean and readable.  When using these conventions you can move from View to View or project to project and quickly pick up on the intent and structure of the code.  Instead of trying to solve these problems for every  View, you can rely on the experience of others and focus on writing code to achieve your application’s goals.</p>\n<p>This was a short but important start to diving deeper into Marionette. I’ll talk more about layouts, view life-cycles, and other Marionette features in future posts, but at their heart, web applications are about exposing data in rich UIs.  Without that core, your web applications won’t have much function at all.  So make sure to understand and take advantage of this aspect of Marionette before you move on to anything else.</p>\n<h3>More Resources</h3>\n<ul>\n<li>If you absolutely must have 2 way data bindings in Backbone, <a href=\"http://nytimes.github.io/backbone.stickit/\">Backbone.stickit</a> is a good project to check out.  At Windsor Circle we use it for binding model data to forms (2 way data-binding’s best use case).  Rather than the template based approach most libaries use for 2 way data-binding, stickit allows you to configure bindings declaratively in your view code.</li>\n</ul>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        MVVM is normally associated with 2 ways bindings though, which Backbone and Marionette do not provide\n        </p>\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n    <li class=\"footnote\" id=\"fn:2\">\n        <p>\n        In practice Marionette developers would likely use a ui hash on the TodoView, pull the template out into a separate file, and might have the CollectionView be a CompositeView to provide structure around the list.  But I'll dive into all of those things in more detail in future posts.\n        </p>\n        <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n    </li>\n</ol>\n</div>","fields":{"slug":"/2014/12/10/marionette-explained-connecting-your-data-to-your-views"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","javascript"],"category":"frameworks","key":null,"title":"The Case For Marionette.js","description":"Making the case for Marionette.js as a framework for front end development","layout":"post","path":"/2014/12/02/the-case-for-marionette-js","date":"2014-12-02T01:53:52+00:00","dontfeature":null,"isDraft":null},"html":"<p>Building large web applications using <a href=\"http://backbonejs.org/\">Backbone.js</a> can be hard.  Backbone is a great tool, but it’s designed to be minimalist and useful in a wide variety of situations.  As a result, you get less guidance and support from the tool as you scale up than you do from more opinionated frameworks like <a href=\"https://angularjs.org/\">Angular</a> and <a href=\"http://emberjs.com/\">Ember</a>.  When a Backbone application grows, maintaining it requires adding structure, either through a custom set of conventions and components, or based on somebody elses framework.  There are a lot of different Backbone frameworks out there, but I want to make the case for using <a href=\"http://marionettejs.com/\">Marionette.js</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 355px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0c7dbedbcc10868db2db704e69cd9ad/526ee/marionettelogo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 124.47552447552448%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGL0lEQVQ4y1WUeXATVRzHX1JE0RFUHCxJm+y+Pd6mSYo0KRRarkG8GHHwQIHxQGVEYFRUtGVAhmHoEXrnaktpG5q0KS1QwEK5WktJm7HNvraIx+DoiKKO4ljgD6U5nvM2aYE3s8fsfvez39/1AAAAdHWfB+e6etRnz31Jryu7v+wd7g8OrPzr2j/q/uAACMnDoP34CXC4/ThobmmjV2vrofbuEydPNzb6/KDO41Wd6+oBE+uLjk5QV38gqXZ/A/D6/Ov313lI26F2cur0ud96L/TnyvLwjI7OM5Pajhx7qbmlLVjv8RKHs4rU1nla33rnXfDGundULQcP3QZe+3sU7NqdDwqKisHuPYXJedt25Hz6ad6aikpnV1PzQdJx4tRf/oOHvq+t85CycvsPuXnbP8jN2569p8CW5nLXAIerWv3P6M3bQEIIcLprVA5XNX1pbvK3Tr02evMhb1OL0+6sIra9pdeLbCU/u6v2keNfnJQvX/4x+3wgONXhqp5VWm4HlQ63ioY+sZzuGuVhhd0FKuwuc01tvXZ/neeS3eG+UmQr2fLxJ59ply17+r78Attyp6v6qK+pJXb48NGXC2wlPDVT6XArh7IwREDmJNC+9o2kjVd+Ba7i8owDuwseKSwqtu7Y9jlTUlYJNm16H6xavRYUFu4FtwgBO3fteaJ2244H3CXlmSeeW3nPj0lT1KefXaGwgAxFMCikqb6Zngx6sheD3EA/TwAAH1DnjT5LHgCq/OJSdVF9vbrx31HgavbDA16f/thr68C23oCBavtmZ4I/E+YoUIUZAWBWhDKHVgcy51dh3tD6VSo30PjsS0XPEzI5mYaVuTQpP9kIijdvXd3JmQYuMvzxgCXLFxKNG7Cet4ZEoyoBRGp6gyE6I7MiGdTzZAiKJKgXiU+wkIblL6/0LngavF5WDTw7dz1YKmX9fDQFkYscIoN6gdBvMERhmRU1MkuBLAIhTpqMWXFkkDeQs9Z5Y8MMH77ASmPNGgPx60y/+/Xm1AadGTg0xiNlMyTSlmq4dYnhwz2z50SCaeljQ4xAQpxklVkxURSIpmNGuBoS0sj5nMXRkVQY6zZbSeOs7LB/pkT8elOfQ2ty2WcgUgotEX9GTuzrVDbW/3hmLGDJig7pOBLiDSviIbMiBaZgRrg5KBpJz7yFsRE9T7oZQ9Qzd2nMN3tBxK+RiPsxiVRylmhZ1lOxJjY9elHHkWB6RixgnRdRgJz05ngOaduwmBEiA5KZ9M7NocBYF2MgTRqJeDOXRLwZC6NuwRqpzHoyWqY1Ea9GIlQTTLeQcaDMSZsVID2FOInHjEC+SpsV652THRnW86QPSp0+nekn6s5rWTTqzHnmD7vGSMqSDdE2fVrrRT0XDqZnUGA4AfwoARSpwwnghTnZYaznyQiHCmpS0gW/znTDrzUQV7I0Zp+ZRmwzTW//IKDsIT1PgumW6B3ALfK4w7tCzloQpuIQRHVnGANo1RmFZp1pxK01/lepMa5p1xnAICe9kABG7gBuijtklSprMSveUKo8f+EYFcsQNf/C86A2xQw8KcZptVqjsDvZBL7jlIjWKEBzRjiQmSgKb3j9dlEgehgzwhUK7MlZEk4AT4dYBDr0aZPqU4xgn9YIOnTSvYkUbaSavow5Y32WueNt88xEDgdFoxqzYijEG0jAknWV5lOGKETfXeYEGrZqn9aoGoJikgKEaCfV9D+eeXUAmW4qek4yj1c5KeGyDdMxisMIZsXrMkQP0T7FEKnk+HjGx5QV2xQNI1Ad1V+jwzGk4xSgCtOPWJGXIVolQ7QRs2K+DFEVhkhDHSmaOHB8snZgVnTKEH0oQ7RWhmhu6/r3VB0vvjIxenEHcTAYv5dvg9R3HXdo6E7VP8sKShoOgMv3T0sUJR5WKqYzDZGAIZqc+BF9rqWdoHQDO+FQyX2INyR9P/VRcH7+IlDhrllhd7jL6X6YlHCxFbOoAUPUjiF6DUO0CkO0BrNoqwzRqxiiVzBEGzBEy2VWfBtDsVCGyIZZcR1mxbU1+bZVFe6aXcp+mHCyWoaoE7Nov8wiP4YIY4hyZYgqMURH6X6JWSWvZzEUT8oscmBWtMkQHcaM0DmiZaZvufTtlP8Bkk1G0xw1qEcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marionette Logo\"\n        title=\"Marionette Logo\"\n        src=\"/static/a0c7dbedbcc10868db2db704e69cd9ad/526ee/marionettelogo.png\"\n        srcset=\"/static/a0c7dbedbcc10868db2db704e69cd9ad/a6b04/marionettelogo.png 143w,\n/static/a0c7dbedbcc10868db2db704e69cd9ad/0e2fe/marionettelogo.png 285w,\n/static/a0c7dbedbcc10868db2db704e69cd9ad/526ee/marionettelogo.png 355w\"\n        sizes=\"(max-width: 355px) 100vw, 355px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I’ve been using Marionette for the past year, and it’s been incredibly valuable.  It’s really helped ease a lot of the initial issues I found with scaling out Backbone.  But there was one big issue with Marionette when I started with it. It was not simple to figure out how exactly I should be using it.</p>\n<p>When I start to use a new piece of software, I’m always hoping to see 2 types of documentation.  The first is the nitty-gritty stuff that most people associate with documentation.  What are the APIs available, what can you pass to them, what components, features, or functions does it provide?  The second type is what I think of as the “story telling” documentation.  It overlaps a bit with marketing, but basically it’s the documentation that explains the value of the software, gives you ideas on how you might use it, and outlines the philosophy that lead to the tool.  Without the first type of documentation you end up with an exciting idea that you may struggle to implement.  Without the second type, you can end up with a lot of nice tools that you aren’t sure how to combine together.</p>\n<p>Marionette is great, but it’s a tool that doesn’t have much of the story telling documentation I mentioned above.  It gets off to a good start, with the following intro on its website:</p>\n<blockquote>\n<p>Backbone.Marionette is a composite application library for Backbone.js that aims to simplify the construction of large scale JavaScript applications.</p>\n</blockquote>\n<blockquote>\n<p>It is a Collection of common design and implementation patterns found in the applications that we have been building with Backbone, and includes pieces inspired by composite application architectures, event-driven architectures, messaging architectures, and more.</p>\n</blockquote>\n<p>But the site fails to follow through on explaining the values or philosophy that went into building it.  Instead, when you start with Marionette you’re left with a bunch of components that are well documented individually, without much guidance on how to put them together or use them.  Any explanation of the value added is scoped to an individual component in the docs, and there’s no real indication of why these particular components are bundled together. I’m going to try and provide this type of high level explanation of the value that Marionette can bring, laying out the big picture in this piece and then digging into each area of value in future posts.  To start, let’s look at the problems that Marionette is trying to solve.</p>\n<h3>Decisions, Decisions</h3>\n<p>Developing with Backbone is an exercise in decision making.  Backbone provides you with a minimalist set of Models and Collections that essentially serve as light wrappers around JavaScript objects synced over Ajax. It provides you lightweight Views that associate an object with a DOM node and some data.  It provides a router that associates URLs with function, and it provides helpers for managing events between all of these options.  That leaves Backbone developers with many questions to answer.</p>\n<ul>\n<li><strong>How do you render Views?</strong> - By default, Backbone’s render method does nothing. To use it, you need to fill in your own rendering function.  That could use a templating system like Underscore templates or Handlebars, jQuery manipulation of the DOM, or simple string inserts with <code class=\"language-text\">.innerHTML()</code>.  You could use the same method for every View, or mix it up and use different methods for different Views.</li>\n<li><strong>How do you manage relationships between objects?</strong> - By default Backbone provides a way to manage sets of Models as a Collection, but it doesn’t have any built-in utilities for handling nested Models or Collections.  And if you want to nest your Views you’re completely on your own.  You can have a View manage it’s child Views, have a single object that manages all Views, or let each View manage itself.</li>\n<li><strong>How do your Views communicate between each other?</strong> - Views will often need to communicate with each other.  If for instance one View needs to change the contents of another area of the page, it could do so directly through jQuery, could get a direct reference to a View managing that area and call a function on it, change a Model that another View listens to, adjust a URL that a router listens to, or fire an event that another View could respond to. Apps can use some combination of all of these methods.</li>\n<li><strong>How do you avoid repeating yourself?</strong> - If you’re not careful, Backbone can involve a lot of boilerplate.  Taking the naive approach, you could end up writing rendering code, View management code and event management code over and over again in every View.  If you try to get around that using inheritance, you can end up with brittle designs that require you to make calls down to a Views prototype when you want View specific code.  Avoiding that type of repetition and the maintenance overhead it brings is a challenge.</li>\n<li><strong>How do you manage a View’s life-cycle??</strong> - What code is responsible for rendering a View?  Does it render itself on creation?  Or is it the responsibility of the object creating it?  Does it get attached to the DOM immediately on render? Or is that a separate step?  When the View is removed from the DOM or deleted, how do you handle any cleanup that is needed?</li>\n<li><strong>How do you structure your application?</strong> - How do you get your app started?  Do you have a central object that starts everything, or is it more distributed?  If you do centralize, do you use the router to start things, or provide some other object for managing your code?</li>\n<li><strong>How do you prevent memory leaks?</strong> - If your application is a <a href=\"http://en.wikipedia.org/wiki/Single-page_application\">Single Page Application</a> or it contains long lasting interactive sections, another issue that you may need to deal with is memory leaks.  It can be easy to create “zombie Views” in Backbone if you’re not attentive to the need to unregister events attached to a View after you’re done with it.</li>\n</ul>\n<p>That’s just a small sample of the type of decision making that you have to make for a Backbone project.  Those questions signify flexibility, but they also represent mental overhead.  If you’re like me, you see these common problems and think that you can get better results relying on a shared solution that leverages the experience of the community.</p>\n<h3>What does Marionette Give You?</h3>\n<p>Marionette is an attempt to provide this type of shared solution, capturing Backbone best practices as a set of components and design patterns.  So what value does it provide?  Marionette gives you:</p>\n<ul>\n<li><strong>A Standardized Rendering process</strong> - Marionette takes an opinionated stand on how Views should be rendered.  Without any additional configuration, it will take a template that you specify with a View’s template property, compile it with Underscore’s templating function and pass it a model or collection.  If you need to pass it other data, or want to use a different template library, Marionette provides hooks to customize that process in a <a href=\"http://en.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY</a> way.</li>\n<li><strong>A consistent View lifecycle</strong> - Marionette defines a consistent View life cycle where Views are initialized, rendered, shown, refreshed, and destroyed.  Each of these events has events and callbacks associated it, and any common boilerplate associated with them is handled behind the scenes.</li>\n<li><strong>The ability to define and manage complex layouts</strong> - Marionette provides region objects that define portions of the DOM that can display and swap out Views.  Combined with utilities to manage child views, you can easily create deeply nested View structures with Marionette while minimizing complexity.</li>\n<li><strong>A central event bus with semantic events to simplify communication between Views</strong> - Marionette includes Backbone.Wreqr or Backbone Radio as an event bus to allow communication between Views without explicitly coupling them.</li>\n<li><strong>Helpers to help you write DRY Code</strong> - In addition to centralizing the rendering and view management code, Marionette provides hooks to allow you to abstract away details of the DOM and events in your View code, and a mechanism to pull common ui operations out into separate reusable objects</li>\n<li><strong>Helpers to avoid “Zombie Views” and memory leaks</strong> - Marionette’s lifecycle includes an explicit destroy phase that cleans up many common sources of memory leaks, and provides a hook for you to take care of the rest</li>\n<li><strong>A central Application object to initialize your application</strong> - Using Marionette, you’re able to specify a set of initializers that run any code that needs to be executed before your application starts, providing a clear structure and starting point to your app.</li>\n</ul>\n<p>That’s not the complete feature set, but it is the essential sales pitch.  I’ll be digging deeper into each of these advantages over my next few posts, but the important thing to understand is that Marionette provides a framework for building Backbone apps that builds on established practices from the community.  If you’re building a Backbone application and want to focus on the problems that are specific to your application, Marionette is a great way to move past common issues and focus on what’s unique to you.</p>\n<h3>More Resources</h3>\n<ul>\n<li>For a practical introduction to Marionette, you could do much worse than <a href=\"https://www.youtube.com/watch?v=PrQSpdWkN6Q\">this talk</a> from the recent Nodevember conference.  Jeremy Fairbank, a member of the Marionette core team, explained how you can use Marionette to improve the architecture of your Backbone apps.</li>\n<li>The resource that best helped me understand Marionette isn’t technically about Marionette at all.  Derek Bailey’s book <a href=\"https://leanpub.com/building-backbone-plugins?a=3a4Srv2pP9p87WQ_eoDoGp\">Building Backbone Plugins</a> lays out the philosophy and thinking behind Marionette without directly referencing it, explaining the challenges that he faced in building a useful abstraction over Backbone.  You can read my <a href=\"http://benmccormick.org/2014/07/09/understanding-the-backbone-mindset-a-review-of-building-backbone-plugins-by-derick-bailey/\">full review</a> if you’re interested, but I highly recommend it for any Backbone developer as a way of better understanding how to structure your Backbone applications.</li>\n</ul>","fields":{"slug":"/2014/12/02/the-case-for-marionette-js"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","javascript","book-review"],"category":"reviews","key":null,"title":"Book Review: Building Backbone Plugins","description":"A book review of a great deep dive into Backbone best practices","layout":"review","path":"/2014/07/09/understanding-the-backbone-mindset-a-review-of-building-backbone-plugins-by-derick-bailey","date":"2014-07-09T11:38:40+00:00","dontfeature":null,"isDraft":null},"html":"<p>As the saying goes, judging a book by its cover is a dangerous business.  A lot of books have titles that promise great things, and content that under-delivers and disappoints.  Every once in a while, though, you find a gem that does the opposite. <a href=\"https://leanpub.com/building-backbone-plugins?a=3a4Srv2pP9p87WQ_eoDoGp\">Building Backbone Plugins</a> sounds like a niche book for library developers.  But it actually is the best resource on <a href=\"http://backbonejs.org/\">Backbone.JS</a> development I’ve found, a book that will benefit anyone who works with Backbone.</p>\n<p>So what’s the fuss about?  The book’s author, Derick Bailey, is the creator of <a href=\"http://marionettejs.com/\">Marionette.JS</a>, a popular application framework for Backbone Apps.  <em>Building Backbone Plugins</em> explores the problems that Derick tried to solve with Marionette and then explains the mindset behind Marionette’s solutions.  It is not a book exclusively about Marionette though.  The solutions in the book are example code that represents a simplified view of what Marionette does.  Instead the book looks at the common problems any developer will encounter in a Backbone project, and provides a possible solution, while working hard to generalize the lessons and concepts as much as possible.</p>\n<p>Building Backbone Plugins is divided into 4 parts.  The first two look at Backbone Views and dealing with the DOM.  The third looks at Models and Collections.  The last part deals with application structure and events.  These are followed by a series of appendices that read as stretched-out blog posts on a variety of related topics that didn’t quite fit into one of the 4 buckets that the rest of the book falls into.</p>\n<p>In my mind, the first two parts are the heart of the book.  They’re a step-by-step look at how you can remove repetitive code from your Backbone Views and structure your application to expose the developers intent in each file, rather than burying the purpose in boilerplate. I learned a lot about how I could improve my Backbone code, and these two sections actually inspired me to start integrating Marionette into a project at work. The application structure advice in the fourth part is also particularly strong, with quality information about events, and ideas on how to scale a Backbone application beyond TodoMVC sizes.</p>\n<p>On the other hand, the appendices feel a bit tacked on, and seem to be full of stuff the author wanted to add but couldn’t figure out how to weave into the rest of the book.  Since it’s legitimate content rather than simply greater detail on things that have been already covered, they don’t act as real appendices and leave the book feeling a bit unfocused at the end. When you combine that with some weaker content in part 3 (where the author moves away from Marionette into some other smaller examples), the book can feel a bit choppy and directionless.  But the goldmine of knowledge and perspective in Parts 1, 2 and 4 more than make up for it.</p>\n<p>I would not recommend BBP as a “first book” on Backbone.  It assumes plenty of knowledge, and doesn’t attempt to teach Backbone basics.  But for an intermediate level Backbone developer, or any Javascript developer who wants to grow their thinking about application structure, there is plenty of solid insight here. Meditations on handling nested views, cleaning up unused views, abstracting out repetitive boilerplate, and structuring genuinely large applications are all worth the price of the book.  Finally, if you’re writing code using Marionette already, this book is a must-have.  Marionette’s documentation does a great job of explaining the “what” and the “how” of Marionette.  But this book explains the all-important “why” of a framework that is based on encoding Backbone best practices into a library. It will help you think like an experienced Backbone developer.</p>\n<h3>More Resources</h3>\n<ul>\n<li><a href=\"https://leanpub.com/building-backbone-plugins?a=3a4Srv2pP9p87WQ_eoDoGp\">Building Backbone Plugins</a> - You can purchase the book on leanpub. (Note: Affiliate Link)</li>\n<li><a href=\"http://addyosmani.github.io/backbone-fundamentals/\">Developing Backbone Applications</a> - This book by Addy Osmani is a great resource for Backbone Beginners who want a more basic introduction to Backbone concepts.  It’s available as a free HTMl site on github, but you also can <a href=\"http://www.amazon.com/gp/product/1449328253/ref=as_li_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1449328253&linkCode=as2&tag=productjavasc-20&linkId=5RQTSOTPFIGKMLJK\">purchase it as a paperback or ebook.</a><img src=\"http://ir-na.amazon-adsystem.com/e/ir?t=productjavasc-20&amp;l=as2&amp;o=1&amp;a=1449328253\" width=\"1\" height=\"1\" alt=\"\" style=\"border:none !important; margin:0px !important;\"></li>\n<li><a href=\"http://marionettejs.com/\">Marionette.js</a> - This framework serves as the inspiration for Derick’s book and is a great way to structure larger Backbone apps.</li>\n</ul>","fields":{"slug":"/2014/07/09/understanding-the-backbone-mindset-a-review-of-building-backbone-plugins-by-derick-bailey"}}},{"node":{"frontmatter":{"readNext":"bb-es6-2,backbone-eco,backbone-devs-react","topics":["javascript","backbone"],"category":"frameworks","key":"bb-es6-1","title":"Why Backbone.js and ES6 Classes Don't Mix","description":"A rundown of the challenges of using ES6 classes in Backbone","layout":"post","path":"/2015/04/07/es6-classes-and-backbone-js","date":"2015-04-07T03:19:44+00:00","dontfeature":null,"isDraft":null},"html":"<p>I’ve seen some confusion out there about how to use ES6 Classes with <a href=\"http://backbonejs.org/\">Backbone</a>.  In the original version of the ES6 class spec, this was actually a simple thing to do, though the syntax wasn’t great.  With the finalized specification for classes and subclassing though, it’s no longer practical to try and use the two together.  Here’s a short explanation of the issues, as well as a discussion on whether any of this matters.</p>\n<h3>What are ES6 Classes anyway?</h3>\n<p>ES6 <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup> is the newest version of JavaScript. It provides a variety of new features for JavaScript developers including native Promises, destructuring, modules and default function parameters.  One of these new features is a native JavaScript Class implementation.  It allows us to simplify class patterns that were formerly a bit verbose in JavaScript.  Take this example of JavaScript inheritance from <a href=\"http://www.amazon.com/gp/product/0596517742/ref=as_li_tl?ie=UTF8&#x26;camp=1789&#x26;creative=390957&#x26;creativeASIN=0596517742&#x26;linkCode=as2&#x26;tag=benmccormicko-20&#x26;linkId=XZEWUV7PCEO7DNTY\">Javascript: The Good Parts</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">Mammal</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Mammal</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">get_name</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Mammal</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">says</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>saying <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">Cat</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>saying <span class=\"token operator\">=</span> <span class=\"token string\">'meow'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Cat</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Mammal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Cat</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">purr</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> i<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            s <span class=\"token operator\">+=</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        s <span class=\"token operator\">+=</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Cat</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">get_name</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">says</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">says</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>It’s a bit verbose.  With ES6 classes we can instead write:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Mammal</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">get_name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">says</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>saying <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Cat</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Mammal</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>saying <span class=\"token operator\">=</span> <span class=\"token string\">'meow'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">purr</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> i<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                s <span class=\"token operator\">+=</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            s <span class=\"token operator\">+=</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">get_name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">says</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">says</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This allows us to clean things up a lot, removing some boilerplate and focusing the code on our intended functionality.  ES6 classes work quite nicely for simple JavaScript classes like that.  But what about Backbone objects like Models and Views?</p>\n<p>We might think that we can just treat them as classes and the new syntax will “just work”, similar to how CoffeeScript classes function.  So we’d take this example from the <a href=\"http://backbonejs.org/\">Backbone website</a></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> DocumentRow <span class=\"token operator\">=</span> Backbone<span class=\"token punctuation\">.</span>View<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span> <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">\"document-row\"</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function-variable function\">initialize</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and convert it to something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentRow</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span> <span class=\"token string\">\"li\"</span>\n\n  <span class=\"token literal-property property\">className</span><span class=\"token operator\">:</span> <span class=\"token string\">\"document-row\"</span>\n\n  <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Unfortunately this errors out.  So what’s the problem?  It turns out that ES6 classes don’t support adding properties directly to the class instance, only functions/methods.  This makes sense when you understand what is actually happening.  With JavaScript inheritance, properties are generally meant to be set on an instance when its created, while methods are set on the prototype object and shared between every instance.  If properties are added to the prototype directly they will also get shared between every instance, creating problems if the property is an object with mutable state like an array.  You can see that in the following simple example:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var testClass = function(){};\ntestClass.prototype.foo = [];\n\nvar testA = new testClass();\nvar testB = new testClass();\n\nconsole.log(testA.foo.length); //0\nconsole.log(testB.foo.length); //0\ntestA.foo.push('x');\nconsole.log(testA.foo.length); //1\nconsole.log(testB.foo.length); //1</code></pre></div>\n<p>When we place a property on the prototype it can cause unexpected side effects.  Instead most of the time, we want to use the class’ constructor to add any properties to each new instance.  <del>Since that is a bit unwieldy when adding many properties, Backbone abstracts away this difference with its extend function.</del> <strong>Edit: Backbone actually does add properties directly to the prototype, going against conventions a bit.</strong> But ES6 classes are focused on the prototype, and the code that is shared between instances. They make the opinionated default properties for instances are handled in the constructor. This maps very cleanly to the current semantics for existing JavaScript class creation, but is different than Backbone’s abstraction. So using ES6 classes for Backbone, we’ll need to give up this nicety.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentRow</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tagName <span class=\"token operator\">=</span>  <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"document-row\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Until recently, this was a valid way of defining a Backbone View with ES6 classes.  It’s questionable whether it was a real gain, given the relative ugliness of the syntax for defining instance properties, but it did work.   Unfortunately, in the final version of the ES6 spec for classes, this is no longer valid.  The final spec requires <code class=\"language-text\">super()</code> to be called before <code class=\"language-text\">this</code> is referenced in a constructor for classes that are extending another class.  So we have to change our constructor to look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentRow</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tagName <span class=\"token operator\">=</span>  <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"document-row\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Unfortunately this doesn’t do what we expect. Backbone does significant initialization processing in its constructor, and most properties that Backbone expects to be defined on a Model or View need to be pulled in prior to the constructor executing in order to be used properly.  So with the final ES6 spec we no longer have any way of using declarative properties on subclasses if we want them to be processed by the constructor.</p>\n<h3>So what are our options?</h3>\n<p>There are a few workarounds here, but they’re ugly.  First, Backbone allows any of of its instance properties to also be defined as methods.  So we can rewrite our View like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentRow</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">tagName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">className</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"document-row\"</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">events</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We’re starting to get ridiculous here though.  First, this isn’t a one to one conversion, so if we’re converting existing code, we could develop bugs from any code that directly referenced a View’s properties.  And if that code modified those properties, its no longer as simple to modify them again.  Of course if it’s a property that isn’t processed within the constructor like the <code class=\"language-text\">url</code> property for Models, we can simply leave it as is.  But suddenly we’re requiring ourselves to know what properties are processed in the constructor or not, as well as wrapping and rewrapping properties in functions.  We’ve added a lot of complexity, and it’s not totally clear what we’ve gained.</p>\n<p>The second option is to simply re-run the Backbone View or Model constructor a second time after adding the initialization properties.  This has a few issues though.  First, it’s ugly.  Nobody wants to do this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentRow</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tagName <span class=\"token operator\">=</span>  <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"document-row\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"click .icon\"</span><span class=\"token operator\">:</span>          <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.edit\"</span><span class=\"token operator\">:</span>   <span class=\"token string\">\"openEditDialog\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"click .button.delete\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"destroy\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        Backbone<span class=\"token punctuation\">.</span><span class=\"token function\">View</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>But it also opens an opportunity for more subtle bugs.  Constructors aren’t meant to be run twice.  Doing so, will among other things cause the Views initialization function to run twice, with a different <code class=\"language-text\">cid</code> (Backbone’s internal unique id system) set on the View each time. That violates a ton of expectations, again for no clear gain.  So the long and the short of it is that there’s no longer any viable way to use ES6 classes for Backbone objects without a clear loss in functionality and predictability.</p>\n<h3>So Does Any Of This Matter?</h3>\n<p>The idea of using ES6 classes for Backbone has some appeal.  The “class” keyword is nice syntax and there’s an appeal to using more standardized code and fewer library extensions.  Right now, many developers are also just curious about ES6 and how it fits into their workflow.  But does it really matter that this doesn’t work?  I think a case can be made either way, with 2 clear points in each sides favor.  The case for this being a problem:</p>\n<ol>\n<li>\n<p><strong>ES6 Classes are becoming the standard</strong></p>\n<p>By pretty much any standard, Backbone is currently one of the 4 most popular JavaScript frameworks/libraries for building web applications, along with <a href=\"https://angular.io/\">Angular</a>, <a href=\"http://emberjs.com/\">Ember</a>, and <a href=\"https://facebook.github.io/react/\">React</a>.  What do the Angular, Ember, and React teams all have in common?  They’re each working to make sure that current or future versions of their frameworks use ES6 classes to define objects.  As this style of code becomes ubiquitous, Backbone will start to look even more boilerplate heavy and non-standard.  Developers will also start learning about ES6 classes as part of standard JavaScript training, requiring them to map their knowledge about prototypes and class syntax to Backbone’s concepts, rather than just using things they already understand as in other libraries.</p>\n</li>\n<li>\n<p><strong>More Native == Less Library code</strong></p>\n<p>This is more of a far-future advantage, but at some point ES6 classes will be usable everywhere without library support, allowing libraries based on it to include less code for handling this themselves.<sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup></p>\n</li>\n</ol>\n<p>And the case that it doesn’t really matter:</p>\n<ol>\n<li>\n<p><strong>Just because its standardized doesn’t make it reusable</strong></p>\n<p>While it’s true that ES6 classes are a standard, realistically Backbone code written using a class syntax isn’t going to be easier or harder to convert to equivalent code using React for example.  Backbone’s way of using it’s standard functions and properties is a much bigger obstacle to code reuse than the particular way it defines classes.  ES6 classes and Backbone objects are in the end just different syntactic sugar over the same prototypical inheritance concepts.  A developer who understands the concepts will be able to use both, and code written in either style will not be easy to reuse outside the Backbone ecosystem.</p>\n</li>\n<li>\n<p><strong>Sometimes doing it yourself is just better</strong></p>\n<p>The truth is that sometimes there are advantages to writing your own APIs.  Backbone’s class code makes the things that are important to using Backbone easy, without any of the trade offs discussed in this article.  There’s something to be said for using the right interface for the job.  There are trade offs for this, just as their are trade offs in other libraries choice to require or encourage a build step for their code.  Both these choices improve the developer API at a cost (complexity, extra code, extra process, etc).  Whether those trade offs are worth it is a judgment call.</p>\n</li>\n</ol>\n<p>It will be interesting to see how the lack of standardization here effects Backbone in the long run, if it does at all.  Along with native Promises, ES6 now offers 2 major features that are similar to but incompatible with important Backbone features <sup id=\"fnref:3\"><a href=\"#fn:3\">3</a></sup>. Along with ES5’s get and set capabilities and ES7’s Object.Observe <sup id=\"fnref:4\"><a href=\"#fn:4\">4</a></sup>, a significant number of Backbone features that once required library code will someday soon be natively supported. Of course Backbone has never been a set of features as much as a way of writing programs.  Since Backbone is essentially finished and there are <a href=\"https://github.com/jashkenas/backbone/issues/3405\">no plans to significantly change the interface</a>, the continued improvements to the standard language serve as both a validation of Backbone’s core concepts as well as a challenge to its future.</p>\n<p><strong>Update:</strong> <em>There’s been a <a href=\"https://github.com/jashkenas/backbone/issues/3560\">great discussion of this issue</a> on Backbone’s Github issue tracker.  Feel free to weigh in there if you’re interested in figuring this out.</em></p>\n<h3>More Resources</h3>\n<ul>\n<li>\n<p>If you do want to use ES6 now, <a href=\"https://babeljs.io/\">Babel</a> is the best tool for making that happen.  The Babel website also contains a <a href=\"https://babeljs.io/docs/learn-es6/\">great rundown</a> of the various features that make up ES6.</p>\n</li>\n<li>\n<p>Axel Rauschmayer has <a href=\"http://www.2ality.com/2015/02/es6-classes-final.html\">a great article</a> describing the final spec for ES6 classes, including a description of the changes that made them incompatible with Backbone.</p>\n</li>\n<li>\n<p>React Developers have noted the same issues with property initializers that Backbone users encounter.  As part of version 0.13 of React, they’re supporting a special property initialization syntax for classes, which may eventually be standardized.  There’s more info on that in <a href=\"https://esdiscuss.org/topic/es7-property-initializers\">this ESDiscuss thread</a>.  This standard is still being worked out but an experimental support version is available in Babel 5.0.0.  Unfortunately that version defines class properties as being instantiated after the superclass constructor is run, so this doesn’t solve Backbone’s issues here.</p>\n</li>\n<li>\n<p>If you were confused by the discussion of prototypes and the code examples of non-ES6 JavaScript classes, I wrote a quick explanation of <a href=\"http://benmccormick.org/2013/01/12/explaining-javascript-object-oriented-programming/\">Object Oriented Programming in Javascript</a> back in 2012.</p>\n</li>\n</ul>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        ECMAScript version 6, now officially ECMAScript 2015\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n        <li class=\"footnote\" id=\"fn:2\">\n            <p>\n            This is admittedly a bigger advantage for Ember, Angular 2.0, and React, which all encourage using a build step to convert ES6/Typescript/JSX to ES5 JavaScript.  That means they can all rely on ES6 class support now, since older browser support is handled through compilation.  \n            </p><p>\n            Backbone doesn't require or encourage a transpilation step (although CoffeeScript works very nicely for this case), and so it's more important for it to have a top-notch API supported by all JavaScript engines that it is likely to be run on.  It will be a long time before that is true of ES6 classes.\n            <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n        </li>\n    <li class=\"footnote\" id=\"fn:3\">\n        <p>\n        Promises are similar to jQuery deferreds, which are technically not a Backbone feature, but are a key part of Backbone development for many developers because they're used with Backbone sync.\n        <a href=\"#fnref:3\" title=\"return to article\"> ↩</a></p>\n    </li>\n</ol>\n</div>","fields":{"slug":"/2015/04/07/es6-classes-and-backbone-js"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","javascript"],"category":"frameworks","key":null,"title":"marionette-service: Service Objects for Marionette","description":"Introducing marionette-service, a services library for Marionette apps","layout":"post","path":"/2015/05/25/marionette-service-service-objects-for-marionette","date":"2015-05-25T14:02:00+00:00","dontfeature":null,"isDraft":null},"html":"<p><a href=\"http://backbonejs.org/\">Backbone.js</a> is a great way to structure web applications.  Its built in Models, Collections, Views and Routers are a very reasonable “minimum common ground” that pretty much any web project will be able to put to good use.  But more sophisticated applications have needs that extend beyond these basic concepts.  In addition to having some data that needs to be displayed, rich web apps often have resources and functionality that need to be shared across many different Views and Models.  There’s no definitive way to implement this consistently, but a common pattern is to create “services” of some type that Views and Models can communicate with.</p>\n<p>This pattern is easiest to show with an example.  Let’s take a look at a simple logging implementation.  We might start out just using simple console commands throughout our code like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">doFoo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Do a thing</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'We did Foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>That’s fine for a while, but what if we wanted to switch to a logging library like <a href=\"http://js.jsnlog.com/\">JSNLog</a> or some 3rd party service?  We’d have a huge find and replace job to work through.  It’s better to centralize.  <a href=\"https://github.com/marionettejs/backbone.radio\">Backbone.Radio</a> is perfect for this purpose.  We can use it to centralize our logic and create a logging module:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Radio <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone.radio'</span>\n\n<span class=\"token keyword\">let</span> loggingChannel <span class=\"token operator\">=</span> Radio<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nloggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nloggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'logError'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nloggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'logWarning'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We could then log a message like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">doFoo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Do a thing</span>\n  loggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">command</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'We did Foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>There are 2 main use cases for this sort of service pattern: centralizing common tasks and UI actions like logging or displaying an alert, and requesting a resource without having to worry about where it came from.  Both are easily possible using Backbone Radio, using code very similar to whats above.</p>\n<p>Using Backbone Radio like this is a useful pattern, but it’s very ad hoc and imperative.  Not very Backbone-like.  What if we could follow the Marionette route of pulling a useful pattern into an object and allow it to be configured declaratively?  We could instead create a “Service Object” like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Mn <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone.marionette'</span>\n\n<span class=\"token keyword\">let</span> LoggingService <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>Service<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">radioCommands</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'log log'</span><span class=\"token operator\">:</span> <span class=\"token string\">'logMessage'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'log logError'</span><span class=\"token operator\">:</span> <span class=\"token string\">'logError'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'log logWarning'</span><span class=\"token operator\">:</span> <span class=\"token string\">'logWarning'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">logMessage</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">logError</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">logWarning</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> logger <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LoggingService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>This is much more in the Backbone and Marionette style, with a declarative hash to delegate to different functions based on channels and the events passed.  It makes it much easier to create “service objects” to make functionality available in a decoupled way.</p>\n<p>Declarative radio handling will be <a href=\"https://github.com/marionettejs/backbone.marionette/pull/2431\">coming to Marionette Core</a> as part of Marionette version 3, but for now I’ve written a small library to make it available in the short term.</p>\n<p><a href=\"https://github.com/benmccormick/marionette-service\">marionette-service</a> provides the above Service Object to Marionette.  It allows you to listen to Radio Events, Commands or Requests, and associate them with callback functions.  It’s compatible with plans for Marionette v3, so all that will be required to remove it when upgrading will be a name change for service objects to use Marionette.Object rather than Marionette.Service. I’m excited to see how people use it.</p>\n<p>Marionette-service is available to install both on <a href=\"https://www.npmjs.com/package/marionette-service\">npm</a>, and <a href=\"http://bower.io/search/?q=marionette%20service\">bower</a>.  Or you can clone the repo directly from <a href=\"https://github.com/benmccormick/marionette-service\">Github</a>.</p>\n<h3>More Resources</h3>\n<ul>\n<li>If you’re new to Backbone.Radio you can learn more about it from <a href=\"http://benmccormick.org/2015/01/26/backbone-radio/\">my post</a>, or from the <a href=\"https://github.com/marionettejs/backbone.radio\">official docs</a>.</li>\n<li>If you’re confused why somebody would want to separate out the implementation of a service through Radio rather than passing a service object directly, <a href=\"http://arguments.callee.info/2009/05/18/javascript-design-patterns--mediator/\">this is a nice piece by HB Stone</a> on the power of loose coupling and the Mediator Pattern</li>\n</ul>","fields":{"slug":"/2015/05/25/marionette-service-service-objects-for-marionette"}}},{"node":{"frontmatter":{"readNext":"bb-es6-1,backbone-devs-react,mn-series","topics":["javascript","backbone"],"category":"frameworks","key":"bb-es6-2","title":"Backbone and ES6 Classes Revisited","description":"A second look at using ES6 classes with Backbone","layout":"post","path":"/2015/07/06/backbone-and-es6-classes-revisited","date":"2015-07-06T11:22:22+00:00","dontfeature":null,"isDraft":null},"html":"<p>A few weeks ago I wrote <a href=\"http://benmccormick.org/2015/04/07/es6-classes-and-backbone-js/\">an article</a> explaining why the final spec for classes in the ES6/ES2015 version of JavaScript was not usable in Backbone applications.  That post got a lot of great feedback, including this <a href=\"https://github.com/jashkenas/backbone/issues/3560\">discussion</a> with the Backbone core team. The gist of that discussion has been that there are several ways to make ES6 classes work with Backbone now, though they may be less clean than the current <em>Backbone.extend</em> syntax.  But there’s hope for a really great experience: decorators, a <a href=\"https://github.com/wycats/javascript-decorators\">proposed feature for the ES7/ES2016 spec</a>, provide a much cleaner interface when working with Backbone and native classes.</p>\n<p>Let’s start with a quick reminder on the problem that Backbone developers face when adapting ES6 classes.  Both <em>Backbone.extend</em> and ES6 classes serve as syntactic sugar around traditional JavaScript inheritance methods.  So the following code snippets are effectively equivalent:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> ExampleView <span class=\"token operator\">=</span> Backbone<span class=\"token punctuation\">.</span>View<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">foo</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExampleView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>and each corresponds roughly to this vanilla ES5 snippet</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">ExampleView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Backbone<span class=\"token punctuation\">.</span><span class=\"token function\">View</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">ExampleView</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>Backbone<span class=\"token punctuation\">.</span>View<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ExampleView</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> Backbone<span class=\"token punctuation\">.</span>View<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ExampleView</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>All of that works fine.  The problem is that even though these abstractions are similar, they’re not quite the same.  Specifically ES6 class syntax supports an opinionated subset of what you can accomplish with plain prototype inheritance.  There’s good reason for this, since many developers don’t understand prototype inheritance and can shoot themselves in the foot.  But ES6 class restrictions don’t mesh well with Backbone’s conventions.  Specifically, Backbone relies on adding properties to a class’ prototype before a class’ constructor is invoked <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup>.  ES6 classes don’t provide any way to define properties on the prototype as part of the class definition.  They also do not allow you to add instance properties to a constructor prior to calling super() to run a parent class’ constructor.  As a result, properties that are processed within Backbone objects’ constructors like <code class=\"language-text\">events</code>, <code class=\"language-text\">className</code>, <code class=\"language-text\">urlRoot</code> and others can’t be set within an ES6 class definition without resorting to some less than beautiful syntax.  There are however at least 3 different ways of dealing with this problem under the ES6 spec.  I’ll take a look at each of them.</p>\n<h3>ES6 solutions</h3>\n<p>The 3 main solutions I’ve seen proposed for using the current ES6 class spec with Backbone classes are passing properties to the <code class=\"language-text\">super</code> function, creating everything as a method, and adding properties to the prototype outside of the class definition.  I’ll go through those one by one, using <a href=\"https://github.com/tastejs/todomvc/blob/gh-pages/examples/backbone_require/js/views/todos.js\">a view from one of the Backbone TodoMVC implementations</a> as an example.</p>\n<h4>Pass properties to the super constructor</h4>\n<p>The first solution is to define a constructor function for each Backbone object that has properties, and pass the properties directly to the constructor.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> $ <span class=\"token keyword\">from</span> <span class=\"token string\">'jquery'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Backbone <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'underscore'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> todosTemplate <span class=\"token keyword\">from</span> <span class=\"token string\">'text!templates/todos.html'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Common <span class=\"token keyword\">from</span> <span class=\"token string\">'common'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TodoView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span>  <span class=\"token string\">'li'</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>todosTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n            <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string-property property\">'click .toggle'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'toggleCompleted'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">'dblclick label'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'edit'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">'click .destroy'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'clear'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">'keypress .edit'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'updateOnEnter'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">'keydown .edit'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'revertOnEscape'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">'blur .edit'</span><span class=\"token operator\">:</span>       <span class=\"token string\">'close'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>toggleVisible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> isCompleted <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token comment\">// hidden cases only</span>\n            <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isCompleted <span class=\"token operator\">&amp;&amp;</span> Common<span class=\"token punctuation\">.</span>TodoFilter <span class=\"token operator\">===</span> <span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n            <span class=\"token punctuation\">(</span>isCompleted <span class=\"token operator\">&amp;&amp;</span> Common<span class=\"token punctuation\">.</span>TodoFilter <span class=\"token operator\">===</span> <span class=\"token string\">'active'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleCompleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> trimmedValue <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>trimmedValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> trimmedValue <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">!==</span> trimmedValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">updateOnEnter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>keyCode <span class=\"token operator\">===</span> Common<span class=\"token punctuation\">.</span><span class=\"token constant\">ENTER_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">revertOnEscape</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>which <span class=\"token operator\">===</span> Common<span class=\"token punctuation\">.</span><span class=\"token constant\">ESCAPE_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// Also reset the hidden input back to the original value.</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TodoView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>There are a few advantages to this approach.  It keeps everything within the class definition, and lets Backbone itself manage attaching properties to the prototype, assuring compatibility with existing code.  However it adds a constructor call to a class that otherwise wouldn’t need one, making it less obvious when a developer is actually modifying the constructor to do something important.  It also isolates properties from methods, whereas Backbone philosophically has always treated them interchangeably.  In fact that philosophy is the key to the next solution.</p>\n<h4>Treat everything like a method</h4>\n<p>Backbone evaluates all of its properties using Underscore’s <code class=\"language-text\">_.result</code> function <sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup>. <code class=\"language-text\">_.result</code> checks to see if an object property is a function. If it is then <code class=\"language-text\">_.result</code> will evaluate it and return the result.  This allows Backbone to accept its properties as either an object or a function.  Very handy.  So one workaround to the constructor problem is to make everything a method, including properties.  We can actually go one better than this, and use the <code class=\"language-text\">get</code> keyword to make our methods serve as <em>getters</em> for a property.  This means they will be accessible as properties, but defined as methods, retaining compatibility with any existing references if you’re converting existing code.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">TodoView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">tagName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token string\">'li'</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>todosTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">events</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">'click .toggle'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'toggleCompleted'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'dblclick label'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'edit'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'click .destroy'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'clear'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'keypress .edit'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'updateOnEnter'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'keydown .edit'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'revertOnEscape'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'blur .edit'</span><span class=\"token operator\">:</span>       <span class=\"token string\">'close'</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>toggleVisible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//... etc</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TodoView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>This approach uses only standard class syntax, which is great.  Getters and methods are highly idiomatic class structures, and work fine with Backbone right now.  They also enforce the immutability of these properties, a design concern with the current Backbone property implementation <sup id=\"fnref:3\"><a href=\"#fn:3\">3</a></sup>.  But lets be real, <code class=\"language-text\">get tagName() { return 'li'}</code> is a significantly less clean interface than the <code class=\"language-text\">tagName: 'li'</code> syntax you get with <em>Backbone.extend</em>.</p>\n<h4>Defining properties directly on the prototype</h4>\n<p>The final example is the most straightforward.  Since there’s no special class syntax for adding properties to the prototype, we can just do so directly after we’ve defined the class.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">TodoView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>toggleVisible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//... etc</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">TodoView</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>tagName <span class=\"token operator\">=</span> <span class=\"token string\">'li'</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">TodoView</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>template <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>todosTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">TodoView</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">'click .toggle'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'toggleCompleted'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'dblclick label'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'edit'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'click .destroy'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'clear'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'keypress .edit'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'updateOnEnter'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'keydown .edit'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'revertOnEscape'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'blur .edit'</span><span class=\"token operator\">:</span>       <span class=\"token string\">'close'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TodoView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>This approach is unambiguous, but its also removes the advantages of using abstracted syntax to begin with.  Adding directly to the prototype takes properties out of the context of the class definition, making it harder to view the class as a holistic unit.  Forcing properties to appear after the class definition also breaks with Backbone community conventions.  Almost all examples of Backbone code that I’ve seen put properties at the top of Backbone class declarations, above any methods, since they’re usually important to read when trying to understand the purpose and role of an object.  They’re then followed by methods, which often contain extensive logic that is less helpful in understanding a class’ overall purpose.</p>\n<p>Of these 3 solutions, I personally prefer using methods and getters.  However I don’t see any of them as an improvement on the existing <em>Backbone.extend</em> syntax.</p>\n<h3>ES7 and Decorators</h3>\n<p>JavaScript is not staying stagnant however.  The TC39 committee recently approved the final spec for ES6 and is aiming to release a new spec on a yearly basis going forward.  One proposed feature for a future spec is <a href=\"https://github.com/wycats/javascript-decorators\">JavaScript decorators</a>.  Decorators are a declarative way of adding extra behavior to a class or class method.  They’re simple functions that take a class or method as an argument and then return an augmented version.</p>\n<p>For instance here’s a simple example from the proposal of a decorator that adds an isTestable property to classes that it decorates.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">@<span class=\"token function\">isTestable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isTestable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decorator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      target<span class=\"token punctuation\">.</span>isTestable <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Based on that example, it’s not hard to see how this is relevant to the syntax struggle we experienced above.  Here’s a naive solution to our properties problem that utilizes a <code class=\"language-text\">props</code> decorator to add a Backbone-esque hash of properties to the prototype.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//decorators.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">props</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decorator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        _<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> $ <span class=\"token keyword\">from</span> <span class=\"token string\">'jquery'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Backbone <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'underscore'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> todosTemplate <span class=\"token keyword\">from</span> <span class=\"token string\">'text!templates/todos.html'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Common <span class=\"token keyword\">from</span> <span class=\"token string\">'common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'decorators'</span>\n\n@<span class=\"token function\">props</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">tagName</span><span class=\"token operator\">:</span>  <span class=\"token string\">'li'</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>todosTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'click .toggle'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'toggleCompleted'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'dblclick label'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'edit'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'click .destroy'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'clear'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'keypress .edit'</span><span class=\"token operator\">:</span>   <span class=\"token string\">'updateOnEnter'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'keydown .edit'</span><span class=\"token operator\">:</span>    <span class=\"token string\">'revertOnEscape'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'blur .edit'</span><span class=\"token operator\">:</span>       <span class=\"token string\">'close'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TodoView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>toggleVisible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//... etc</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TodoView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>That’s a big improvement over our ES6 solutions above.  Our properties are added declaratively at the top of the class and are still clearly associated with the class.  Everything lines up reasonably well with both Backbone and native idioms. This is also reminiscent of the <a href=\"https://angular.io/docs/js/latest/quickstart.html#section-angular-create-account\">approach that Angular 2 is taking</a> with its interface, using decorators heavily for component configuration.  It turns out though that we can actually do better.</p>\n<p>I got a tweet from Steven Langbroek last week asking me to look at his <a href=\"https://gist.github.com/StevenLangbroek/6bd28d8201839434b843\">idea for using decorators to provide a cool new syntax for event binding in Backbone</a>.  I thought it was awesome and it inspired me to think in a more fine grained way about using decorators with Backbone.  How can we make the syntax better, as opposed to just replicating the current experience.  Here’s what a more “fine grained” decorators approach might look like with our example.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//decorators.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">tagName</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decorator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        target<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>tagName <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decorator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        target<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>template <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">eventName</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> descriptor</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>target<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        target<span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">.</span><span class=\"token function\">isFunction</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The on decorator is not compatible with an events method'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>eventName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The on decorator requires an eventName argument'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    target<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">[</span>eventName<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> descriptor<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> $ <span class=\"token keyword\">from</span> <span class=\"token string\">'jquery'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Backbone <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'underscore'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> todosTemplate <span class=\"token keyword\">from</span> <span class=\"token string\">'text!templates/todos.html'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Common <span class=\"token keyword\">from</span> <span class=\"token string\">'common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>tagName<span class=\"token punctuation\">,</span> template<span class=\"token punctuation\">,</span> on<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'decorators'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">tagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\n@<span class=\"token function\">template</span><span class=\"token punctuation\">(</span>todosTemplate<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TodoView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Backbone<span class=\"token punctuation\">.</span>View</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'destroy'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>toggleVisible<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.edit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">toggleVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">toggleClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> isCompleted <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token comment\">// hidden cases only</span>\n            <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isCompleted <span class=\"token operator\">&amp;&amp;</span> Common<span class=\"token punctuation\">.</span>TodoFilter <span class=\"token operator\">===</span> <span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n            <span class=\"token punctuation\">(</span>isCompleted <span class=\"token operator\">&amp;&amp;</span> Common<span class=\"token punctuation\">.</span>TodoFilter <span class=\"token operator\">===</span> <span class=\"token string\">'active'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click .toggle'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">toggleCompleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dblclick label'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blur .edit'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> trimmedValue <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>trimmedValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> trimmedValue <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">!==</span> trimmedValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keypress .edit'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">updateOnEnter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>keyCode <span class=\"token operator\">===</span> Common<span class=\"token punctuation\">.</span><span class=\"token constant\">ENTER_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown .edit'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">revertOnEscape</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>which <span class=\"token operator\">===</span> Common<span class=\"token punctuation\">.</span><span class=\"token constant\">ESCAPE_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'editing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// Also reset the hidden input back to the original value.</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$input<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click .destroy'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TodoView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we’re getting somewhere.  Steven’s <code class=\"language-text\">on</code> decorator provides a really nice upgrade to Backbone’s event system.  Event handlers are now in the context of the methods they refer to, making it much easier to get context as you scroll through a large view.  Our tagName gets a nice declarative setter at the top of the view rather than being bundled into an object hash.  And our template processing gets standardized, with the call to <code class=\"language-text\">_.template</code> abstracted away into the decorator.  That last decorator would probably be project specific, but the other 2 could easily be incorporated into a general Backbone decorator library.</p>\n<p>The main downside I see to this is one shared by a few of the other approaches.  Specifically that declaring a property like tagName as a method or as a property requires different implementation styles.  Backbone philosophically treats these scenarios as equivalent, and its not unusual to start with a static property for keys like <code class=\"language-text\">className</code>, <code class=\"language-text\">url</code>, or <code class=\"language-text\">template</code> and then refactor to use a function as code is reused in different situations.  Artificially separating out those scenarios is not very Backbone-like and might discourage that type of refactoring.</p>\n<h3>Recommendations</h3>\n<p>If you want to use ES6 classes with Backbone in production today, you should probably make everything a method, and make liberal use of the getter functionality.  That seems to be the most Backbone-like, with everything contained in a single class definition, and easy refactoring when a property begins to require logic around it.  If you’re experimenting though, you should definitely consider playing with decorators and see how you can make Backbone’s interface better.</p>\n<p><em>If you have ideas about this, feel free to contribute on the <a href=\"https://github.com/jashkenas/backbone/issues/3560\">github issue</a></em></p>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        I completely screwed up explaining this in my first piece.  I was under the mistaken impression that Backbone was adding properties like `className` and `events` to each instance rather than to the prototype.  Which makes no sense in retrospect, since those properties need to be present before the Backbone.View is run.\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n        <li class=\"footnote\" id=\"fn:2\">\n            <p>\n            Well, almost all. iDAttribute <a href=\"https://github.com/jashkenas/backbone/pull/3684\">is still catching up</a>.\n            <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n        </li>\n        <li class=\"footnote\" id=\"fn:3\">\n            <p>\n            Oh you didn't realize that adding an item to the event hash for your view would add it to every instance of that View?  Whoops.\n            <a href=\"#fnref:3\" title=\"return to article\"> ↩</a></p>\n        </li>\n</ol>\n</div>","fields":{"slug":"/2015/07/06/backbone-and-es6-classes-revisited"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","marionette"],"category":"frameworks","key":null,"title":"Staying DRY with Marionette Behaviors","description":"How to keep your Views DRY using Behaviors in your Marionette app","layout":"post","path":"/2015/03/23/staying-dry-with-marionette-behaviors","date":"2015-03-23T04:04:17+00:00","dontfeature":null,"isDraft":null},"html":"<p><em>This is the sixth post in a series on <a href=\"http://marionettejs.com/\">Marionette.js</a>.  For more background on what Marionette is, check out the series page, <a href=\"http://benmccormick.org/marionette-explained/\">Marionette Explained</a></em></p>\n<p>Any successful project draws complaints, and <a href=\"http://backbonejs.org/\">Backbone.js</a> is a successful project by pretty much any measurement.  The biggest complaints I’ve heard leveled against Backbone as an MVC framework revolve around the boilerplate involved in writing Backbone apps.  The claim goes that Backbone forces you to write the same event binding and workflow code over and over again.  In general I’d claim that’s a feature of <em>bad</em> Backbone apps, and  not something unavoidable.  But it’s certainly true that Backbone doesn’t give you much guidance on how to reduce repetition and boilerplate in your code.  Making it easy to reduce repetition turns out to be one of the main roles of <a href=\"http://marionettejs.com/\">Marionette</a>. This post is a look at one of the tools that Marionette provides to help you simplify your applications: the Behavior class.</p>\n<p>Marionette Behaviors are reusable chunks of UI logic that you can mix into your Views.  When you have a common problem that you face across several Views, Behaviors can help you reduce boilerplate and repetition.  We’ll take a look at a practical example first, and then we can get into the Behaviors API.</p>\n<p>Let’s see how Behaviors can help us write better form validation code.  When I’m validating forms, I use the <a href=\"http://thedersen.com/projects/backbone-validation/\">backbone.validation</a> library. It provides helpers for checking the validity of model properties and attaching error messages to inputs, but doesn’t force a specific workflow. However, I have a specific flow I usually want.  A user should be able to enter data as they see fit to start, with no validation warnings until they’ve tried to submit the form.  After they’ve initially submitted the form, warnings should appear next to any invalid fields, and they should update and disappear as the user fixes their input.</p>\n<p>That process is pretty easy to implement with backbone.validation.  I simply connect my Model to each form View I create, and in the Model I add some logic to re-validate each time the Model is changed, but only after the first time validation is triggered by a user submit.  That works great in most cases.  The problem comes when I need to re-render my view in the middle of this process.  This is a pretty common occurrence if your form has sub-views that may appear based on the contents of other parts of the form. In that case, I have to make sure that the validation state persists across renders.  That might look something like this. <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Mn <span class=\"token keyword\">from</span> <span class=\"token string\">'marionette'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Validation <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone-validation'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> FormView <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>LayoutView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'#form'</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">ui</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">submit</span><span class=\"token operator\">:</span> <span class=\"token string\">'.submit'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'click @ui.submit'</span><span class=\"token operator\">:</span> <span class=\"token string\">'submitForm'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">modelEvents</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'validated'</span><span class=\"token operator\">:</span> <span class=\"token string\">'setValidated'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">onRender</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//any other post-render View code here</span>\n\n        <span class=\"token function\">Validation</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>validated<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">setValidated</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>validated <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">submitForm</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//handle form submission</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So it’s not that much code to add the functionality we want.  But when we need this code on multiple Views, adding and maintaining it becomes a pain quickly, creating the type of boilerplate that developers rage against.  So how can Behaviors help? It turns out to be easy to pull the functionality from our example out into a separate Behavior that any View can implement.</p>\n<p>That would look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Mn <span class=\"token keyword\">from</span> <span class=\"token string\">'marionette'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Validation <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone-validation'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> ValidationBehavior <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>Behavior<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">modelEvents</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'validated'</span><span class=\"token operator\">:</span> <span class=\"token string\">'setValidated'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">onRender</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//Set up any other form related stuff here</span>\n        <span class=\"token function\">Validation</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hasBeenValidated<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\n    <span class=\"token function-variable function\">setValidated</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hasBeenValidated <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> ValidationBehavior<span class=\"token punctuation\">;</span></code></pre></div>\n<p>You could then pull the Behavior back into the View like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Mn <span class=\"token keyword\">from</span> <span class=\"token string\">'marionette'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Validation <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone-validation'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ValidationBehavior <span class=\"token keyword\">from</span> <span class=\"token string\">'behaviors/validation'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> FormView <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>LayoutView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'#form'</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">ui</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">submit</span><span class=\"token operator\">:</span> <span class=\"token string\">'.submit'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">events</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'click @ui.submit'</span><span class=\"token operator\">:</span> <span class=\"token string\">'submitForm'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token literal-property property\">behaviors</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">validation</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">behaviorClass</span><span class=\"token operator\">:</span> ValidationBehavior\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">submitForm</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//handle form submission</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We could do this for any number of Views that required validation.  The same thing can be done for many other types of functionality, including key-binding and “warn before delete”.</p>\n<h3>Behaviors API</h3>\n<p>Behaviors have essentially the same API as Marionette Views, because they’re meant to be extracted out of existing Views.  So the event hashes, ui elements, and life-cycle methods that you find on a Marionette View are all also available on Behaviors.  The life cycle functions on a Behavior execute immediately after their corresponding functions on the Behavior’s associated View. Behaviors also get <code class=\"language-text\">el</code>, <code class=\"language-text\">$el</code> and <code class=\"language-text\">$</code> properties that are proxied to the equivalent properties on the Behaviors view.</p>\n<p>Behaviors are not just mixins though. Behavior properties are isolated from the Views they’re associated with, preventing naming collisions and also encouraging reusable, decoupled designs.  Generally Behaviors don’t directly modify their associated Views or data.  The communication flow is one way, with Behaviors accepting input from their parent View in the form of an options object that is attached to the Behavior when it is created.  You can pass these options through using the behaviors hash on the View.  For instance to pass an error message to the validation behavior above, you could define your behaviors hash like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    behaviors: {\n        validation: {\n            behaviorClass: ValidationBehavior,\n            errorMessage: 'You did something wrong.'\n        }\n    },</code></pre></div>\n<h3>A quick note on how Behaviors attach to Views</h3>\n<p>You can see in the example above that the general form for attaching Behaviors to a View is to include a key-value pair for each Behavior, where the value is an object that lays out the options for the Behavior.  The interesting thing in the example above is that the name of the key doesn’t matter at all.  It’s not used by the library in any way; instead Marionette picks out the correct behavior to use based on the behaviorClass property in the value.  So why is the API structured like that?  To understand, you need to know that the Behaviors API supports two separate scenarios for looking up the correct Behaviors for a View.</p>\n<p>The original API Marionette included for looking up Behaviors requires you to override a behaviorsLookup function on Marionette to tell the library where to retrieve your Behaviors from.  The keys of the behaviors hash on a view were passed to the lookup function, which then retrieved the Behavior classes from wherever the user chose to store them (probably a global namespace object).</p>\n<p>That API works great for developers used to using namespaces to organize their code, but for developers using modern JavaScript module loaders, it introduces global state and indirection where it wasn’t needed.  To handle this case, the behaviorClass key was added as an option for the value object, allowing developers to specify Behaviors as dependencies of the file they were defining a View in, and then attach the Behavior directly to the View.</p>\n<p>That makes much more sense for module users, but leads to a clunky API where the keys aren’t used.  Fortunately, in newer versions of Marionette you can get around this entirely, by defining your behaviors as an array on a view.  So the example above would look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    behaviors: [{\n        behaviorClass: ValidationBehavior,\n        errorMessage: 'You did something wrong.'\n    }]</code></pre></div>\n<p>This works due to an undocumented implementation detail in Marionette 2.4.1 <sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup>, but will be <a href=\"https://github.com/marionettejs/backbone.marionette/pull/2368\">fully supported</a> in future versions.  In future versions you also will be able to pass a class directly as an array item if the Behavior is not taking any arguments, further cleaning up the API.</p>\n<h3>When are Behaviors useful?</h3>\n<p>Marionette’s documentation explains Behaviors very broadly, which makes sense for official documentation since it gives ideas without limiting how users think about them.  But in my experience Behaviors are best used for three different use-cases.</p>\n<h4>Sharing common event handling logic</h4>\n<p>This is the most obvious use for Behaviors, and what the documentation focuses on.  It’s easy to set up common event based UI patterns like “warn on close” with behaviors.  But they also can be used for more complicated event based UI logic.  At Windsor Circle we use 2 behaviors to share common “drag and drop” code with a Droppable Behavior that can be implemented by a CollectionView and a Draggable Behavior for ItemViews.  That makes it simple to make any CollectionView based list sortable with drag and drop, and keeps the code in a nice central place where any improvements will be shared across the code base.</p>\n<h4>Sharing common life-cycle functions</h4>\n<p>In addition to event handling, Behaviors also give you access to the various <a href=\"http://benmccormick.org/2015/01/05/marionette-view-life-cycles/\">life cycle</a> methods of Marionette Views.  That lets you split out common life cycle functionality and reduce code.  An easy example of this would be a Behavior that fades a View in each time by adding a css class with an animation associated with it.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let FadeIn = Marionette.Behavior.extend({\n    onBeforeShow: function() {\n        this.$el.addClass('hidden fadein');\n    },\n    onShow: function() {\n        this.$el.removeClass('hidden');\n    }\n});</code></pre></div>\n<p>which would work with a CSS snippet like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.fadein {\n  transition: opacity 1s;  \n  opacity: 1;\n}\n\n.fadein.hidden {\n    opacity: 0;\n}</code></pre></div>\n<h4>Simplifying integration with libraries</h4>\n<p>This final use case is a special case of the first 2, but I think its worth mentioning in its own\ncategory.  Many 3rd party Backbone or jQuery libraries require repetitive initialization code to use within a View.  This code is often the same across all Views, or only requires minor tweaks.  The perfect use case for a Behavior!  The Validation code above is one example of this, but it’s useful for many plugins.  For instance, if you use the <a href=\"http://harvesthq.github.io/chosen/\">Chosen</a> jQuery plugin to create rich dropdown boxes, you could create a Behavior to automatically initialize select elements with Chosen, and optionally pass a class to restrict it to only initialize selects with a specific class.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let UseChosen = Marionette.Behavior.extend({\n    onRender: function() {\n        let className = this.options.className,\n            chosenOptions = this.options.chosenOptions || {};\n        if(className) {\n            this.$('.${className}').chosen(chosenOptions);\n        }\n        else {\n            this.$('select').chosen(chosenOptions);\n        }\n    }\n});</code></pre></div>\n<h4>Wrap-Up</h4>\n<p>Behaviors are a great resource for avoiding repetition in your Backbone code.  If you have examples of good open-source Behaviors out there, please mention them in the comments.  I’d also love to hear what use cases you’ve found for them, even if the code isn’t public to share.</p>\n<h3>More Resources</h3>\n<ul>\n<li>Atomic Object has a <a href=\"http://spin.atomicobject.com/2014/09/11/marionette-behaviors-overview/\">nice writeup</a> on Marionette Behaviors, and a <a href=\"http://spin.atomicobject.com/2014/09/12/testing-marionette-js-behaviors/\">followup on testing them</a>.</li>\n<li>Behaviors seem to make the most sense to people when given examples of how you might use them.  One great open-source example is this <a href=\"https://github.com/behave-ui/behave-ui-hotkeys\">key-binding Behavior</a> that makes it easy for you to add keyboard shortcuts to a View</li>\n</ul>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        Going forward on this blog I'm planning on using ES6 features in code examples where appropriate.  If the code looks weird to you check out <a href=\"https://babeljs.io/docs/learn-es6/\">this nice summary of ES6 features</a>.    \n        </p>\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n    <li class=\"footnote\" id=\"fn:2\">\n        <p>\n        The latest version of Marionette at the time of writing.\n        </p>\n        <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n    </li>\n</ol>\n</div>","fields":{"slug":"/2015/03/23/staying-dry-with-marionette-behaviors"}}},{"node":{"frontmatter":{"readNext":"mobx-first,mn-series,backbone-eco","topics":["backbone","React","marionette"],"category":"frameworks","key":"backbone-devs-react","title":"Lessons Backbone Developers Can Learn From React","description":"A look at the lessons that Backbone developers can learn from React","layout":"post","path":"/2015/09/09/what-can-backbone-developers-learn-from-react","date":"2015-09-09T11:19:43+00:00","dontfeature":null,"isDraft":null},"html":"<p>Since I started programming professionally, I’ve always kept an informal list of technologies I want to check out.  Things that I thought would be useful for my career, would expose me to new ideas, or just looked plain cool.  I spent a chunk of my Labor Day weekend working through that list a bit by learning more about <a href=\"http://facebook.github.io/react/\">React</a>, the JavaScript View library from Facebook. React is a fascinating piece of technology, and a strong ecosystem of tools and libraries is growing up around it.  For developers starting brand new front-end projects in 2015, it ranks as one of the 2 main libraries I’d suggest looking into as a base, along with <a href=\"http://emberjs.com/\">Ember</a>.  Most developers though are not starting brand new projects.  We’re maintaining existing code, or starting a new project while trying to reuse components of an old one.  Fortunately, React is about ideas as much as it is technology.  For this piece, I’m going to go through the big ideas of React and look at 3 of them that developers working on other frameworks (and <a href=\"http://backbonejs.org/\">Backbone</a> in particular) can learn from.  There’s a lot more to React and its community than just these 3 ideas, so I’ll also include some extra resources at the bottom for those interested in learning more about it.</p>\n<h3>Idea 1: Interfaces should be a tree of composable components</h3>\n<p>React interfaces are constructed by combining many small “components”, each of which can be created by combining other smaller components.  In the end a normal React interface will resemble a tree, with a top level component that encompasses the whole app and many smaller components nested inside of it.  It’s a model that should be familiar; the browser DOM works the same way.</p>\n<p>Building interfaces this way lets you reuse more code and also makes code easier to reason about.  Because you’re composing your interfaces rather than using inheritance or monolithic page objects to build your pages, you can write common code for items like buttons, date-pickers and lists once and then re-use them all over place, even creating larger components like a dialog box out of smaller components like buttons, inputs and an overlay.  And since components are small and focused, it’s much easier to dive into them and understand what is going on.  Since react components are built to work in this standardized ways, you can be comfortable knowing that no other code is going to be changing the area of the UI controlled by that component.</p>\n<p>Backbone doesn’t enforce a specific way to organize your UI code.  You can create a single Backbone View for a whole page, have different non-nested views control different portions of a page, or use a nested scheme.  For simple sites or apps, each of these can make sense.  You probably don’t need a nested component tree for a simple content page with one or two pieces of interactive behavior.  But for large rich apps, small composable Views (or other building blocks) can provide much more flexibility, allowing you to mix and match pieces of your application to build diverse pages without becoming overwhelmed with code.</p>\n<p>Building this sort of tree system in Backbone is one of the main selling points of <a href=\"http://marionettejs.com/\">Marionette</a>, the most popular of several libraries that add conventions on top of Backbone’s structure.  Marionette provides collection Views and layout Views that <a href=\"http://benmccormick.org/2014/12/22/building-complex-layouts-with-marionette-js/\">let you build rich View trees</a> that are very similar in structure to a React app, while maintaining compatibility with Backbone’s code and the Backbone communities conventions.  It’s also possible to compose an applications interface with a mix of Backbone and other “components”; for instance using <a href=\"http://webcomponents.org/\">web components</a>, React Components, or even jQuery UI widgets to represent individual pieces in an application and then tying together their layout using Backbone Views.</p>\n<p>That’s not to say there are no problems with implementing this style in Backbone though.  For one thing, when nesting one Backbone view inside of another, Backbone does not provide strong encapsulation of child views.  Because Backbone Views act on HTML directly, when a parent view listens to an event or modifies HTML directly, it is possible for the view to listen to events on elements controlled by a child view and even modify those elements directly.  That can create confusing side effects, since in a deeply nested view tree it means an event could lead to code being triggered in one of many different Views, and the state of that piece of DOM could be affected by many different areas of code at once.  In Backbone these problems must mostly be solved with programmer discipline, a weight that adds to the difficulty of deeply nested UIs, but doesn’t prevent them.</p>\n<h3>Idea 2: Modern JavaScript leads to cleaner code</h3>\n<p>Using modern JavaScript is less a core idea of React, and more a value of its community.  When researching React, almost every example of React code I found was written using <a href=\"https://babeljs.io/docs/learn-es2015/\">ES6 style JavaScript code</a> and a modern module system (commonJS or ES6 modules using either <a href=\"https://webpack.github.io/\">webpack</a> or <a href=\"http://browserify.org/\">browserify</a>).  Many React developers are even pushing the boundaries of todays browsers and standards and experimenting with how their code could be improved by proposed ES7 features.  I rarely see Backbone code examples using these styles.  They’re usually in ES5 style or <a href=\"http://coffeescript.org/\">Coffeescript</a> and use AMD modules or global namespaces to structure code.  Some of this is a natural function of the hype cycle: most Backbone code examples were written 3-4 years ago when it was the hot new JavaScript framework, while most React examples are written now.  But the net result is that most people who use Backbone today aren’t being exposed to these new styles and tools.  Since things like JavaScript APIs and module loaders can be chosen separate from what framework you choose <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup>, this is an opportunity to take advantage of innovation from other places without giving up an investment in Backbone.</p>\n<p>Take the following code examples for instance.  This is the same View written in 3 styles: ES5 with namespaces, ES6 and ES7.  Compare the readability and usability in each case.  The example is just a simple view that takes a template, logs a message when it is created and shows a different modal when 2 different buttons are clicked, with a callback function after the modal is closed.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//ES5 with namespaces</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">App<span class=\"token punctuation\">,</span> Backbone<span class=\"token punctuation\">,</span> Modal<span class=\"token punctuation\">,</span> _</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    App<span class=\"token punctuation\">.</span>ExampleView <span class=\"token operator\">=</span> Backbone<span class=\"token punctuation\">.</span>View<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n        <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> App<span class=\"token punctuation\">.</span>templates<span class=\"token punctuation\">[</span><span class=\"token string\">'exampleview'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">events</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">'click .example-button'</span><span class=\"token operator\">:</span> <span class=\"token string\">'showSuccess'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">'click .example-button2'</span><span class=\"token operator\">:</span> <span class=\"token string\">'showError'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">constructor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            Backbone<span class=\"token punctuation\">.</span><span class=\"token function\">View</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Created a Example View'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">showSuccess</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You did it'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">showError</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You failed'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">showModal</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message<span class=\"token punctuation\">,</span> title</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> title <span class=\"token operator\">===</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                title <span class=\"token operator\">=</span> <span class=\"token string\">'Alert'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            Modal<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onModalClose</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token function-variable function\">onModalClose</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'re-rendering after modal closes to capture any changes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>App <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> Backbone<span class=\"token punctuation\">,</span> Modal<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Obviously the scenario is a bit contrived here (we’d want to generalize any logging in the constructor in real life, and we would listen for model changes to re-render rather than just blindly doing it in a callback).  But notice how many confusing things are going on that are completely incidental to what the code is doing.  A JavaScript beginner would have a lot to work through in this example.  Why is the whole file wrapped in a function?  Where do Backbone and Modal come from?  What’s going on with <code class=\"language-text\">Backbone.View.apply(this, [].slice.call(arguments));</code>?  That’s even aside from the incidental complexity of having to know what order your files are loaded in when using this particular module style.  We can do so much better.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//ES6</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>View<span class=\"token punctuation\">}</span> from Backbone<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Modal <span class=\"token keyword\">from</span> <span class=\"token string\">'utils/modal'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>template<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ExampleViewTemplate <span class=\"token keyword\">from</span> <span class=\"token string\">'templates/exampleview'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> ExampleView <span class=\"token operator\">=</span> View<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> ExampleViewTemplate<span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">events</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'click .example-button'</span><span class=\"token operator\">:</span> <span class=\"token string\">'showSuccess'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'click .example-button2'</span><span class=\"token operator\">:</span> <span class=\"token string\">'showError'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">View</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Created a Example View'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">showSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You did it'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">showError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You failed'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Alert'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Modal<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onModalClose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">onModalClose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'re-rendering after modal closes to capture any changes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ES6 allows us to clean up our original example a lot!  We’re able to ditch the wrapping function, and instead pull our dependencies directly at the top of the file, with clear pointers to module paths so that new developers can easily go find the code we’re referencing.  At a smaller level, we’ve cleaned up many of the annoyances from the original code.  We no longer have to slice arguments; instead we can use the rest operator to collect all of the arguments as an array and pass them to the constructor directly.  Similarly, we don’t need to explicitly check for undefined anymore in showModal since we can display default arguments.  Finally, we can get rid of some function boilerplate, removing the function keyword completely for object methods and changing the <code class=\"language-text\">bind(this)</code> from onModalClose to use an ES6 lambda function.  All of this is helpful, and represents the best of what is stable for production at the moment.  But if we want to look ahead to the current proposed ES7 additions, we’ll be able to clean this code up even more.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//ES7</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>View<span class=\"token punctuation\">}</span> from Backbone<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Modal <span class=\"token keyword\">from</span> <span class=\"token string\">'utils/modal'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>template<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ExampleViewTemplate <span class=\"token keyword\">from</span> <span class=\"token string\">'templates/exampleview'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ExampleView</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n\n    template <span class=\"token operator\">=</span> ExampleViewTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Created a Example View'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>template<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click .example-button'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">showSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You did it'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    @<span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click .example-button2'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">showError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You failed'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">showModal</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> title<span class=\"token operator\">=</span><span class=\"token string\">'Alert'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Modal<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> <span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onModalClose<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">onModalClose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'re-rendering after modal closes to capture any changes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ES7 allows us to clean up more boilerplate using classes <sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup>, static properties, and <code class=\"language-text\">::</code> as a special shorthand for function binding.  But it also allows us to start actually improving the interface of Backbone itself.  The example above uses decorators to define extra behaviors that wrap the View’s methods. In this case decorators <a href=\"http://benmccormick.org/2015/07/06/backbone-and-es6-classes-revisited/\">allow us to contextualize the events to function mapping</a> for our View, improving on the default events hash that Backbone provides.  There are many examples of similar convenient conventions that are being experimented with in the React community. Backbone developers can learn a lot here by looking through React code.  Since React components are syntactically similar to Backbone Views (even though the underlying model is quite different), it’s easy to learn a lot of new JavaScript techniques that can be used in Backbone in the process.</p>\n<h3>Idea 3: Don’t use DOM as a source of state</h3>\n<p>The final big idea that Backbone developers can learn from React is its insistence on not using the DOM as a source of state.  React encourages a programming model where in theory, any component can be re-rendered at any time based on a change in data.  That means that any UI state must be captured in code and not in the UI.  This is another approach that requires programmer discipline in Backbone.  It means that instead of just typing out <code class=\"language-text\">this.$('.main-content').addClass('highlighted')</code>, you’ll want to set an <code class=\"language-text\">contentIsHighlighted</code> variable somewhere and then either re-render your view or do a structured update based on your state.  That way, instead of having to read the DOM later to know the state of your application it is all copied in code.  This leads to better testability, more predictable code and fewer edge cases when the structure of your HTML changes.</p>\n<p>This idea was historically the primary benefit for Backbone apps over pure jQuery applications.  But the truth is that while Backbone does a good job of pulling application data into code with models and collections, it makes it very tempting to encode UI state info in the DOM by exposing jQuery helpers and not providing a canonical way to store view state.  Still, a little discipline goes a long way.  By using a separate Backbone Model as a view-model or just storing your state as properties on the view object itself, you can pull your state out of the DOM and make it much easier to inspect and reason about when you’re debugging your code or trying to refactor.</p>\n<p>You probably can’t take this idea to the full extent that React takes it using Backbone.  The extreme end of the React philosophy is to use React components as stateless functions that simply take application data and ui state as arguments and return an HTML representation of the UI.  This means that React interfaces can be re-rendered completely after any change without losing information.  React supports this and makes it performant by using a “virtual DOM” to generate the new HTML that would result from a data or state change, compare it to the existing HTML, and then only make the changes that are required in the actual DOM <sup id=\"fnref:3\"><a href=\"#fn:3\">3</a></sup>.  That works well in React since it has a clear concept of what is controlled by each component.  As previously noted, Backbone does not strongly encapsulate its Views, which complicates doing the type of virtual DOM analysis that React manages.  So it’s more practical to focus on pulling state out of Views and managing re-renders based on Backbone’s event system (the idiomatic Backbone approach).  If you want to pursue the UI as pure functional programming paradigm, you’d probably do better moving off Backbone to a system designed for that like React, <a href=\"http://cycle.js.org/\">cycle.js</a>, <a href=\"https://github.com/omcljs/om\">Om</a>, or <a href=\"https://github.com/Reactive-Extensions/RxJS\">rxjs</a>.  But even if you can’t go all in on functional UI programming in your current code base, understanding the problems inherent with using DOM to manage state will help you write better Backbone apps.</p>\n<h3>React Resources Round-up</h3>\n<p>If you’re interested in learning more about React, many others have put together better resources than I’m capable of.  Here’s a quick roundup of some of the resources I’ve found helpful.</p>\n<h4>Intro</h4>\n<ul>\n<li>If you want to get a big picture view of what React is about, I’d recommend starting with this <a href=\"https://www.youtube.com/watch?v=x7cQ3mrcKaY\">2013 conference video</a> where a member of the React team, addresses some of the criticisms that React received early on and lays out the ideas behind the library.  Some of the details have changed since, but the big picture view remains.</li>\n<li>The React documentation is also exceptionally well-written and accessible.  This blurb on <a href=\"http://facebook.github.io/react/docs/thinking-in-react.html\">thinking in react</a> is a good place to start.</li>\n</ul>\n<h4>Talks</h4>\n<ul>\n<li>If you want to see some of the nice potential side effects that React can provide <a href=\"https://www.youtube.com/watch?v=xsSnOQynTHs\">this talk</a> by Dan Abramov, the creator of Redux, shows how easy it is to create developer tools that significantly improve a developers feedback loop and user experience while writing code.</li>\n<li>The <a href=\"https://www.youtube.com/watch?v=PAA9O4E1IM4\">keynote from React Europe</a> gives a good feel for the current state of the ecosystem around React.</li>\n</ul>\n<h4>Articles</h4>\n<ul>\n<li><a href=\"http://rauchg.com/2015/pure-ui/\">Pure UI</a> by Guillermo Rauch is the best explanation I’ve read of the benefits of the UI model that React encourages, though it is not specifically about React.</li>\n<li>One of the biggest instinctive objections many developers have when they first see React code is the mixing of JavaScript and the HTML syntax of JSX inside a single file.  <a href=\"https://medium.com/javascript-scene/jsx-looks-like-an-abomination-1c1ec351a918\">Eric Elliot has a nice post on medium</a> examining those objections and explaining why JSX makes sense.</li>\n</ul>\n<h4>Projects</h4>\n<ul>\n<li><a href=\"https://facebook.github.io/flux/\">Flux</a> is one of the 2 main data management frameworks that Facebook and the React team recommend for use with React.  The second newer one, <a href=\"https://facebook.github.io/relay/\">Relay</a> is a bit more crazy advanced and requires a very specific type of backend API to implement.  If you’re interested in Flux, also make sure to check out <a href=\"https://github.com/rackt/redux\">Redux</a>, an opinionated flux implementation focused pure functional programming concepts.</li>\n<li><a href=\"https://github.com/rackt/react-router\">React Router</a> is a router for React applications based on Ember’s router.  It provides a nice declarative model for defining routes based on JSX, the JS language extension that Facebook created along with React</li>\n<li><a href=\"https://babeljs.io/\">Babel</a> isn’t a react specific technology, but its important to understand it if you want to digest most of the React examples out there, or build a React app yourself, since it is now recommended as the tool for writing React code in an idiomatic style.</li>\n</ul>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        Well at this point many frameworks are doubling down on \"1st class experiences\" with Babel (React/Ember) or Typescript (Angular2).  But Backbone at least doesn't care what transpilers you use or don't, and the other libraries are all still usable with vanilla ES5 JavaScript.\n        </p>\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n    <li class=\"footnote\" id=\"fn:2\">\n        <p>\n        Yes I know that classes are an ES6 feature.  But without decorators, using them with Backbone <a href=\"http://benmccormick.org/2015/07/06/backbone-and-es6-classes-revisited/\">is clunky</a>.\n        </p>\n        <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n    </li>\n        <li class=\"footnote\" id=\"fn:3\">\n            <p>\n            In addition to other performance enhancements if an app is structured in a way that it can be determined exactly which data changed.\n            </p>\n            <a href=\"#fnref:3\" title=\"return to article\"> ↩</a></p>\n        </li>\n</ol>\n</div>","fields":{"slug":"/2015/09/09/what-can-backbone-developers-learn-from-react"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-radio","topics":["backbone","javaScript"],"category":"frameworks","key":null,"title":"The Life of a Marionette View","description":"A breakdown of the lifecycle of Marionette Views","layout":"post","path":"/2015/01/05/marionette-view-life-cycles","date":"2015-01-05T04:01:45+00:00","dontfeature":null,"isDraft":null},"html":"<p><em>This is the fourth post in a series on <a href=\"http://marionettejs.com/\">Marionette.js</a>, a framework for developing apps with <a href=\"http://backbonejs.org/\">Backbone.js</a>.  For more background on what Marionette is, check out the series page: <a href=\"http://benmccormick.org/marionette-explained/\">Marionette Explained</a>  Also note that this article was written about Marionette v2.  The current latest version of Marionette is v3, and while most of the high level concepts remain the same, the specific syntax has changed in some cases.</em></p>\n<p>When building Single Page Applications, it’s important to manage UI components throughout their existence on the page, making sure they’re properly created, attached, and destroyed.  Marionette.js helps Backbone developers manage that by providing life cycle methods that developers can use when defining their Views.  These life cycle functions fit nicely with the rest of Marionette’s features, and can help simplify UI development with Backbone.</p>\n<p>Building scalable user interfaces is hard.  It’s a challenge that sits at the intersection of fields requiring very different skill sets: Software Development, Graphic Design, User Experience and Information Architecture.  Because interface code is concerned with both presentation and interaction logic and is exposed directly to user input, it can be difficult to reason about.  Fortunately, as modern web developers, we have 30+ years of industry knowledge to fall back on.  One lesson learned is the value of Object Oriented Programming concepts in UI design; specifically, the idea of breaking interfaces into a set of independent components, and giving each component a consistent “life cycle”, a set of events that occur between a component’s creation and destruction.</p>\n<p>Having a clear life cycle for UI components makes a developer’s life easier in a few ways:  It eases the process of reasoning about changes in a component over time, and how it interacts with other elements of the UI.  It creates consistent hooks to add behaviors, which promotes readability and reduces boilerplate code.  Finally, it smooths integrations with outside code that may need to be run when the component is in a specific state, without needing a bunch of conditional logic to detect when it should run.  Marionette Views provide a life cycle for Backbone Views that help give all of these benefits.</p>\n<p>The Marionette View life cycle is made up of a list of events and conventions.  Events are fired at each signficant step in a View’s life cycle.  Each event has a corresponding View method associated with it that Marionette automatically runs when the event is fired. These events and callbacks follow a consistent naming convention.  An event that occurs before a moment in the life cycle is fired in the form <code class=\"language-text\">before:&lt;eventname></code> and the callback is called <code class=\"language-text\">onBeforeEventName</code>. An event that is fired after the same moment in the life cycle will have the form <code class=\"language-text\">eventname</code> and the callback will be called <code class=\"language-text\">onEventName</code>.  By default the callback functions for each event do nothing, but developers can overwrite them to define behavior for a specific View instance.  For instance, defining the callback functions for the <code class=\"language-text\">render</code> and <code class=\"language-text\">before:render</code> events on a new View would look like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> ExampleView <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>ItemView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function-variable function\">onRender</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// do stuff after the View is rendered</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">onBeforeRender</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// do stuff before the View is rendered</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Render is only one of the relevant moments in a View’s life cycle.  This is the full list of relevant methods and events, with a brief explanation of how each one might be used.</p>\n<h4>Initialize</h4>\n<p>The first function in a View’s life cycle is <code class=\"language-text\">initialize</code>. <code class=\"language-text\">initialize</code> isn’t a Marionette-specific method. It’s part of Backbone, but it’s important to make sure you understand where it fits into the View’s life.  Backbone provides two functions that are run when a View is instantiated, <code class=\"language-text\">constructor</code> and <code class=\"language-text\">initialize</code>.  <code class=\"language-text\">constructor</code> is used for Backbone and Marionette’s internal setup, and shouldn’t normally be overridden.  <code class=\"language-text\">initialize</code> is the suggested function for defining behavior on View setup.  It’s a great place for setting up event listeners, and allows workings directly with the options passed to the View on creation <sup id=\"fnref:1\"><a href=\"#fn:1\">1</a></sup>. Unlike the other methods on this list, <code class=\"language-text\">initialize</code> only provides a single method with no associated event.</p>\n<h4>onRender/onBeforeRender</h4>\n<p>The second step in the Marionette View life cycle is the render step, which exposes two events <code class=\"language-text\">render</code> and <code class=\"language-text\">before:render</code>, corresponding to the <code class=\"language-text\">render</code> and <code class=\"language-text\">onBeforeRender</code> callbacks.  These events fire before and after the View template is rendered.  In a Marionette View, rendering means that the View has generated a fragment of HTML, but it may or may not be visible or attached to the DOM.  onRender is useful for any direct manipulation of the generated HTML that doesn’t require it to be visible or attached to the DOM.</p>\n<h4>onAttach/onBeforeAttach (Marionette 2.3+)</h4>\n<p>After rendering, the next set of events that might fire in a Marionette View’s life cycle is <code class=\"language-text\">before:attach</code> and <code class=\"language-text\">attach</code>.  These events are fired whenever showing a View in a region causes it to be attached to the DOM.  Because Views can be rendered independently of Regions, and some Regions may not be attached to the DOM when a View is shown, this event may not always be fired immediately (or at all).  But if you’re using Regions to render all your Views, it can be very useful for setting up jQuery plugins or other operations that require HTML to be attached to the DOM before being acted on.  A nice aspect of the attach events is that they will propagate down a tree of LayoutViews if you’ve set up a View hierarchy as described in <a href=\"http://benmccormick.org/2014/12/22/building-complex-layouts-with-marionette-js/\">my last post</a>, so you can count on the event firing even if you build the View tree and then attach the top View to the DOM later.</p>\n<h4>onShow/onBeforeShow</h4>\n<p>Another Region-specific set of events, <code class=\"language-text\">show</code> and <code class=\"language-text\">before:show</code> fire before and after a View is shown within a region.  These events are great for rendering child Views.  The Marionette docs recommend using <code class=\"language-text\">onBeforeShow</code> specifically for rendering children, since it allows for only a single DOM paint when rendering nested Views, and prevents attach events from firing multiple times, which might happen if the child Views are attached to the parent after the parent View has already been shown.</p>\n<h4>onDomRefresh</h4>\n<p>The <code class=\"language-text\">dom:refresh</code> event is the last Region-specific event  It’s triggered after an already shown View is rerendered.  Like onAttach, this can be useful for managing UI plugins that manipulate the DOM, if they need to be reinitialized when the HTML tree is refreshed. It differs from <code class=\"language-text\">onRender</code> in that it will not run the first time the View is rendered, and you can count on the View always being attached to the document when it fires.  So if an operation requires the View to be attached to the DOM, you can run any initial logic in <code class=\"language-text\">onShow</code>, and then put any refresher logic into an <code class=\"language-text\">onDomRefresh</code> callback.  If you’re running Marionette 2.3 or later though, onDomRefresh is less useful because onAttach provides similar functionality in a more consistent way.</p>\n<h4>onBeforeAddChild/onBeforeRemoveChild/onAddChild/onRemoveChild (CollectionView Only)</h4>\n<p>CollectionViews get their own special life-cycle events to manage adding and removing Models to the Collection.  CollectionViews automatically display a new ChildView when a Model is added to its Collection, and destroy the View when the Model is removed.  They fire events before and after each of these changes, to allow you to customize the behavior around each.  You could for instance hide specific Views if necessary. You could also modify them based on some logic, though that type of thing may be more appropriate within the child View’s code itself.</p>\n<h4>onDestroy/onBeforeDestroy</h4>\n<p>The final Marionette life-cycle event set is <code class=\"language-text\">destroy</code> and <code class=\"language-text\">before:destroy</code>.  Appropriately, these events are fired when a View is destroyed and serve as a place to handle any custom cleanup.  The most common use case for these functions is unbinding any events not covered by Marionette’s built-in event cleanup<sup id=\"fnref:2\"><a href=\"#fn:2\">2</a></sup>. It’s worth noting that you cannot use <code class=\"language-text\">onBeforeDestroy</code> to prevent the View being destroyed.  The Marionette team’s position here is basically that you should not call destroy directly on any View you don’t want destroyed.  If you’re swapping a View out of a region but don’t want it to be destroyed, Marionette provides a <code class=\"language-text\">preventDestroy</code> option to its show method that allows you to preserve the existing View.</p>\n<h3>Cogs In A Machine</h3>\n<p>The nice thing about Marionette’s View life cycles is the consistency it shares with the rest of Marionette.  The life cycles are built to work with the Region and Layout system I described in my last post.  If you lay out your Views using the system described in that post, you’ll be able to take advantage of all of the above functions consistently across your application.  Regions themselves have similar life cycle methods, with callbacks that run before and after showing Views, swapping Views and emptying the region. Finally, Marionette Applications, the object that Marionette uses to initialize the app, also has a single set of life-cycle events, <code class=\"language-text\">onStart</code> and <code class=\"language-text\">onBeforeStart</code> that can be hooked into when setting up your application.  This sense of cohesiveness in a set of components that share conventions makes Marionette easy to learn without obscuring what happens with the type of magic you see in other frameworks.</p>\n<h3>Take What You Need</h3>\n<p>Like everything else in Marionette and Backbone, life cycles are a pattern that you can choose to use or ignore.  If you want to define your own way of managing a Views life cycle, it’s perfectly possible to do so.  But the advantages provided by Marionette’s implementation are quite nice.  It presents a simple mental model of what occurs to a View over time, fits in with the other patterns provided by Marionette, and doesn’t require any extra boilerplate when you choose not to use them.  I personally use some of these methods a lot, and have never used a few of them at all.  But it’s helpful to know what is available so that you can keep that simple model of how a View changes over time and choose the appropriate hook for any given View code.  Code is scalable when you can take a few simple concepts and use them repeatedly to build up to something big.  That’s what Marionette can do for you.</p>\n<div class=\"footnotes\">\n<ol>\n    <li class=\"footnote\" id=\"fn:1\">\n        <p>\n        Marionette also exposes those options later using the <code>view.getOption()</code> method\n        </p>\n        <a href=\"#fnref:1\" title=\"return to article\"> ↩</a></p>\n    </li>\n    <li class=\"footnote\" id=\"fn:2\">\n        <p>\n        Marionette cleans up events created through its event hash objects, and any defined using listenTo.  But any custom eventing stuff you do will need to be cleaned up directly\n        </p>\n        <a href=\"#fnref:2\" title=\"return to article\"> ↩</a></p>\n    </li>\n</ol>\n</div>","fields":{"slug":"/2015/01/05/marionette-view-life-cycles"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-es6-1","topics":["backbone","javascript"],"category":"frameworks","key":"bb-radio","title":"Building Modular Web Apps With Backbone.Radio","description":"An overview of using Backbone.Radio in Marionette apps","layout":"post","path":"/2015/01/26/backbone-radio","date":"2015-01-26T12:00:00+00:00","dontfeature":null,"isDraft":null},"html":"<p><em>This is the fifth post in a series on <a href=\"http://marionettejs.com/\">Marionette.js</a>.  For more background on what Marionette is, check out the series page, <a href=\"http://benmccormick.org/marionette-explained/\">Marionette Explained</a></em></p>\n<p>One of the great things about Backbone is how it encourages a modular approach to building UIs.  Different portions of the pages are separated into individual Views, allowing you to simplify your reasoning about your code by focusing on bite-sized chunks at a time.  Easier said than done though, right?  In practice, it’s not hard to create Backbone applications with large views that have tight dependencies on each other.  This usually isn’t an intentional decision, but part of a slow decay as developers work to connect the various aspects of their applications.</p>\n<p>So far in this series I’ve talked about how Marionette makes it easier to create maintainable Views.  Now I’m going to look at <a href=\"https://github.com/marionettejs/backbone.radio\">Backbone.Radio</a>, Marionette’s tool for communication between application components.</p>\n<h3>What’s so hard about modular architecture?</h3>\n<p>There are many advantages to designing your web UI in a modular or component-based fashion.  Your code tends to be easier to reason about and test, it’s easier to swap out one piece of code for another, and it greatly increases the chances that you’ll be able to reuse your code in other places.  Unfortunately for all except the most basic applications, different components of a UI always have to be aware of the things that happen in other areas of the UI.  It may be something simple like responding to a button click by showing a modal, or more complicated like updating multiple dashboard items when the user applies a filter, but these connections will exist.  At this point you have options.  You can begin having components reference each other directly for example, or you could try to capture state within a shared data object that each component watches.  But there’s another solution that borrows from many years of development best practice on backend systems.  You can use a message bus.</p>\n<h3>A simple Message Bus</h3>\n<p>A message bus is a software architecture model for communicating between two systems.  The idea is that instead of referencing each other directly, system components are able to send messages through a shared mediator object.  It’s quite straightforward to create a simple message bus using Backbone.</p>\n<p>Backbone.Events is Backbone’s event object, which gets mixed into the various Backbone classes to provide the Backbone event functions (<code class=\"language-text\">on</code>, <code class=\"language-text\">off</code>, <code class=\"language-text\">listenTo</code>, <code class=\"language-text\">trigger</code>, etc).  It’s easy and common to mix it into a separate object.  That’s all you need to create a message bus: something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> mediator <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>Backbone<span class=\"token punctuation\">.</span>Events<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now Models and Views can listen to or trigger events on the mediator object, allowing them to communicate without having to be directly aware of each other.  This is a great pattern, and quite useful as is, but there are some limitations.  With a mediator object, all events are global.  Any object can listen to any event, and you have to be careful to avoid naming collisions when using common terms.  It’s also a single object for multiple types of communication.</p>\n<h3>The Backbone.Radio API</h3>\n<p>Backbone.Radio builds on this concept to provide a more powerful message bus.  Instead of a single object, Radio provides multiple “channels” each of which can correspond to a page or functional section of your web app. Also, instead of a single events API, Radio provides three, Events, Commands, and Requests, each built for a different use case.</p>\n<h4>Events</h4>\n<p>Radio Events are the exact same as our simple message bus.  When you create a channel with Radio, they extend Backbone.Events.  That means you can call any Backbone.Events function on them, or pass them to the <code class=\"language-text\">listenTo</code> method of other Backbone objects.  Events provide Radio’s publish-subscribe functionality.  Multiple objects can subscribe to an event using <code class=\"language-text\">on</code> or <code class=\"language-text\">listenTo</code>.  And any object can publish an event using <code class=\"language-text\">trigger</code>.  For those of you unfamiliar with Backbone’s events, they have two features that you might not expect.  First, unlike native browser events or jQuery events, Backbone events are synchronous; when you trigger an event, all callbacks that are registered on that event run immediately.  Second, it’s easy to pass data with Backbone events.  Unlike native browser events which tend to simply consist of an event and a target, any data you pass when you trigger an event gets passed directly to the callback function, making it a true messaging system.</p>\n<p><img src=\"/b0d8f4148e5c2054b5aa69db422ca94a/events.svg\" alt=\"events diagram\"></p>\n<p><strong>Functions Provided</strong> - <code class=\"language-text\">on</code>, <code class=\"language-text\">off</code>, <code class=\"language-text\">trigger</code>, <code class=\"language-text\">once</code>, <code class=\"language-text\">listenTo</code>, <code class=\"language-text\">listenToOnce</code>, <code class=\"language-text\">stopListening</code></p>\n<h4>Commands</h4>\n<p><strong>Update January 2016</strong> - <em>During 2015, Commands were deprecated from Backbone.Radio as part of their 1.0.0 release.  From a code level, they’re simply a request that doesn’t return a value, so feel free to keep any existing code, but change command to request and comply to reply</em></p>\n<p>Radio Commands are similar to Events, with the distinction that only a single callback can handle or “comply” to a given command.  Commands do not add any functionality on top of events; instead, they provide a semantic distinction and enforce simpler logic.  When <code class=\"language-text\">exampleChannel.command('something')</code> is called, you know that it is requesting an action be performed, and you can be confident that there will be no side effects.  Only one object will comply to the command.  Commands are a maintenance-friendly tool; they make your code easier to follow by doing less and doing it more obviously.</p>\n<p><img src=\"/0d940b905285467c9345d4608fafbaa2/commands.svg\" alt=\"commands diagram\"></p>\n<p><strong>Functions Provided</strong> - <code class=\"language-text\">comply</code>, <code class=\"language-text\">stopComplying</code>, <code class=\"language-text\">command</code>, <code class=\"language-text\">complyOnce</code></p>\n<h4>Requests</h4>\n<p>Radio Requests share the one-to-one nature of Commands, but provide functionality not seen in Backbone.Events.  You can use Requests to retrieve information from other objects.  Each request can be serviced by a single response callback, with the request receiving the return value of the callback function.  This is very useful for providing resources in a decoupled manner, where a View or other object doesn’t have to know the details of how an object is stored or retrieved.</p>\n<p><img src=\"/1c9139c16fb2e5f48ac88fba8a3f8116/requests.svg\" alt=\"requests diagram\"></p>\n<p><strong>Functions Provided</strong> - <code class=\"language-text\">reply</code>, <code class=\"language-text\">stopReplying</code>, <code class=\"language-text\">request</code>, <code class=\"language-text\">replyOnce</code></p>\n<h4>Channels</h4>\n<p>Radio Channels are a method of segmenting out your messaging across functions.  Instead of holding every event inside a global namespace, objects can interact with a Channel that’s limited to the functionality they need.  This minimizes the chances of naming collisions across the app, and provides additional semantic guidance for future readers of the code.  It’s much easier to trace through small, focused messaging networks than a large, global one when you’re trying to understand a complex behavior.</p>\n<h3>Backbone.Radio in practice</h3>\n<p>Radio’s API is fairly small and simple.  Its power comes from the development patterns it enables.  The following are examples from my own code of how Radio assists in building modular testable UI code.</p>\n<h4>Decouple your Views with Radio Events</h4>\n<p><a href=\"http://en.wikipedia.org/wiki/Loose_coupling\">Loose coupling</a> is one of the most commonly cited design principles in Object Oriented Programming.  In Backbone, loose coupling can be applied to mean that your Views should know as little about each other as possible.  In my own work I implement this by allowing Views to know about and reference their own child Views, but do not allow them to directly reference any other Views.  If Views need to communicate up or across a tree of Views, I use Radio.</p>\n<p>Radio Events are great for alerting other parts of the application about a change of state.  For instance, in an application where we have a main content area and a sidebar that provides context for the main area (for instance, a mail app like Gmail that shows contact info in the sidebar next to an open email), we could use Radio Events to keep our sidebar in sync with the main content.  That might look something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> Mn <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'backbone.marionette'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> Radio <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'backbone.radio'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> inboxChannel <span class=\"token operator\">=</span> Radio<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> ContactView <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>ItemView<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'#contact-template'</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">initialize</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span>inboxChannel<span class=\"token punctuation\">,</span> <span class=\"token string\">'show:email'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showContact<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">listenTo</span><span class=\"token punctuation\">(</span>inboxChannel<span class=\"token punctuation\">,</span> <span class=\"token string\">'show:inbox'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showAd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">showContact</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">emailObject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//show the contact for the emailObject</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">showAd</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//when we don't have a contact to show, show an ad instead</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> ContactView<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Note that our sidebar View doesn’t need to know anything about the inbox area.  The <code class=\"language-text\">show:email</code> event could be fired by our inbox view, by a navigation View, or by our router on page load.  The sidebar doesn’t know and doesn’t care.</p>\n<p>It’s also important to note that the event represents a change in state external to our component.  Something else changed (the state of the inbox), and the sidebar component is reacting to this.  There might be many coponents that react to this state change, or just this one.  Our View doesn’t know or care.</p>\n<h4>Centralize UI Logic with Commands</h4>\n<p>While Events are a way of notifying other components about a change in state, commands are useful when you want to cause a change in state without having to know the implementation.  For instance, in an application that I work on, we have a centralized event-logging module that can take application events that we want logged and send them to a backend API and also to Google Analytics.  We use commands for this.  In practice the logging module looks a bit like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> Radio <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'backbone.radio'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Send event to the backend API and Google Analytics</span>\n<span class=\"token punctuation\">}</span>\n\nRadio<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appEvents'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">,</span>log<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Then we can run <code class=\"language-text\">Radio.channel('appEvents').command('log', event)</code> anywhere we want to log an application event.  We could use events for this, but there’s value in using commands.  We’re explicitly saying that we want our application to log a specific piece of data, whereas a similar event would have the connotation that an event had occured, and anything that wanted to respond to it could.  We can be more confident of what’s happening here.</p>\n<h4>Share Resources Across Nested Views with Requests</h4>\n<p>One of the challenges of nested View architectures like Marionette or ReactJS is deciding how to pass data down to deeply nested View components.  One approach is to pass all necessary data into the top level view and then pass it down along the View tree to whatever View needs it.  That has the advantage of a clear data flow, but the disadvantage of cluttering up parent Views with data they don’t need and tightly coupling the parent Views to the implementation of their children.  Another approach is simply making the data available globally, which has all the disadvantages that global data normally brings.  Radio requests provide a nice solution to this problem.  You can define “data providers” that are responsible for providing any data you need that is not passed directly down a view chain. These could be separate modules similar to Angular’s service objects.  They could be other UI components like a datepicker.  Or they could just be models and collections you define at the root of your application but don’t pass directly to your Views.  In the same application as above, I have a set of task views that can have users assigned to them.  Because these tasks are deeply nested in the UI, I don’t pass the collection of possible Users to assign down the View tree.  Instead, I define that collection within my top level application object and then request it when the user opens up the user-picker View.  I use jQuery deferreds to make sure that the collection has been populated before the picker appears.  That all looks something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//in app.js</span>\n<span class=\"token keyword\">var</span> usersDeferred <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">UserCollection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nresourceChannel<span class=\"token punctuation\">.</span><span class=\"token function\">reply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userlist'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> usersDeferred<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//in task.js</span>\n<span class=\"token keyword\">var</span> usersDeferred <span class=\"token operator\">=</span> resourceChannel<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userlist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nusersDeferred<span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>showUserPicker<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>A Quick Note on Backbone.Radio and Marionette</h3>\n<p>Those of you who have used Marionette before may be a bit confused as to why this post is part of my Marionette article.  As of version 2.3, the current shipping version of Marionette, Radio is not distributed as part of the library.  Marionette instead ships with <a href=\"https://github.com/marionettejs/backbone.wreqr\">Backbone.Wreqr</a> as its message bus implementation.  Wreqr is a precursor to Radio with a significantly more confusing API.  Radio provides a cleaner approach, as well as a more intuitive name.  However, because Marionette follows semantic versioning, they’re waiting for 3.0 to make Radio the default.</p>\n<p>In the meantime, though, it’s easy to replace Wreqr with Radio.  You can simply make sure that you’re loading in Radio instead of Wreqr, and then implement the following <a href=\"https://gist.github.com/thejameskyle/48afb443b8c8c6ee4f46\">shim</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(function(root, factory) {\n  if (typeof define === 'function' &amp;&amp; define.amd) {\n    define(['backbone.marionette', 'backbone.radio', 'underscore'], factory);\n  } else if (typeof exports !== 'undefined') {\n    module.exports = factory(require('backbone.marionette'), require('backbone.radio'), require('underscore'));\n  } else {\n    factory(root.Backbone.Marionette, root.Backbone.Radio, root._);\n  }\n}(this, function(Marionette, Radio, _) {\n  'use strict';\n\n  Marionette.Application.prototype._initChannel = function () {\n    this.channelName = _.result(this, 'channelName') || 'global';\n    this.channel = _.result(this, 'channel') || Radio.channel(this.channelName);\n  }\n}));</code></pre></div>\n<p>It’s also worth pointing out that Radio has no direct dependency on Marionette, and can be used on any Backbone project.  For example, it might be an interesting tool to implement a Flux-style dispatcher in an application using Backbone and React. All of the benefits Radio provides can help any application with decoupled View components.</p>\n<p><strong>Thanks to the Marionette Teams for the diagrams above, which come directly from the Backbone.Radio <a href=\"https://github.com/marionettejs/backbone.radio\">README</a>.</strong></p>\n<h3>More Resources</h3>\n<ul>\n<li>Although it’s focused on Node and backend use cases, <a href=\"https://www.youtube.com/watch?v=rWz8OoVuDls\">this video</a> is a great rundown of semantic messaging patterns.</li>\n</ul>","fields":{"slug":"/2015/01/26/backbone-radio"}}},{"node":{"frontmatter":{"readNext":"mn-series,backbone-devs-react,bb-es6-1","topics":["backbone","marionette"],"category":"frameworks","key":"backbone-eco","title":"The Sad State of the Backbone Ecosystem","description":"A look at the current state of Backbone libraries","layout":"post","path":"/2016/03/07/the-sad-state-of-the-backbone-ecosystem","date":"2016-03-07T05:06:40+00:00","dontfeature":"true","isDraft":null},"html":"<p>For the past 2 years, ~90% of my coding time has been spent working on a large scale Backbone.js app.  In February 2014, the Backbone community was in a fairly good place.  The core library had reached 1.0 the previous year and had a strong team around it.  Marionette had emerged as a de-facto standard for web applications <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>.  There were Backbone specific plugins for many tasks, and generally gaps could be filled using the jQuery plugin ecosystem, or a framework agnostic library.  At the time, Backbone would have been a very defensible choice as a library for starting a new web development, as a simpler and more stable alternative to AngularJS, the current “hot” framework.</p>\n<p>Since then a few things have happened.  First, React has taken off, while Angular and Ember have continued to grow and learn from React and each other. Angular and React have benefited from significant marketing and financial support for a core development team that have helped them grow quickly.  Google Trends gives a pretty good idea of how that has turned out.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6097e983c59e7eb43b81b3b11c89386c/c9d77/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.74125874125874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYklEQVQoz42Oa27jMAyEff+b9Qb9VSdNk8jRg5SshyVR1EJ2222LYrHEQCCI+UYzneb59XwW97sQQkmppNJKG621UlqqY9nvQ+P4RdPlcn17uyCAvF2lUqtV8iHEXQCCQr2IBRFDCN77GAICfI2YpLaIkFOy4mYAk5dGLwDoY3g4Y7QOIZRSYoy5lNXa7/DjoaRc9s4IoJUCYxDAaG2UGosZEbC/B2M+4dPLy/l0muf5dr0iAMKw/6oj2ui96p41MXPfh/9veudKTK07a//C/57DxdxjYZc4128w//R+Nvo45cp+YO8He8DE/fffmXqn3mtrlErf6oettd54wI356Tk4vPBwUaVSKZWylgwpQggGnUZn/CpzlDnC5iA5qFtw1k2t90UAyGfqPVPZSkwbpBrDFlzw2q3W+5i8c2p12nqzJrduNm5uwKUU5kaNa61UaVcjGkujd+3TWuPx0qiXc0HEPxHmsJc9blEVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Google trends graph\"\n        title=\"Google trends graph\"\n        src=\"/static/6097e983c59e7eb43b81b3b11c89386c/432e7/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png\"\n        srcset=\"/static/6097e983c59e7eb43b81b3b11c89386c/a6b04/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 143w,\n/static/6097e983c59e7eb43b81b3b11c89386c/0e2fe/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 285w,\n/static/6097e983c59e7eb43b81b3b11c89386c/432e7/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 570w,\n/static/6097e983c59e7eb43b81b3b11c89386c/77800/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 855w,\n/static/6097e983c59e7eb43b81b3b11c89386c/b5cea/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 1140w,\n/static/6097e983c59e7eb43b81b3b11c89386c/c9d77/Google_Trends_-_Web_Search_interest__angular_js__react_js__backbone_js__ember_js_-_Worldwide__Jan_2010_-_Feb_2016.png 1964w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Update:</strong> <em>I’ve changed the above graph from an original that used angular.js, backbone.js, ember.js, and react.js as the search terms.  Only Backbone prefixes itself with a .js that way, and it undersold the other libraries, especially Angular.  I believe that this chart more accurately reflects usage trends.</em></p>\n<p>Secondly, Backbone’s author, <a href=\"https://twitter.com/jashkenas\">Jeremy Ashkenas</a> made a decision to call Backbone “finished” in terms of API and feature set after the 1.0 release.  This has the advantage of leaving Backbone as by far the most stable major JavaScript framework, but hinders efforts to pull in lessons from other frameworks <sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>.</p>\n<p>Finally, whether as a result of the first 2 items or due to some other factor, the ecosystem around Backbone has crumbled.  While Backbone’s core has stabilized, it still has a team of maintainers who are actively managing the project.  That does not appear to be the case for many of the other libraries in the Backbone ecosystem.  To investigate my perception of this, I decided to look at the contribution graphs of popular Backbone libraries to see the trends over the last 2 years.  I built a list of libraries based on the projects that the bower registry returns for the backbone keyword, looking for projects with at least 400 github stars<sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup>. That lead to a list of 24 projects below.</p>\n<p>To be clear, I’m not posting this as a criticism of anyone.  Open source is a volunteer effort, and maintaining a project is hard and often doesn’t make sense when the author has moved on to other challenges.  This is simply an honest look at where the Backbone ecosystem stands, with the goal of helping those of us who are building Backbone applications or considering using it to evaluate the ecosystem honestly.</p>\n<h3>1. Backbone</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dc33174b5f0f2076fe62999b2520fca1/ee787/Contributors_to_jashkenas_backbone.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz3WPyY7UQAyG6/0P8yxcOfAAiNGcQEjALD1LOmnX4rJ/V1UqnQYlaNAgxCfLtrzbDR5T0Pshh1z6PLfW5le9mYJWbBxHIgJARDFGZiYiEXEpK6yIaGsNgIi01mqtW2NBpsGyP5/Py9/03pdlcVfv7t7fnGqx3hcAdcfMSilWisLmvvz8D+72MA5TCCHEGImImS+Xy3lnXbeV67q+bZjnGUCMEYDjFKEiIjlnZq61/rvh8obe+/5Raa251ws3vTkGVRVo1gxAd/mDQmGwnVKLG8NJVW2vUt2yFUVURibby22Ly++UAQW2j1Qzc5+Gz9/8w8g0MX33D9fHL0/x+JVuPzx9fI7HE4fHMPzwBxE5hJfnON75xxN7z0GgLmgiCYyckL3ESfwW0TjwlDQzJEiMymqImrykoIkhSdiK/QJxFwBdFko2DAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone graph\"\n        title=\"backbone graph\"\n        src=\"/static/dc33174b5f0f2076fe62999b2520fca1/432e7/Contributors_to_jashkenas_backbone.png\"\n        srcset=\"/static/dc33174b5f0f2076fe62999b2520fca1/a6b04/Contributors_to_jashkenas_backbone.png 143w,\n/static/dc33174b5f0f2076fe62999b2520fca1/0e2fe/Contributors_to_jashkenas_backbone.png 285w,\n/static/dc33174b5f0f2076fe62999b2520fca1/432e7/Contributors_to_jashkenas_backbone.png 570w,\n/static/dc33174b5f0f2076fe62999b2520fca1/77800/Contributors_to_jashkenas_backbone.png 855w,\n/static/dc33174b5f0f2076fe62999b2520fca1/b5cea/Contributors_to_jashkenas_backbone.png 1140w,\n/static/dc33174b5f0f2076fe62999b2520fca1/ee787/Contributors_to_jashkenas_backbone.png 2022w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open issues:</strong> 54</p>\n<p><strong>Issues closed in 2016:</strong> 50+</p>\n<p><strong>Last Release</strong>: 3 days ago (March 3rd 2016)</p>\n<p>I’m starting with Backbone itself to give an idea what a stable mature project graph looks like.  Backbone isn’t getting the activity it used to, but there’s still a steady flow of bug fixes and documentation updates, and issues are being worked through.</p>\n<h3>2. Marionette</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/88c890d6a2968e8317d88e64526f1b28/11864/Contributors_to_marionettejs_backbone_marionette.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTklEQVQoz33PTW/UMBAG4Pz/S/8KFy49IBAHpKonQEjZLs2GbTbr+Cvz4Rnb2VVRIlH2Ao/m4BnJntfNYOnk6DBCf8ZuhONEtZZV1qJSSlmWxVo7DAMRGWO89zFGYwwiNimxSAJA1YxERFxKURF0I7jT9XJZlqVu3g5vbXP3bv/p21SUS61EqKoiwswpiagiUa319R+a5yGOdiYiAAghMPNl23bZ1Fqv1+vthTWXKhHlnBsmIAREDCF471X19b9yziklABCRhohEZP15kjVw4nSD1+LbofxRSmkIcEYIEGcEQCicEyUmZiImVpbMqry+mugvREwpNd/Pu/e/Pn98ebw/fvnw8vDVtAc/eIgeggPf2u6H/bl3/RBGBx4Qth0IuMXu3dDa7sn17dTtpq613TGM5ziZaE/B7OzhyfV72z/b4ymc/Rzs7H0McY4q+ht2Lf4DVDDHagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mn graph\"\n        title=\"mn graph\"\n        src=\"/static/88c890d6a2968e8317d88e64526f1b28/432e7/Contributors_to_marionettejs_backbone_marionette.png\"\n        srcset=\"/static/88c890d6a2968e8317d88e64526f1b28/a6b04/Contributors_to_marionettejs_backbone_marionette.png 143w,\n/static/88c890d6a2968e8317d88e64526f1b28/0e2fe/Contributors_to_marionettejs_backbone_marionette.png 285w,\n/static/88c890d6a2968e8317d88e64526f1b28/432e7/Contributors_to_marionettejs_backbone_marionette.png 570w,\n/static/88c890d6a2968e8317d88e64526f1b28/77800/Contributors_to_marionettejs_backbone_marionette.png 855w,\n/static/88c890d6a2968e8317d88e64526f1b28/b5cea/Contributors_to_marionettejs_backbone_marionette.png 1140w,\n/static/88c890d6a2968e8317d88e64526f1b28/11864/Contributors_to_marionettejs_backbone_marionette.png 2034w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 107</p>\n<p><strong>Issues closed in 2016:</strong> 30+</p>\n<p><strong>Last Release</strong>: November 22 2015</p>\n<p>Of all the graphs here, this one is the nearest and dearest to me.  I’ve contributed code to Marionette, and have written about it <a href=\"http://benmccormick.org/marionette-explained/\">many times</a> on this blog.  Marionette still is seeing plenty of work, but as the contributors have cycled through, work on a long awaited version 3 with important improvements has sat on a branch for over a year.  This is a great library, but it hasn’t been immune to the wider issues in the ecosystem.</p>\n<h3>3. Backbone.Relational</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/510ffeb29b773bfdc7a90b6f7f58e9f4/9e7e4/Contributors_to_PaulUithol_Backbone-relational.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAABCUlEQVQY043Oy07DMBAF0Pz/h7DjIxBiC0skxEO0JM3D9rztxKlTlFRAWSBxVrOYO3OrOU8kRmIfHR6c7DvyINM0jZuUTNGN0QDQe29m3ntVRURmrmLKT3t4qYlZ0rqrIhK/qaBrp2SllOOmXKgcT1c39fVdwxrnOavZ9jClNMYYx3G0mJZlOf22bKo5ZyEQAiJyznVdx8ynv+WcRcR7DwDV8VhYhEXPzp2n/6lKKcRsW9LUopqImKhDT0wist67wBeqpSw9uhrWtgP6BnoR6dHd1g8tDira4hAosPBP/mtew0Hg1e/a0L+5/bN7H9DtfH3fPu5CM4BrQncI3YC+hwEIgTBgICJV/QTIxsgS80FbQQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bb-relational\"\n        title=\"bb-relational\"\n        src=\"/static/510ffeb29b773bfdc7a90b6f7f58e9f4/432e7/Contributors_to_PaulUithol_Backbone-relational.png\"\n        srcset=\"/static/510ffeb29b773bfdc7a90b6f7f58e9f4/a6b04/Contributors_to_PaulUithol_Backbone-relational.png 143w,\n/static/510ffeb29b773bfdc7a90b6f7f58e9f4/0e2fe/Contributors_to_PaulUithol_Backbone-relational.png 285w,\n/static/510ffeb29b773bfdc7a90b6f7f58e9f4/432e7/Contributors_to_PaulUithol_Backbone-relational.png 570w,\n/static/510ffeb29b773bfdc7a90b6f7f58e9f4/77800/Contributors_to_PaulUithol_Backbone-relational.png 855w,\n/static/510ffeb29b773bfdc7a90b6f7f58e9f4/b5cea/Contributors_to_PaulUithol_Backbone-relational.png 1140w,\n/static/510ffeb29b773bfdc7a90b6f7f58e9f4/9e7e4/Contributors_to_PaulUithol_Backbone-relational.png 2056w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 122</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> August 19 2015</p>\n<p>Backbone.Relational is another “stable” library.  On its own, there’s nothing wrong with that, this is a focused library that doesn’t necessarily need a lot of new features.  But this is the start of a pattern.</p>\n<h3>4. backbone-forms</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1216f1b1340129468b664c301d48dfb5/efb68/Contributors_to_powmedia_backbone-forms.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz33Oy24bMQwFUP3/Jt/SRf+h6LKLbNos8hhnrBmJIi9JPVw7xYzhpCiQHhDCBQERN8xJj1mfI54jjtn6GH03Nr1X781rrdM0MTMRxRgBLMsiIkGg5k5FzCvUWKTW6u6tNXeXNEt6PY3RWrud7fvV7Q13Xx6+fp9NdYyhgKq6OwB3V1OBttbfPhF+Pi0vR7pWyjmb2eVyOZ1O5/P592YLf38YY9RaRcTMgpRsChGhnImo1vr2X73392rh2lPNYDC3bXZqavaeP/hNrTUUKqYGYKIZgEIBuYZ9cFv+S1XD4zLFst7HX98OPw55Llzu48NTOmSmteSlJBbOTMQkIiwCwR5YgBBpXTlNNL/QPJeYmF5LXDknzpGWlRODs1DiLACLbB0ELAzDH629AXfdDSbpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bb-forms\"\n        title=\"bb-forms\"\n        src=\"/static/1216f1b1340129468b664c301d48dfb5/432e7/Contributors_to_powmedia_backbone-forms.png\"\n        srcset=\"/static/1216f1b1340129468b664c301d48dfb5/a6b04/Contributors_to_powmedia_backbone-forms.png 143w,\n/static/1216f1b1340129468b664c301d48dfb5/0e2fe/Contributors_to_powmedia_backbone-forms.png 285w,\n/static/1216f1b1340129468b664c301d48dfb5/432e7/Contributors_to_powmedia_backbone-forms.png 570w,\n/static/1216f1b1340129468b664c301d48dfb5/77800/Contributors_to_powmedia_backbone-forms.png 855w,\n/static/1216f1b1340129468b664c301d48dfb5/b5cea/Contributors_to_powmedia_backbone-forms.png 1140w,\n/static/1216f1b1340129468b664c301d48dfb5/efb68/Contributors_to_powmedia_backbone-forms.png 2032w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 172</p>\n<p><strong>Issues closed in 2016:</strong> 14</p>\n<p><strong>Last Release:</strong> Jan 21, 2016</p>\n<h3>5. backgrid</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef67da8fe1d51f4e288f8537a31074f4/aae30/Contributors_to_wyuenho_backgrid.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJUlEQVQoz4WQzU7DQAyE8/5P0huPUFVC4oBQ1SNwAZo0bbb7559du7tpURoQvQDfwbJkj0YzjQlsPLcGPeZaSynldIvmchIi6vseEb331lpmNsYwcyOZVfPRRSROKcUYc84ppSySmKPZoTuoKhGJyHxSVWYWkWax2i5WrfWgmgEwhJBzjjEyMyJGQE758gvN08uwfjURKTHTlXEca63zrLWMY70V1FpVVURKKQ1jSBRDCM45ay0AnM/ny++ICCI656bMiMjESASIszP/x9RIzqra+OCHcPQQPlynLIREiAj4BwAwl9J0rl+2j/fd+u5tuTk8t25/COZht7HRf/3BDfizTmIg2Ieh9f2767a+H8JxCMfW7z0EmrJcJddEEQHp2xwh5fQJiiEAyeU5BPwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backgrid\"\n        title=\"backgrid\"\n        src=\"/static/ef67da8fe1d51f4e288f8537a31074f4/432e7/Contributors_to_wyuenho_backgrid.png\"\n        srcset=\"/static/ef67da8fe1d51f4e288f8537a31074f4/a6b04/Contributors_to_wyuenho_backgrid.png 143w,\n/static/ef67da8fe1d51f4e288f8537a31074f4/0e2fe/Contributors_to_wyuenho_backgrid.png 285w,\n/static/ef67da8fe1d51f4e288f8537a31074f4/432e7/Contributors_to_wyuenho_backgrid.png 570w,\n/static/ef67da8fe1d51f4e288f8537a31074f4/77800/Contributors_to_wyuenho_backgrid.png 855w,\n/static/ef67da8fe1d51f4e288f8537a31074f4/b5cea/Contributors_to_wyuenho_backgrid.png 1140w,\n/static/ef67da8fe1d51f4e288f8537a31074f4/aae30/Contributors_to_wyuenho_backgrid.png 2080w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 111</p>\n<p><strong>Issues closed in 2016:</strong> 3</p>\n<p><strong>Last Release:</strong> Jan 21 2014</p>\n<p>This is the first project on this list that I wouldn’t consider to be actively maintained.  Commits over the past 2 years have been primarily about keeping tooling and documentation up to date.</p>\n<h3>6. backbone.localStorage</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5887aae960a429e52e03d8cd2c36e43c/26162/Contributors_to_jeromegn_Backbone_localStorage.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz3WPTW7CMBBGc/8b9Bbd9QrdtVI3LEBVCyTgxPb8O46NqJKAyoYny/J49D7NNAHNBW0HPg5y7OXXMetYS5lWcppGm6bJOee9FxHnnJl57xGxMTMRBeQAhGzOx9lOK6PAAO4w5dEWcs6qmnM2s5RS8/revrx9746xTClZQoBxTES0hLKIIvH1Cc127792zg3AhLBQSqm1Xi6XeqM8CrXWlJKIqGqjTMJAixlCQMRa6/U5pRQzY2YRaVKyJeUfudcyP+V+L6XOrXX/eWcRIaI56eEwMxJFAiRUFmVZP+XW5FVpgLGPHol68PvQteF8CB0xf542H6fNdvjxGA+h6+K5jeceBiSk2V1kS0ZMokLKkREYQUhVe/QDhyiAQoEiKYEQMOoy9zr8H7ZpAYgcJqu4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"localstorage\"\n        title=\"localstorage\"\n        src=\"/static/5887aae960a429e52e03d8cd2c36e43c/432e7/Contributors_to_jeromegn_Backbone_localStorage.png\"\n        srcset=\"/static/5887aae960a429e52e03d8cd2c36e43c/a6b04/Contributors_to_jeromegn_Backbone_localStorage.png 143w,\n/static/5887aae960a429e52e03d8cd2c36e43c/0e2fe/Contributors_to_jeromegn_Backbone_localStorage.png 285w,\n/static/5887aae960a429e52e03d8cd2c36e43c/432e7/Contributors_to_jeromegn_Backbone_localStorage.png 570w,\n/static/5887aae960a429e52e03d8cd2c36e43c/77800/Contributors_to_jeromegn_Backbone_localStorage.png 855w,\n/static/5887aae960a429e52e03d8cd2c36e43c/b5cea/Contributors_to_jeromegn_Backbone_localStorage.png 1140w,\n/static/5887aae960a429e52e03d8cd2c36e43c/26162/Contributors_to_jeromegn_Backbone_localStorage.png 2020w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 45</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Jan 22 2015</p>\n<h3>7. backbone.stickit</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb435a1600b6575c25065ffc4ddc221a/ac307/Contributors_to_NYTimes_backbone_stickit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/0lEQVQY03XPXU7DMAwH8N7/CJyEE/CEtCcGk8bY2AZZkzTxR2K7rBpqK4SE6O/BefHfdhoRRa4h8buDc0sZi5mK6KxSrpRV1TkHADnnlBIzd10nIk3Idb2PHy1ILSJChLVW+YHJM8RhGK7/aVavcHe/f1iHaz8uRERVLaXUWqcqVeS2oCmEkEJOMYTovW/bdhiG27LxHETvvao2ZgZIxL/MzHrrF9hEVcezpzBIES1SuDAzETGNDyLSgvl3Y3jrDy9+tw2HNgckBIRTch3mXTx6iEw8z0DCv+Gvvn/zx5V7fnRPc/dnumz87ty5jX87JZcgX5LPCAFih2nMTczsG7ztyBc71qWDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stickit\"\n        title=\"stickit\"\n        src=\"/static/fb435a1600b6575c25065ffc4ddc221a/432e7/Contributors_to_NYTimes_backbone_stickit.png\"\n        srcset=\"/static/fb435a1600b6575c25065ffc4ddc221a/a6b04/Contributors_to_NYTimes_backbone_stickit.png 143w,\n/static/fb435a1600b6575c25065ffc4ddc221a/0e2fe/Contributors_to_NYTimes_backbone_stickit.png 285w,\n/static/fb435a1600b6575c25065ffc4ddc221a/432e7/Contributors_to_NYTimes_backbone_stickit.png 570w,\n/static/fb435a1600b6575c25065ffc4ddc221a/77800/Contributors_to_NYTimes_backbone_stickit.png 855w,\n/static/fb435a1600b6575c25065ffc4ddc221a/b5cea/Contributors_to_NYTimes_backbone_stickit.png 1140w,\n/static/fb435a1600b6575c25065ffc4ddc221a/ac307/Contributors_to_NYTimes_backbone_stickit.png 2058w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 26</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> May 11 2015</p>\n<h3>8. backbone.paginator</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fbbd029ba1a78e38bf0b072308430d38/ee787/Contributors_to_backbone-paginator_backbone_paginator.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABG0lEQVQoz3XQQU/DMAwF4P5/8V+4c+I+iRNXNGmFdl2bJfF7Tp127WCtNobEvkNkW4nkl6LuWDtWnVQttlXY1rE8wMxyztmsTxysJ1mWJQDnXNu2qto0DYAiCkmFwCwDECDnnFIys17h97sefhxP4zCMd4alLZ6eP17eDrlPwzCQSCnpVd/3AIdxPD9Q7Krua9+6Rdu2JOd5Pi2maTqN4zxN9w/MjOTxeFTVQmKARAAhhBijmZ3P53meb7fnv5avsDVXQXJdNS2oCoLkev7rFqr4dLUACUpcEFSQgFLxmIiklIrXcrPZv9e+OfjOx3DwXXVsuuC+/D7EKFe3ah0GiZfMTnwjnYMPCEIExKUWjwD9XXVNoaoCWdufzN8SfQIjz9CMFgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"paginator\"\n        title=\"paginator\"\n        src=\"/static/fbbd029ba1a78e38bf0b072308430d38/432e7/Contributors_to_backbone-paginator_backbone_paginator.png\"\n        srcset=\"/static/fbbd029ba1a78e38bf0b072308430d38/a6b04/Contributors_to_backbone-paginator_backbone_paginator.png 143w,\n/static/fbbd029ba1a78e38bf0b072308430d38/0e2fe/Contributors_to_backbone-paginator_backbone_paginator.png 285w,\n/static/fbbd029ba1a78e38bf0b072308430d38/432e7/Contributors_to_backbone-paginator_backbone_paginator.png 570w,\n/static/fbbd029ba1a78e38bf0b072308430d38/77800/Contributors_to_backbone-paginator_backbone_paginator.png 855w,\n/static/fbbd029ba1a78e38bf0b072308430d38/b5cea/Contributors_to_backbone-paginator_backbone_paginator.png 1140w,\n/static/fbbd029ba1a78e38bf0b072308430d38/ee787/Contributors_to_backbone-paginator_backbone_paginator.png 2022w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 20</p>\n<p><strong>Issues closed in 2016:</strong> 7+</p>\n<p><strong>Last Release:</strong> Feb 3 2016</p>\n<h3>9. Backbone-validation</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e0034eb5fcd4b1576e89203c618ff970/a878e/Contributors_to_thedersen_backbone_validation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIElEQVQoz4WQTU7DMBBGc/8rcBG27BBLWLBBAqHSpnVsz7/tOk4hMZQV4smyRp4Z6X0ejkFPUfeT7CfZObFUaj2v1HoupeZU6xkAxnFUVeccEQFACCGlNOiG84iSnAdAzDmb2XoLxuN7Vko5i0jOWVXThpmVUoab27e7p5Mpl1IQQFVlg5lVNQLOrV3+YHh4Hl92IZkxMxGZWWtt3mjzXGtdluU6vSxLKaWrtdYGhiCMiOi970kuf9NaU1VmjjHO8zywSFfV/xBdZ8ysx16XXZwmDMJryn468lt+o/2F1nSIWGsdDv54v3989bsJgouTA997HkOASBtM7CF8hGNvISIRrcuAeMCTpwiMESFQXCWEI0EkuP48EnqK9GMjIl/anwm8AtptSYafAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"validation\"\n        title=\"validation\"\n        src=\"/static/e0034eb5fcd4b1576e89203c618ff970/432e7/Contributors_to_thedersen_backbone_validation.png\"\n        srcset=\"/static/e0034eb5fcd4b1576e89203c618ff970/a6b04/Contributors_to_thedersen_backbone_validation.png 143w,\n/static/e0034eb5fcd4b1576e89203c618ff970/0e2fe/Contributors_to_thedersen_backbone_validation.png 285w,\n/static/e0034eb5fcd4b1576e89203c618ff970/432e7/Contributors_to_thedersen_backbone_validation.png 570w,\n/static/e0034eb5fcd4b1576e89203c618ff970/77800/Contributors_to_thedersen_backbone_validation.png 855w,\n/static/e0034eb5fcd4b1576e89203c618ff970/b5cea/Contributors_to_thedersen_backbone_validation.png 1140w,\n/static/e0034eb5fcd4b1576e89203c618ff970/a878e/Contributors_to_thedersen_backbone_validation.png 2048w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 79</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> May 8 2015</p>\n<p>I have personal experience with the abandoned state of this library since my team has been working off a forked version of it for 6 months while waiting on maintainers to address a <a href=\"https://github.com/thedersen/backbone.validation/pull/302\">pull request</a>.  Like many others here, it appears to be a project that the core team moved on from and nobody else had the motivation or time to pick it up.  While there’s nothing wrong with that, it makes it hard to rely on these projects.</p>\n<h3>10. Knockback</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ae84d90b104d75163e2270690a9d7ed/772aa/Contributors_to_kmalakoff_knockback.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.97202797202797%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAn0lEQVQY033OwWoEQQgE0P7//9tbbjkshG5bq9R25pAJs8MGkrB5pwIVq/Xe7UFEeu9VdfxrrUVyjAGgzTkBmJmqisi2bcdxfL6273tVZWZVNXfPzIjIB3fnk8H4hz9lZlNVvvAu93Ob7vQf9ySAiGhmBsPlzFcApunt401sDpOuY5peo2nadZiZh7erQ0T8Cmdt4vzihBPE9wgEybXWFytTV+kAw9qIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"knockback graph\"\n        title=\"knockback graph\"\n        src=\"/static/3ae84d90b104d75163e2270690a9d7ed/432e7/Contributors_to_kmalakoff_knockback.png\"\n        srcset=\"/static/3ae84d90b104d75163e2270690a9d7ed/a6b04/Contributors_to_kmalakoff_knockback.png 143w,\n/static/3ae84d90b104d75163e2270690a9d7ed/0e2fe/Contributors_to_kmalakoff_knockback.png 285w,\n/static/3ae84d90b104d75163e2270690a9d7ed/432e7/Contributors_to_kmalakoff_knockback.png 570w,\n/static/3ae84d90b104d75163e2270690a9d7ed/77800/Contributors_to_kmalakoff_knockback.png 855w,\n/static/3ae84d90b104d75163e2270690a9d7ed/b5cea/Contributors_to_kmalakoff_knockback.png 1140w,\n/static/3ae84d90b104d75163e2270690a9d7ed/772aa/Contributors_to_kmalakoff_knockback.png 2042w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 4</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Sep 28 2015</p>\n<h3>11. Exoskeleton</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5addd2806b49a62018580a5113cbecbf/bfe41/Contributors_to_paulmillr_exoskeleton.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGElEQVQoz3WPTU7DMBCFc/8NV2GNuAASYtcVYkGhlLRu7PmfOG4AOxRFCD5bz6Pneda4O0Q5RtkeaAAt05TXjJ5dpykDYt/3zBxCQMTYyDl3QIwsYUA1ZyIRcXczM3eGExx32c3dF19Vv2/Navjq+unmoXeVnHMCEBFmFhEiYlEAnOf54x+6x+f+dR+GRgjB3c/nc2ksxbq7lKKq0KhhwsSETJwgAcA0Tb+en1eUUsZxbH/yGuY2ZWJUVVFlZmJqu5bE7VwhF+Z57gR5O7zd7zdZnFpzU/rRP2HmGj7F4X6/uX25i5B2w/sxnRLCADEBREgRIiICAC5AW4hEVMNqCkwodSBWZhUzE1URUVNVNbNFq38x3f0r/AnToAP6ed8uFgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exoskeleton graph\"\n        title=\"exoskeleton graph\"\n        src=\"/static/5addd2806b49a62018580a5113cbecbf/432e7/Contributors_to_paulmillr_exoskeleton.png\"\n        srcset=\"/static/5addd2806b49a62018580a5113cbecbf/a6b04/Contributors_to_paulmillr_exoskeleton.png 143w,\n/static/5addd2806b49a62018580a5113cbecbf/0e2fe/Contributors_to_paulmillr_exoskeleton.png 285w,\n/static/5addd2806b49a62018580a5113cbecbf/432e7/Contributors_to_paulmillr_exoskeleton.png 570w,\n/static/5addd2806b49a62018580a5113cbecbf/77800/Contributors_to_paulmillr_exoskeleton.png 855w,\n/static/5addd2806b49a62018580a5113cbecbf/b5cea/Contributors_to_paulmillr_exoskeleton.png 1140w,\n/static/5addd2806b49a62018580a5113cbecbf/bfe41/Contributors_to_paulmillr_exoskeleton.png 2082w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 21</p>\n<p><strong>Issues closed in 2016:</strong> 2</p>\n<p><strong>Last Release:</strong> August 4 2014</p>\n<h3>12. Backbone.dualstorage</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b00f6aa0b32fb7b08b0dceda48ad5504/6f175/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.05594405594406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz3WRzW7UQBCE/f6PwitwQAhOSFGUC+KACCS763jnp3+qZzwz9tpg70aKQHyXbpW6pK7u7hzT0Vkf7ORxcEi5tlZrre1aythqtZT6vgcQQiAiZo4xllK6qeZaRheZNLmooqi15JzHUhKEXp5KQq0VQCm7vpNzbq117z49f3g4E3OrRVVU1cywY5YicZum9ZVlWd723fu705dv55RyKWNKaRzHy+Uy71zmeZqmt4Z1XadpuibazEmDKTGTc857D2D9P8uymJmIeO/nee629dKNnFL+h7+ka+ZSymZW1VtCmKhAkWAG4z0/FAZEYb3NALohItvBPAcSYhVWeSHX0zCwewyHp3j6EZ6/uu+fj/cfD3dHGgwWlUhZ8WoWqEAYKrY1XmNAHMQFjWcNJx5+xsMvOnqNAKKSmGJ/x5+1fwOLWAFbIyinjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone.dualstorage\"\n        title=\"backbone.dualstorage\"\n        src=\"/static/b00f6aa0b32fb7b08b0dceda48ad5504/432e7/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png\"\n        srcset=\"/static/b00f6aa0b32fb7b08b0dceda48ad5504/a6b04/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 143w,\n/static/b00f6aa0b32fb7b08b0dceda48ad5504/0e2fe/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 285w,\n/static/b00f6aa0b32fb7b08b0dceda48ad5504/432e7/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 570w,\n/static/b00f6aa0b32fb7b08b0dceda48ad5504/77800/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 855w,\n/static/b00f6aa0b32fb7b08b0dceda48ad5504/b5cea/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 1140w,\n/static/b00f6aa0b32fb7b08b0dceda48ad5504/6f175/Banners_and_Alerts_and_Contributors_to_nilbus_Backbone_dualStorage.png 2036w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 30</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Feb 16 2015</p>\n<h3>13. Backbone-react-component</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5af39e24469abc3aeda0539deb782c55/efb68/Contributors_to_magalhas_backbone-react-component.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.05594405594406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVQoz3WQzWodMQyF5/3fo7ssA32AhlLIIoV005KG5M6dO/fHtqw/W/bYTZjJJnDphyTEgYM4GpB0dnL0PF14W2S6sGiupRTLtpbVWhHxdDqpqnMOEQEgxjgsS1lqFhUfBTldfAykmi0JwnFnyq33WmtKiYjMTERSSh9zuP/tb+72j8/esljOAMFyJiIRRWLVxMz/Nt6uGH69xNsf+z8jLLXknFW11tpa67231tqy8tnQe1+WpW4MSVDQMYFz/nw+e+9LKW//p9bKzCGENbOZqahqWvuKaynn9YVmVkoZSrbv089AICzMrCJrYGZhEZbEqpv+Gdpg5qFb+/L09dv0YJoDwgwXZo4Un/345F5fw3SAUyBAwkgRiZCQNruIDMXKCPNft0Mmh2EPRxU5gxthHsNhhHkXDoGjRwgEgBAwfhxX1XdO/ABAELPx0wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone react component\"\n        title=\"backbone react component\"\n        src=\"/static/5af39e24469abc3aeda0539deb782c55/432e7/Contributors_to_magalhas_backbone-react-component.png\"\n        srcset=\"/static/5af39e24469abc3aeda0539deb782c55/a6b04/Contributors_to_magalhas_backbone-react-component.png 143w,\n/static/5af39e24469abc3aeda0539deb782c55/0e2fe/Contributors_to_magalhas_backbone-react-component.png 285w,\n/static/5af39e24469abc3aeda0539deb782c55/432e7/Contributors_to_magalhas_backbone-react-component.png 570w,\n/static/5af39e24469abc3aeda0539deb782c55/77800/Contributors_to_magalhas_backbone-react-component.png 855w,\n/static/5af39e24469abc3aeda0539deb782c55/b5cea/Contributors_to_magalhas_backbone-react-component.png 1140w,\n/static/5af39e24469abc3aeda0539deb782c55/efb68/Contributors_to_magalhas_backbone-react-component.png 2032w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 8</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Nov 6 2015</p>\n<h3>14. Backbone-offline</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/059a96539aefa7f5696f554a3572e07a/497e9/Contributors_to_alekseykulikov_backbone-offline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5ElEQVQY043RTWrDMBCGYd//Hr1AT9BtL1DIogQacGLrZzSfRh5Jduxii+4MzbsZbR4xSF2thTh5ToNDb+JtYBek1qKqOWdNMbGba2FmY0xKyVorIkQkIp1oufz4a88MZNUYo4io6rSnwgQ3LHNdzuoelN8+bu+fd8Q01yoiU3PNa06Trtt5XcmZyYPJe2+MGccRwLZt63pOSikArLUAumVZGG1ZaWPSqbzWjiMO+td+Rfy//cHW5zoE8zV+BzCDCSEg9DS8hLcDX+z1TqML/k6jZ9/TwwWPoxgjAN5/A421c0rpF/hDyZ6ZKp7VAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone-offline\"\n        title=\"backbone-offline\"\n        src=\"/static/059a96539aefa7f5696f554a3572e07a/432e7/Contributors_to_alekseykulikov_backbone-offline.png\"\n        srcset=\"/static/059a96539aefa7f5696f554a3572e07a/a6b04/Contributors_to_alekseykulikov_backbone-offline.png 143w,\n/static/059a96539aefa7f5696f554a3572e07a/0e2fe/Contributors_to_alekseykulikov_backbone-offline.png 285w,\n/static/059a96539aefa7f5696f554a3572e07a/432e7/Contributors_to_alekseykulikov_backbone-offline.png 570w,\n/static/059a96539aefa7f5696f554a3572e07a/77800/Contributors_to_alekseykulikov_backbone-offline.png 855w,\n/static/059a96539aefa7f5696f554a3572e07a/b5cea/Contributors_to_alekseykulikov_backbone-offline.png 1140w,\n/static/059a96539aefa7f5696f554a3572e07a/497e9/Contributors_to_alekseykulikov_backbone-offline.png 2064w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 30</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Aug 21 2013</p>\n<p>This project is actually documented as being deprecated and discontinued.  There is talk in the README about building a successor library, but it appears to have never emerged.</p>\n<h3>15. React.Backbone</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/405cb041456345192d710e66da15d0c9/a6d66/Contributors_to_clayallsopp_react_backbone.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABK0lEQVQoz3WQSU4DMRBF+/5rDsEBOAEbxDLs2CAUKekhbdfsqZsG7FaisODZiy9Xfdu/usHp6G1wehx59FZKyY1SVcoplJxTSn3fExEAOOdE5HK5xBg7ZBENHkksIomI5JxjjCmlIITjMQdZljWGkNstMca9oZTSPTx9PD6fkGRZijZCCLswM2IppXz/Q/d5csfeeQDv/TzPRLRt27quX411XbdtuzfEGM0MAOrLKqTCwoyIAGBmt77dtv1l/7OqLsvSqamFULeZhbpERVT0yr3es+zknDtmrvVGUOth8gTV06jGa/WGqTJzSqmbwQ04IREzz+hezofX89thfD/5QVkd+h4mbgAhEQnLABMgVrOaalC1NmRTNkFlVNKWw4JJm3/Yo7XDmtTsN/MP1/wC0O1d8IgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"react.backbone\"\n        title=\"react.backbone\"\n        src=\"/static/405cb041456345192d710e66da15d0c9/432e7/Contributors_to_clayallsopp_react_backbone.png\"\n        srcset=\"/static/405cb041456345192d710e66da15d0c9/a6b04/Contributors_to_clayallsopp_react_backbone.png 143w,\n/static/405cb041456345192d710e66da15d0c9/0e2fe/Contributors_to_clayallsopp_react_backbone.png 285w,\n/static/405cb041456345192d710e66da15d0c9/432e7/Contributors_to_clayallsopp_react_backbone.png 570w,\n/static/405cb041456345192d710e66da15d0c9/77800/Contributors_to_clayallsopp_react_backbone.png 855w,\n/static/405cb041456345192d710e66da15d0c9/b5cea/Contributors_to_clayallsopp_react_backbone.png 1140w,\n/static/405cb041456345192d710e66da15d0c9/a6d66/Contributors_to_clayallsopp_react_backbone.png 2070w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 11</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Jan 5 2015</p>\n<p>Interesting, and not encouraging, that the 2 newest libraries at this popularity level are both for helping Backbone users migrate to React, and neither appear to be very active.</p>\n<h3>16. Backbone.expoxy</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bf572120bbe7746eb7d24376632dbdaf/ee787/Contributors_to_gmac_backbone_epoxy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABL0lEQVQoz33RS07DMBAGYN//CFwEDoEQu5YNRRSaNLGdeXscE0AJQu0Gvp1HY838mpBA36OconRR6jy31uaL2mppddX3PQAw8ziOIhJjFJFQTFVtSABkIsLM7l6KFfeiDP2rUZ5bExEzc3cRcXdVdfdwc/t8d98TYpsrABKRmTGzbCZEr/XrD+F+P+xe0jrdjIhUdVmWj4v2uSzXH1pbc7h7ay0ogzAAQNqIyNe/fvZKaZ0XiFhE10i6pd9W0Cs/9cvTrGxqrYGI1nAsCTMxDZCAUFmVRVmQKGEWXhv4FxHhFjAA4gipiD2cd0/j4fG8fzzvI+aX9DYRHHP3NB6IaYQItJ4KCGhjZgEJM07I1MNwTKdjPh1zFzF3MCTMwxQj5oipg3OmiZkzTsTEzKWUb+IOAS/fUz9UAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone.epoxy\"\n        title=\"backbone.epoxy\"\n        src=\"/static/bf572120bbe7746eb7d24376632dbdaf/432e7/Contributors_to_gmac_backbone_epoxy.png\"\n        srcset=\"/static/bf572120bbe7746eb7d24376632dbdaf/a6b04/Contributors_to_gmac_backbone_epoxy.png 143w,\n/static/bf572120bbe7746eb7d24376632dbdaf/0e2fe/Contributors_to_gmac_backbone_epoxy.png 285w,\n/static/bf572120bbe7746eb7d24376632dbdaf/432e7/Contributors_to_gmac_backbone_epoxy.png 570w,\n/static/bf572120bbe7746eb7d24376632dbdaf/77800/Contributors_to_gmac_backbone_epoxy.png 855w,\n/static/bf572120bbe7746eb7d24376632dbdaf/b5cea/Contributors_to_gmac_backbone_epoxy.png 1140w,\n/static/bf572120bbe7746eb7d24376632dbdaf/ee787/Contributors_to_gmac_backbone_epoxy.png 2022w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 19</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Nov 20 2014</p>\n<h3>17. backbone.iobind</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c0603a20064def894a5e39386337e39/437e0/Contributors_to_noveogroup_backbone_iobind.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQoz2WPsVLDMAyG8/7vw8AEKwwMZWeAo6RJY1u/LSmKfQ6XpA09+i2Wdfr0240jPg2xc/G7w7FHANs4qo5mNk3TuKKqbdsC8N4754jIOSciTTa1UT1FR3z2MQSYmarCdXT+KaXknM0MgIjwioiklMyseT6cHt/a9kzZlJkBqGqMMaWYIpiXoVrrPM91Zb5Sa22eDqeH1+/ec55MZPG3qJxLzsXMSinzDftbFjmGAb6n4Pu+77rOOXe7/h+1VhEBMAxDKaVhlvUXF3TlvtgZryxyislTiDu4nsB9c+sDIKJpmhb55fj+MXxxTAQiUEDY1m3XbdpT2Os/mZk/h2Mb+nSR4RE8/CYHENZcR54i3YbnnH8BCEMDJRUMblUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone.iobind\"\n        title=\"backbone.iobind\"\n        src=\"/static/1c0603a20064def894a5e39386337e39/432e7/Contributors_to_noveogroup_backbone_iobind.png\"\n        srcset=\"/static/1c0603a20064def894a5e39386337e39/a6b04/Contributors_to_noveogroup_backbone_iobind.png 143w,\n/static/1c0603a20064def894a5e39386337e39/0e2fe/Contributors_to_noveogroup_backbone_iobind.png 285w,\n/static/1c0603a20064def894a5e39386337e39/432e7/Contributors_to_noveogroup_backbone_iobind.png 570w,\n/static/1c0603a20064def894a5e39386337e39/77800/Contributors_to_noveogroup_backbone_iobind.png 855w,\n/static/1c0603a20064def894a5e39386337e39/b5cea/Contributors_to_noveogroup_backbone_iobind.png 1140w,\n/static/1c0603a20064def894a5e39386337e39/437e0/Contributors_to_noveogroup_backbone_iobind.png 2094w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 16</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Dec 10 2014</p>\n<h3>18. backbone-associations</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3e092df961294ee9e7faab9092aa60dc/aae30/Contributors_to_dhruvaray_backbone-associations.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEklEQVQoz3XRWUoEQQwG4L7/CTyJ4CF8UwSREVzGma7qSv7KUktrq+24gvMRQl4SSDKMyQLZY9CnqA9Bdsn7j9ZbmXurtW63W3yIMYpIjNHdB1U1s4kA8Ug5US6luHspxQS8v6uK3mczLaXUWt29tXbIw8np5ux85ya9N8lwW2eJiK6MGX2eX48YLjbh5j6qSs6ZmVX1+Y95WV5+N7S2bqGq8zwPAhIwgGmaUkru/nrcsizrOmZE1HsfRNTc7YOv1Wd9jH9Zm8Ew1UNQBmd2NRVVUTkOQCllSEx7CpfjDYOvw+1V2CTQhHQ1bjgjgfJ/ANRahwQaOT7SPmB64vGBdjsaA6Yt7yGAIOd8OP53Pnh/1RuhIgIXRUjG9gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone-associations graph\"\n        title=\"backbone-associations graph\"\n        src=\"/static/3e092df961294ee9e7faab9092aa60dc/432e7/Contributors_to_dhruvaray_backbone-associations.png\"\n        srcset=\"/static/3e092df961294ee9e7faab9092aa60dc/a6b04/Contributors_to_dhruvaray_backbone-associations.png 143w,\n/static/3e092df961294ee9e7faab9092aa60dc/0e2fe/Contributors_to_dhruvaray_backbone-associations.png 285w,\n/static/3e092df961294ee9e7faab9092aa60dc/432e7/Contributors_to_dhruvaray_backbone-associations.png 570w,\n/static/3e092df961294ee9e7faab9092aa60dc/77800/Contributors_to_dhruvaray_backbone-associations.png 855w,\n/static/3e092df961294ee9e7faab9092aa60dc/b5cea/Contributors_to_dhruvaray_backbone-associations.png 1140w,\n/static/3e092df961294ee9e7faab9092aa60dc/aae30/Contributors_to_dhruvaray_backbone-associations.png 2080w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 16</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Jun 28 2014</p>\n<p>We’re really starting to get into the meat of the dead projects now.  While there are always going to be older projects that were once popular and got a lot of stars and are now abandoned, that shouldn’t be this many of the top 20 projects</p>\n<h3>19. backbone-tastypie</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d62d36247f973b5cb2610dc9296e11eb/966ce/Contributors_to_PaulUithol_backbone-tastypie.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVQY03XOXU7DMAwH8N7/DFyEG/AI4mHiZQxt09qmcfyRxE7btahlmzYBv4e/JSu2UxUziQk5nTquIdYd2Y1qIkiCwzCEEBAx5wwAKSVEVNWqgfy+9fuWNEXVjCHknEUkpSXJN4L+fDWO431Wr1t8et69bLrz2KuVGGMpxcwu2fdW+nmep2maV9OdKkcmcEwBkZxzAGBm8/9yzkTLy+XbaoZELAtei6raX8qjYRgqKxY5aswpxhQX6xq5YebLVnloLpf7Uo5Qf/pDS/4YGmISkbfm44RtksjCQGEPp5/+r+G+r0O788cGXY0OKBDRlz+02IkIEhJTg84j8PU+r0op3wsdySXrL0B9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tastypie graph\"\n        title=\"tastypie graph\"\n        src=\"/static/d62d36247f973b5cb2610dc9296e11eb/432e7/Contributors_to_PaulUithol_backbone-tastypie.png\"\n        srcset=\"/static/d62d36247f973b5cb2610dc9296e11eb/a6b04/Contributors_to_PaulUithol_backbone-tastypie.png 143w,\n/static/d62d36247f973b5cb2610dc9296e11eb/0e2fe/Contributors_to_PaulUithol_backbone-tastypie.png 285w,\n/static/d62d36247f973b5cb2610dc9296e11eb/432e7/Contributors_to_PaulUithol_backbone-tastypie.png 570w,\n/static/d62d36247f973b5cb2610dc9296e11eb/77800/Contributors_to_PaulUithol_backbone-tastypie.png 855w,\n/static/d62d36247f973b5cb2610dc9296e11eb/b5cea/Contributors_to_PaulUithol_backbone-tastypie.png 1140w,\n/static/d62d36247f973b5cb2610dc9296e11eb/966ce/Contributors_to_PaulUithol_backbone-tastypie.png 2050w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 12</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Oct 26 2013</p>\n<p>This is a single use case library that presumably was abandoned after solving a problem, but its worth including to illustrate that the 400 star bar isn’t that hard to hit. A similar search for React projects on bower yields 46 projects with 400+ stars, and React is only ~3 years old.</p>\n<h3>20. backbone.syphon</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b151dd406dd04c57ab6e3e3efa15c44a/a6d66/Contributors_to_marionettejs_backbone_syphon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5klEQVQY03XQbU7DMAwG4N7/DBwEcQZuMCGNaVNpnTTxV+ImnQZp+dCAPr/sKK8cpzOzCRMEPY90Gug0oCYr8ydTzkq1FgBwziEiACCic05EOk72cva9IxExMyJSVVulnCk4DnBdlvqf7nCRh6fXx+e3nNIWzjmLSEpJmySabjs6VZm8C9PkvQeAYRhU9bYv58zMAGBmXa2VWdYhKtKKeZ7Lvq/fmNuzSykRo7Aws6zoHhPftattu24py2E8Avot/xcS/ip+wte6HP2lD2NERMLvCa0jChj7CBEjEQ0BsJ2EiO3ux87vuwTJvG2he/QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"syphon graph\"\n        title=\"syphon graph\"\n        src=\"/static/b151dd406dd04c57ab6e3e3efa15c44a/432e7/Contributors_to_marionettejs_backbone_syphon.png\"\n        srcset=\"/static/b151dd406dd04c57ab6e3e3efa15c44a/a6b04/Contributors_to_marionettejs_backbone_syphon.png 143w,\n/static/b151dd406dd04c57ab6e3e3efa15c44a/0e2fe/Contributors_to_marionettejs_backbone_syphon.png 285w,\n/static/b151dd406dd04c57ab6e3e3efa15c44a/432e7/Contributors_to_marionettejs_backbone_syphon.png 570w,\n/static/b151dd406dd04c57ab6e3e3efa15c44a/77800/Contributors_to_marionettejs_backbone_syphon.png 855w,\n/static/b151dd406dd04c57ab6e3e3efa15c44a/b5cea/Contributors_to_marionettejs_backbone_syphon.png 1140w,\n/static/b151dd406dd04c57ab6e3e3efa15c44a/a6d66/Contributors_to_marionettejs_backbone_syphon.png 2070w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 19</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Oct 18 2015</p>\n<h3>21. backbone-nested</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e9446c439d285e134ff8c7d502c57265/defc9/Contributors_to_afeld_backbone-nested.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.35664335664335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJUlEQVQoz33QO1LDMBAGYN//ANyEnjplUlAEGDJkFJLYkvZtPayAHUJF+ArNaGc1/666o5f9mQ+DuJ5TzqWUfJUsj5pTKqWYmXMOEWOMwzAg4jAMZtYxM5L0HpCNFjlnVSX/ScNhqqWUklISkXEczUxVx3FU1ZRS9/D49rQ+qVDOKcYoN0QsoohYa73c0a1fjjvnmQkAQggiMk1tmmqtdVpyW2u/3a21az4R1Vo7BM8EiBhC8N6b2eW+1pqZiQgAzI+FREWZWUR0If/Sm1JK99E7D8FYkZBumDhgDBiYmP6CiPOHrdxm5TbPp9e9PxDOVUKMELfn922/m9eBCACAECEu57wjAOScO4/hCP0J+kgwJy6Q0GPwGOe78LU+DyGM9NPzPfYXoJMC4USVO8wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone-nested\"\n        title=\"backbone-nested\"\n        src=\"/static/e9446c439d285e134ff8c7d502c57265/432e7/Contributors_to_afeld_backbone-nested.png\"\n        srcset=\"/static/e9446c439d285e134ff8c7d502c57265/a6b04/Contributors_to_afeld_backbone-nested.png 143w,\n/static/e9446c439d285e134ff8c7d502c57265/0e2fe/Contributors_to_afeld_backbone-nested.png 285w,\n/static/e9446c439d285e134ff8c7d502c57265/432e7/Contributors_to_afeld_backbone-nested.png 570w,\n/static/e9446c439d285e134ff8c7d502c57265/77800/Contributors_to_afeld_backbone-nested.png 855w,\n/static/e9446c439d285e134ff8c7d502c57265/b5cea/Contributors_to_afeld_backbone-nested.png 1140w,\n/static/e9446c439d285e134ff8c7d502c57265/defc9/Contributors_to_afeld_backbone-nested.png 2046w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 45</p>\n<p><strong>Issues closed in 2016:</strong> 1</p>\n<p><strong>Last Release:</strong> Jul 27 2015</p>\n<h3>22. backbone.radio</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a2f3a471ada8f4134e11b87f553ebdb4/bfe41/Contributors_to_marionettejs_backbone_radio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVQY03WQy07DQAxF8/8fgsSOTwC2SKwQCEGpCk3TNPO8tifzSCcoIFhAexZ3Yen4ym5yTp6CsrJT2OzRDhhjzDmnGEeyMXDOuZTinNvv9yJyOBwAKKVEpIm5vG7NqrVEHGMkImGOMYUgXveBUcpUSplO0XgpFzfby9vWQ3Ja5BCCiISFMYSRiGqt8ymaaZqcVc4qY4zWuus6APM8nxNSSkSklGLm5ng8EjGYWJiZv5vTP5Yv/OTvpKm1ghCINezXwRJYmIhpWXQOACGEZq7VeHvXPVytr5+HNYCNaa13g1cGjokdvIMHwcL9lWutxPSoVvf905v52Nn+RW0G6HfTGlrkAWbwWsP2fgAAJg/PzGMcPwHDbchLMx6kTAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone.radio\"\n        title=\"backbone.radio\"\n        src=\"/static/a2f3a471ada8f4134e11b87f553ebdb4/432e7/Contributors_to_marionettejs_backbone_radio.png\"\n        srcset=\"/static/a2f3a471ada8f4134e11b87f553ebdb4/a6b04/Contributors_to_marionettejs_backbone_radio.png 143w,\n/static/a2f3a471ada8f4134e11b87f553ebdb4/0e2fe/Contributors_to_marionettejs_backbone_radio.png 285w,\n/static/a2f3a471ada8f4134e11b87f553ebdb4/432e7/Contributors_to_marionettejs_backbone_radio.png 570w,\n/static/a2f3a471ada8f4134e11b87f553ebdb4/77800/Contributors_to_marionettejs_backbone_radio.png 855w,\n/static/a2f3a471ada8f4134e11b87f553ebdb4/b5cea/Contributors_to_marionettejs_backbone_radio.png 1140w,\n/static/a2f3a471ada8f4134e11b87f553ebdb4/bfe41/Contributors_to_marionettejs_backbone_radio.png 2082w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 9</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Sep 5 2015</p>\n<p>Backbone.Radio (along with Backbone.syphon) is part of the marionette project.  You can see that those projects at least have continued work during the past year, albeit at a significantly less active rate than during 2014</p>\n<h3>23. backbone-fetch-cache</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9d6724b7672b3a011c5abb8b58e19bf6/772aa/Contributors_to_madglory_backbone-fetch-cache.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.95804195804196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAABIklEQVQY03XQ20rEMBAG4L7/M/gi4q2IVyIiIri4q+uytU2TOeQwM9uDtNVlb/wuhp8wSSapTIVjQo61ow7ytyPipPIrYRdDczJDIgAopQBASgkRc85V7dPjxn3WGJmkFAg+pcTMayXwGNzQ98MwjOPY9/04judcPW3h6np399KeTEU1xmhmIqI6X69mYjZN07g4h1UlOTF0CB4A3GIYhul/IoKIbdvGGCsRBSTiuGBiyiXLhSJlDfpH5hHVzCpVZaKccoPOkS+x8IXInDgBITFdrhPR/GGm2gSHRLeHh5v9/Zc/BgyBYO122B1C/dxsHPo4HzWPFgiYeN58slMTWofdm/t4ddv3bt+A8xiAkJkbdLvusPfHQBCXpyGhx8DMIvIDv1bIHRDj2qgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone-fetch-cache graph\"\n        title=\"backbone-fetch-cache graph\"\n        src=\"/static/9d6724b7672b3a011c5abb8b58e19bf6/432e7/Contributors_to_madglory_backbone-fetch-cache.png\"\n        srcset=\"/static/9d6724b7672b3a011c5abb8b58e19bf6/a6b04/Contributors_to_madglory_backbone-fetch-cache.png 143w,\n/static/9d6724b7672b3a011c5abb8b58e19bf6/0e2fe/Contributors_to_madglory_backbone-fetch-cache.png 285w,\n/static/9d6724b7672b3a011c5abb8b58e19bf6/432e7/Contributors_to_madglory_backbone-fetch-cache.png 570w,\n/static/9d6724b7672b3a011c5abb8b58e19bf6/77800/Contributors_to_madglory_backbone-fetch-cache.png 855w,\n/static/9d6724b7672b3a011c5abb8b58e19bf6/b5cea/Contributors_to_madglory_backbone-fetch-cache.png 1140w,\n/static/9d6724b7672b3a011c5abb8b58e19bf6/772aa/Contributors_to_madglory_backbone-fetch-cache.png 2042w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 26</p>\n<p><strong>Issues closed in 2016:</strong> 2</p>\n<p><strong>Last Release:</strong> Feb 16 2014</p>\n<h3>24. backbone-query-parameters</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a10d2feebf43a0b8547e0de3f08a906/3145a/Contributors_to_jhudson8_backbone-query-parameters.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.65734265734265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLklEQVQoz32RzYrbUAyF/f7P0m0fIZsuSheFDgSmLZPEaX1/9C/5+saZOklhKGU+xEFaHHSQhgQ6Jj4lPk5y060i5gdhLTwixnFERADIORNRSsnMhr7E0hyRKwmyThlQzMwiQlVwOiqktiwiEhHubmZ3ned5+Php/LA7fj/VFmaqCBBuRKSqIoLEZn79H+u6Dp/3aff1/CtThItsS9d1XZal9365XG7a33p67621iOi9D67kgkxYSkkpEdH1XdydmXPOETGIKjHLX1hY38VuuHtrbXg4mIXFRIUfY8ZaCfgG8b8gorsPKnIoY8ZSsL6U8Wc+7Kcfv2v6cv72ND0zcUU4lHNFQMLtSZABgZC22GZWCUgICAtBYchUgTFTrQxbHhUgvDcq23mISUT+xH4F/vsB/pJ8oY8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backbone-query-parameters\"\n        title=\"backbone-query-parameters\"\n        src=\"/static/1a10d2feebf43a0b8547e0de3f08a906/432e7/Contributors_to_jhudson8_backbone-query-parameters.png\"\n        srcset=\"/static/1a10d2feebf43a0b8547e0de3f08a906/a6b04/Contributors_to_jhudson8_backbone-query-parameters.png 143w,\n/static/1a10d2feebf43a0b8547e0de3f08a906/0e2fe/Contributors_to_jhudson8_backbone-query-parameters.png 285w,\n/static/1a10d2feebf43a0b8547e0de3f08a906/432e7/Contributors_to_jhudson8_backbone-query-parameters.png 570w,\n/static/1a10d2feebf43a0b8547e0de3f08a906/77800/Contributors_to_jhudson8_backbone-query-parameters.png 855w,\n/static/1a10d2feebf43a0b8547e0de3f08a906/b5cea/Contributors_to_jhudson8_backbone-query-parameters.png 1140w,\n/static/1a10d2feebf43a0b8547e0de3f08a906/3145a/Contributors_to_jhudson8_backbone-query-parameters.png 2112w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>Open Issues:</strong> 10</p>\n<p><strong>Issues closed in 2016:</strong> 0</p>\n<p><strong>Last Release:</strong> Sep 23 2014</p>\n<p>So what does this look like in aggregate.  Of the “top 24” Backbone projects, only 2 were started after January 2014, and one of those is a tool to migrate Backbone projects to React, the other was a rebrand of an existing tool.  18 of the top 24 libraries have not had a release in the last 6 months, 9 have not had a release since December 2014 or earlier.  If we classify these libraries as “Actively Growing”, “Actively being developed”, “Stable and maintained”, “Flickering Signs of life”, “All but dead”<sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>, and “Dead”, I would personally split that out like this:</p>\n<table>\n<thead>\n<tr><th>Title</th><th>Libraries</th><tr>\n</thead>\n<tbody>\n<tr><td>Actively Growing</td><td></td></tr>\n<tr><td>Actively Developed</td><td> Marionette</td></tr>\n<tr><td>Stable + minimally maintained</td><td> Backbone, Backbone.Relational, backbone-forms, backbone.paginator, Backbone.syphon, Backbone.radio</td></tr>\n<tr><td>Flickering Signs of life</td><td> back grid, knockback,</td></tr>\n<tr><td>All but Dead</td><td> backbone.localstorage, backbone.stickit, backbone-validation, exoskeleton, backbone.dualstorage, backbone.react-component, react.backbone, backbone-nested, backbone-fetch-cache, backbone-query-parameters</td></tr>\n<tr><td>Dead</td><td> backbone.offline, backbone.iobind,  backbone.epoxy, backbone-associations, backbone-tastypie</td></tr>\n</table>\n<p>It is not a pretty picture right now.  If you’re part of the Backbone community, I’d love to hear from you on this.  Should we be calling Backbone dead and looking to migrate ASAP?  Do you think I’m overselling this problem?  Are there libraries that I’m not considering right now that are thriving?  Or is focusing on Backbone-specific libraries a mistake because most developers are pasting together multiple libraries that aren’t necessarily tightly tied.</p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">When I attended BackboneConf later that year, about 75% of attendees raised their hands when asked if they had used Marionette<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-2\">Some ideas, like a better router or better templating systems, can be pulled in as 3rd party libraries just fine.  But conceptual changes like 1 way data flow or easily composable components from React and the ES6 class model can’t easily be pulled into Backbone without changes to the core library.  It’s debatable whether those ideas are useful for Backbone, but it is clear that they will not fit within the current state of the library.<a href=\"#fnref-2\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-3\">I used Bower rather than npm because it returns search results sorted by stars rather than trying to directly match the query.<a href=\"#fnref-3\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-4\">I don’t like calling somebody else’s project dead if its not labeled that way and has had recent issues activity<a href=\"#fnref-4\" class=\"footnote-backref\">↩</a></li>\n</ol>\n</div>","fields":{"slug":"/2016/03/07/the-sad-state-of-the-backbone-ecosystem"}}}],"topic":"backbone"}},
    "staticQueryHashes": []}