<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://benmccormick.org</id>
    <title>benmccormick.org</title>
    <updated>2017-08-16T04:26:18Z</updated>
    <generator>Feed for Node.js</generator>
    <author>
        <name>Ben McCormick</name>
        <email>ben@benmccormick.org</email>
    </author>
    <link rel="alternate" href="http://benmccormick.org"/>
    <link rel="self" href="http://benmccormick.org/atom.xml"/>
    <subtitle>A blog by Ben McCormick</subtitle>
    <logo>https://benmccormick.org/logo.png</logo>
    <icon>https://benmccormick.org/favicon.ico</icon>
    <rights>All rights reserved 2016, Ben McCormick</rights>
    <contributor>
        <name>Ben McCormick</name>
        <email>ben@benmccormick.org</email>
        <uri>http://benmccormick.org</uri>
    </contributor>
    <entry>
        <title type="html"><![CDATA[Taking Advantage of Jest Matchers (Part 1)]]></title>
        <id>https://benmccormick.org/2017/08/15/jest-matchers-1/</id>
        <link href="https://benmccormick.org/2017/08/15/jest-matchers-1/">
        </link>
        <updated>2017-08-15T04:00:00Z</updated>
        <content type="html"><![CDATA[<p>Back in May, my favorite testing library, Jest, released it’s 20th version and <a href="https://facebook.github.io/jest/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner.html">rebranded itself</a> as the library for “Delightful JavaScript Testing”.  Delightful and testing are two words that usually don’t go together in the software development lexicon.  But that claim is the result of 2 years of hard work from the Jest team trying to get the usability details of testing exactly right.  One of the version 20 announcements that exemplified this commitment to detail was the addition of several new assertion APIs to an already large list. This post dives into the many matcher options in Jest, why they’re there, and how to make good use of them.</p>
<p>Assertion APIs, or matchers, are the methods that the library makes available for defining the expected value of a variable or expression.  The most basic assertion in Jest is the <code>.toBe</code> matcher, which checks to see if one value is the same as the other.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Why so many matchers?</h3>
<p>When writing tests, the only assertion api you really <strong>need</strong> is a method that takes a boolean and determines whether it is true or false.  Assuming you can figure out inspecting functions and async code, everything else can be expressed with an assert method like that:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>So why does Jest need 30+ matcher methods?  Because they allow you to be specific in your intent, and also let Jest provide helpful error messages.  For instance, when you write a test like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> getRecord <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'fullName'</span><span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'records have a name and an ID'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>it is obvious what the test is trying to check, and you can get detailed output like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 58.94736842105264%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz62TyVKDQBiE8/4v4cWjN48+gpaJ0WyQFWIihLAOBGaIbf8kpWVOwfLQzLB99HQPne36Df5mhOBjzHGILJzCKOfP6kR3N4jvbxG6PeycLny3j/i9DxNZqNM56tjG58G9Wp06nUHvx6j8ATRlwglK7xXVbthADYF1vroeKIcqW0BTxh81rsp0wWvLZixTm7LaAVUwQbLuI108Q/ljpE4P2qNDjx8I7ZOSGY5qeR2w4LJ22y4KviSlqOg0isM2+X0D/1MN0KgVXc6QU4dkDkV3OV0W8RxRNMWGkXh7Cz6XHskK+EzBzA/MWbI+Fs4PUHIRoNzQ2cWc7ZZSjpTGuchcSGC/gOXZlbjTbFhz22hmeWp+2WwZ02bbrFcvkL8lCSxUwQjZ4AG588RzG+nebp+hbT3CJTQ75+ZtBnTl/LmUL6wpjW4P0dPsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Error output from Jest"
        title=""
        src="/static/165f7e639e1a843277420540e4ec6cf6-d766e.png"
        srcset="/static/165f7e639e1a843277420540e4ec6cf6-a6b6e.png 143w,
/static/165f7e639e1a843277420540e4ec6cf6-8e488.png 285w,
/static/165f7e639e1a843277420540e4ec6cf6-d766e.png 570w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>You get the structure of the object as it is, the name of the property that is missing, the line number and file name where you can find the assertion, all in a concise, colorful and nicely formatted test failure message.</p>
<p>You can categorize Jest’s matchers into 8 different categories: equality matchers, template matchers, numeric comparison matchers, contains matchers, async matchers, snapshot matchers, function matchers, and meta matchers.  I’ll go through the first 3 in this post, and cover the rest in a followup.</p>
<h3>Equality Matchers</h3>
<p>Equality matchers are the workhorse matchers of any test libraries.  This is where we see whether an expression evaluates to the value we expect. This being JavaScript however, equality takes a few different forms, and Jest covers each of them, along with some syntactic shortcuts.</p>
<h4>toBe and toEqual</h4>
<p><code>toBe</code>, as mentioned previously, is the simplest Jest matcher.  It is equivalent to a simple <code>===</code> statement, and verifies that the expression being tested is the same reference as the expression that it is matched against.  Since it is reference based, toBe is a good fit for numbers, strings and booleans, or for checking that an object is the exact same reference as another object.  But it’s not good for comparing two separate objects.  It behaves like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> <span class="token string">'e'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false!</span>
</code></pre>
      </div>
<p>For comparing object and array equality, it usually is better to use <code>toEqual</code>, which does a deep property comparison:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nestedObj <span class="token operator">=</span> <span class="token punctuation">{</span>nested<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>nestedObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>nested<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toEqual</code> doesn’t line up to any built in JavaScript idea of equality exactly, it just does a recursive equal check. But it behaves like most people who haven’t already encountered the details of JavaScript equality would expect equality to work.  If objects share the same structure and values, they’re equal. There also is no Jest equivalent to <code>==</code> with its odd type casting behavior, and that is ok by me.</p>
<h4>toBeDefined, toBeNull and toBeUndefined</h4>
<p><code>toBeDefined</code>, <code>toBeNull</code>, and <code>toBeUndefined</code> are all shortcut functions.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(x).toBe(null)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).not.toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>One thing worth pointing out here is the use of <code>.not</code> in my example comment.
<code>.not</code> is a utility property that you can chain to reverse the output of
any matcher.</p>
<h4>toBeFalsy and toBeTruthy</h4>
<p>These matchers essentially are shortcuts that act like <code>if</code> and <code>else</code> statements.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(!!x).toBe(true)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(!!x).toBe(false)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>If you aren’t aware of the JavaScript concepts of truthiness and falsiness, the terms refer to whether a value is evaluated as true or false when evaluated in a boolean context.</p>
<h3>Template matchers</h3>
<p>Template matchers are matchers that don’t check for a specific value, but instead look to see if the expression is consistent with a certain pattern or shape.</p>
<h4>toMatch</h4>
<p><code>toMatch</code> is a template matcher for strings.  It accepts a regular expression that
you can use to describe the acceptable list of strings.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> id1 <span class="token operator">=</span> <span class="token string">'155-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> id2 <span class="token operator">=</span> <span class="token string">'15-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> socialSecurityNumberFormat <span class="token operator">=</span> <span class="token regex">/\d{3}-\d{2}-\d{4}/</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
</code></pre>
      </div>
<h4>toMatchObject and toHaveProperty</h4>
<p><code>toMatchObject</code> and <code>toHaveProperty</code> are template matchers for objects. <code>toMatchObject</code> works similarly to <code>toEqual</code> and does a deep comparison on objects and arrays.  But unlike <code>toEqual</code>, <code>toMatchObject</code> doesn’t require an exact match, it just verifies that the expression has the same properties as the template object.  So extra properties on the expression we’re evaluating don’t matter.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> uno<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> performs a similar function but doesn’t enforce the whole structure of an object.  Instead it just tests whether a single property is defined.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> can take a second “value” argument, at which point it acts as a more limited version of <code>toMatch</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
</code></pre>
      </div>
<h4>toHaveLength</h4>
<p><code>toHaveLength</code> is a simple matcher for checking the length of strings, arrays and any other array-like object that has a length property.  <code>expect(x).toHaveLength(y)</code> is just a shorthand for <code>expect(x.length)</code> with the benefit of handling undefined values of <code>x</code> safely.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'From'</span><span class="token punctuation">,</span> <span class="token string">'The'</span><span class="token punctuation">,</span> <span class="token string">'Other'</span><span class="token punctuation">,</span> <span class="token string">'Side'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<h4>toBeInstanceOf</h4>
<p><code>toBeInstanceOf</code> allow’s checking the “type” of an object to see if it is an instance of a class, including inherited classes.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'We can test whether an object is an instance of a class'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true because of inheritance</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>toThrow</h3>
<p><code>toThrow</code> is a bit of a different template matcher, because rather than matching a value, it matches against an exception.  <code>except()</code> takes a function, and instead of evaluating that function, it executes the function and looks to see if an exception is thrown. If there is an exception, <code>toThrow</code> can take a string, regex or Class and acts like either <code>toMatch</code> or <code>toBeInstanceOf</code> depending on what it is passed.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'We can match exceptions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> throwingFunc1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">SpecialError</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> throwingFunc2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SpecialError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token string">'err'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token regex">/err/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>SpecialError<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Numeric Comparison Matchers</h3>
<p>Numeric comparison matchers are straightforward.  They test whether a number relates correctly to another number.</p>
<h4>toBeGreaterThan, toBeGreaterThanOrEqual, toBeLessThan, toBeLessThanOrEqual</h4>
<p>These are exactly what they sound like.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<h4>toBeCloseTo</h4>
<p>This test checks whether a number is the same as another number within a set number of significant digits.  <code>toBeCloseTo</code> takes a number and an optional second option that determines the number of significant digits, then tests whether an expression is the same as that number within that number of significant digits.  This is useful in JavaScript since <a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">floating point math is not precise and 0.1 + 0.2 famously does not equal 0.3 exactly</a>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Floating Point Math Is Hard'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Part 2 Coming Soon</h3>
<p>There’s a lot to cover here, so check back next week for part 2 of this post, with contains matchers, async matchers, snapshot matchers, function matchers, meta matchers, and a few extra tricks for using matchers.</p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Taking Advantage of Jest Matchers]]></title>
        <id>https://benmccormick.org/2017/08/14/jest-matchers/</id>
        <link href="https://benmccormick.org/2017/08/14/jest-matchers/">
        </link>
        <updated>2017-08-14T01:55:00Z</updated>
        <content type="html"><![CDATA[<p>Back in May, my favorite testing library, Jest, released it’s 20th version and <a href="https://facebook.github.io/jest/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner.html">rebranded itself</a> as the library for “delightful JavaScript testing”.  Delightful and testing are two words that usually don’t go together in the software development lexicon.  But that claim is the result of 2 years of hard work from the Jest team trying to get the usability details of testing exactly right.  One of the announcements for version 20 that exemplifies this commitment to detail was the addition of several new assertion APIs to an already large list. This post dives into the many matcher options in Jest, why they’re there, and how to make good use of them.</p>
<p>Assertion APIs, or matchers, are the methods that the library makes available for defining the expected value of a variable or expression.  The most basic assertion in Jest is the <code>.toBe</code> matcher, which checks to see if one value is the same as the other.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Why so many matchers?</h3>
<p>When writing tests, the only assertion api you really <strong>need</strong> is a method that takes a boolean and determines whether it is true or false.  Assuming you can figure out inspecting functions and async code, everything else can be expressed with an assert method like that:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>So why does Jest need 30+ matcher methods?  Because they allow you to be specific in your intent, and also let Jest provide helpful error messages.  For instance, when you write a test like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> getRecord <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'fullName'</span><span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'records have a name and an ID'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>it is obvious what the test is trying to check, and you can get detailed output like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 58.94736842105264%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz62TyVKDQBiE8/4v4cWjN48+gpaJ0WyQFWIihLAOBGaIbf8kpWVOwfLQzLB99HQPne36Df5mhOBjzHGILJzCKOfP6kR3N4jvbxG6PeycLny3j/i9DxNZqNM56tjG58G9Wp06nUHvx6j8ATRlwglK7xXVbthADYF1vroeKIcqW0BTxh81rsp0wWvLZixTm7LaAVUwQbLuI108Q/ljpE4P2qNDjx8I7ZOSGY5qeR2w4LJ22y4KviSlqOg0isM2+X0D/1MN0KgVXc6QU4dkDkV3OV0W8RxRNMWGkXh7Cz6XHskK+EzBzA/MWbI+Fs4PUHIRoNzQ2cWc7ZZSjpTGuchcSGC/gOXZlbjTbFhz22hmeWp+2WwZ02bbrFcvkL8lCSxUwQjZ4AG588RzG+nebp+hbT3CJTQ75+ZtBnTl/LmUL6wpjW4P0dPsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Error output from Jest"
        title=""
        src="/static/165f7e639e1a843277420540e4ec6cf6-d766e.png"
        srcset="/static/165f7e639e1a843277420540e4ec6cf6-a6b6e.png 143w,
/static/165f7e639e1a843277420540e4ec6cf6-8e488.png 285w,
/static/165f7e639e1a843277420540e4ec6cf6-d766e.png 570w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>You get the structure of the object as it is, the name of the property that is missing, the line number and file name where you can find the assertion, all in a concise, colorful and nicely formatted test failure message.</p>
<p>You can categorize Jest’s matchers into 8 different categories: equality matchers, template matchers, numeric comparison matchers, contains matchers, async matchers, snapshot matchers, function matchers, and meta matchers.  I’m going to go through each group and explain why they’re useful.</p>
<h3>Equality Matchers</h3>
<p>Equality matchers are the workhorse matchers of any test libraries.  This is where we see whether an expression evaluates to the value we expect. This being JavaScript however, equality takes a few different forms, and Jest covers each of them, along with some syntactic shortcuts.</p>
<h4>toBe and toEqual</h4>
<p><code>toBe</code>, as mentioned previously, is the simplest Jest matcher.  It is equivalent to a simple <code>===</code> statement, and verifies that the expression being tested is the same reference as the expression that it is matched against.  Since it is reference based, toBe is a good fit for numbers, strings and booleans, or for checking that an object is the exact same reference as another object.  But it’s not good for comparing 2 separate objects.  It behaves like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> <span class="token string">'e'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false!</span>
</code></pre>
      </div>
<p>For comparing object and array equality, it usually is better to use <code>toEqual</code>, which does a deep property comparison:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toEqual</code> doesn’t line up to any built in JavaScript idea of equality exactly, it just does a recursive equal check.  There also is no Jest equivalent to <code>==</code> with its odd type casting behavior, and that is ok by me.</p>
<h4>toBeDefined, toBeNull and toBeUndefined</h4>
<p><code>toBeDefined</code>, <code>toBeNull</code>, and <code>toBeUndefined</code> are all shortcut functions.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(x).toBe(null)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).not.toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>The one thing worth pointing out here is the use of <code>.not.</code> in my example comment.
<code>.not</code> is a utility property on expect that you can chain to reverse the output of
any matcher.</p>
<h4>toBeFalsy and toBeTruthy</h4>
<p>These matchers essentially are shortcuts that act like <code>if</code> and <code>else</code> statements.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(!!x).toBe(true)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(!!x).toBe(false)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>If you aren’t aware of the JavaScript concepts of truthiness and falsiness, the terms refer to whether a value is evaluated as true or false when evaluated in a boolean context.</p>
<h3>Template matchers</h3>
<p>Template matchers are matchers that don’t check for a specific value, but instead look to see if the expression is consistent with a certain pattern or shape.</p>
<h4>toMatch</h4>
<p><code>toMatch</code> is a template matcher for strings.  It accepts a regular expression that
you can use to describe the acceptable list of strings.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> id1 <span class="token operator">=</span> <span class="token string">'155-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> id2 <span class="token operator">=</span> <span class="token string">'15-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> socialSecurityNumberFormat <span class="token operator">=</span> <span class="token regex">/\d{3}-\d{2}-\d{4}/</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
</code></pre>
      </div>
<h4>toMatchObject and toHaveProperty</h4>
<p><code>toMatchObject</code> and <code>toHaveProperty</code> are template matchers for objects. <code>toMatchObject</code> works similarly to <code>toEqual</code> and does a deep comparison on objects and arrays.  But unlike <code>toEqual</code>, <code>toMatchObject</code> doesn’t require an exact match, it just verifies that the expression has the same properties as the template object.  So extra properties on the expression we’re evaluating don’t matter.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> uno<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> performs a similar function but doesn’t enforce the whole structure of an object.  Instead it just tests whether a single property is defined.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> can take a second “value” argument, at which point it acts as a more limited version of <code>toMatch</code>.</p>
<p>.toHaveLength(number)
.toBeInstanceOf(Class)
.toThrow(error)</p>
<h3>Numeric Comparison Matchers</h3>
<p>.toBeCloseTo(number, numDigits)
.toBeGreaterThan(number)
.toBeGreaterThanOrEqual(number)
.toBeLessThan(number)
.toBeLessThanOrEqual(number)</p>
<h3>Contains Matchers</h3>
<p>expect.arrayContaining(array)
expect.objectContaining(object)
.toContain(item)
.toContainEqual(item)</p>
<h3>Async Matchers</h3>
<p>.resolves
.rejects</p>
<h3>Snapshot Matchers</h3>
<p>.toMatchSnapshot(optionalString)
.toThrowErrorMatchingSnapshot()</p>
<h3>Function Matchers</h3>
<p>.toHaveBeenCalled()
.toHaveBeenCalledTimes(number)
.toHaveBeenCalledWith(arg1, arg2, …)
.toHaveBeenLastCalledWith(arg1, arg2, …)</p>
<h3>Meta Matchers</h3>
<p>expect.assertions(number)
expect.hasAssertions()</p>
<h3>Customization Methods</h3>
<p>expect.addSnapshotSerializer(serializer)
expect.extend(matchers)</p>
<h3>wildcards</h3>
<p>any
anything
stringMatching(regexp)
expect.stringContaining(string)</p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[My Favorite Interview Question]]></title>
        <id>https://benmccormick.org/2017/07/24/my-favorite-interview-question/</id>
        <link href="https://benmccormick.org/2017/07/24/my-favorite-interview-question/">
        </link>
        <updated>2017-07-24T11:45:00Z</updated>
        <content type="html"><![CDATA[<p>I have a favorite question to ask in interviews for web developers.</p>
<blockquote>
<p>“How does the internet work?  In other words, when I open a browser and enter a url then hit enter, and a website shows up on my screen what can you tell me about what is happening?”</p>
</blockquote>
<p>Usually I get one of a few responses:</p>
<h4>1. The clueless shrug</h4>
<blockquote>
<p>Uh….  ¯\_(ツ)_/¯  </p>
</blockquote>
<p>Some people have no idea what to do with the question.  Things get awkward. This is mostly for junior positions but still isn’t the best sign.  Sometimes a few prods will get things back on track.</p>
<h4>2. The bare minimum</h4>
<blockquote>
<p>It is asking a server for the site and the server sends you the site.    </p>
</blockquote>
<p>Some people can give a very basic response, but don’t give a lot of details.  This again mostly corresponds to less experienced devs and can be fine as a starting spot with some follow-up questions.</p>
<h4>3. The CliffNotes</h4>
<blockquote>
<p>Your browser sends an HTTP request which gets routed through a local modem/router and gets sent to a name server for its url extension.  That name server routes the request to the correct IP address, which will resolve to some sort of web server.  That server will serve up either some static files, or run some backend code in order to generate a resource (probably an html page).  When the HTML page is returned, your browser will parse it, which will likely generate more requests, and the cycle will repeat.  </p>
</blockquote>
<p>Some people know how some of this works, maybe with a few hazy areas and can explain it in a reasonably straightforward way.  An explanation like this is a great start.</p>
<h4>4. The Geek-out</h4>
<blockquote>
<p><Some variation on the previous answer... followed by:> Let me tell you all about my in depth knowledge of &#x3C;HTTP<em>network routing</em>JavaScript parsing/TCP/other related topic>  </p>
</blockquote>
<p>Some people dive in and explode with information.  </p>
<h3>So why is this a good interview question again?</h3>
<p>So which answer is best?  The geek-out right?  Well… its great when somebody gets there, but in my mind this question is more about the journey than the destination.</p>
<p>It’s pretty easy to make the case that this is a pretty bad interview question.  It’s not clear what the expected answer is.  When I ask it in junior dev interviews, they often don’t have much of a clue how to answer it.  And it’s not strictly answerable in full detail by pretty much anyone.  But I’d argue that those things actually end up being strengths.  I like this question for 5 reasons.</p>
<ol>
<li>
<p><strong>It tests the candidate’s ability to deal with ambiguity.</strong>  The question is intentionally vague and open ended.  Am I just looking for a perfunctory response like “it gets a resource from a server”?  Do I want a deep dive into how DNS works?  It’s ambiguous.  Candidates can respond to that ambiguity in one of a few ways.  </p>
<p>They can freeze because they’re afraid of saying the wrong thing.  </p>
<p>They can ask a clarifying question.  </p>
<p>They can make a guess at what I want and start going down that road, while reading my reaction to see if they’re still on track.  </p>
<p>Or they can decide they know what I want (or what they want to tell me) and shoot off like a rocket (potentially for a very long time).</p>
<p>This is super useful information in an interview because developers deal with ambiguity all the time.  When a candidate encounters unclear requirements from a product manager, or unclear documentation from another developer, it’s good to have an idea how they’ll respond<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p>
</li>
<li>
<p><strong>It tests the breadth of a candidates knowledge.</strong> - For the most part, when I interview people, I ask them questions about the role they’re applying for:  Front-End Dev, Backend Dev, QA Engineer, etc.  But this question gives a candidate the chance to show that they understand what’s happening up and down the web stack from the code they interact with the most.</p>
</li>
<li>
<p><strong>It gives the candidate a chance to explain a complex technical topic.</strong> - In my mind, good communication ability is the most important skill for a developer once they’ve achieved a minimum level of technical competence.  Being able to talk about problems and solutions clearly and explain them to a variety of audiences matters, and it matters a lot.  Can the candidate summarize a complex technical topic without getting bogged down in details?  Are they communicating with me (verbally or otherwise) to make sure I’m following their explanation?  Or are they fading off into a rambling run-on explanation of a trivial detail without any big picture context?</p>
</li>
<li>
<p><strong>It forces the candidate to confront something they don’t know.</strong> - The internet is a perfect example of the Isaac Newton quote about <a href="https://en.wikipedia.org/wiki/Standing_on_the_shoulders_of_giants">standing on the shoulders of giants</a>.  It is the culmination of 50+ years of research and work on networked computer systems.  No candidate I interview for a web development position is going to understand every detail of how it works, because you can always go a layer deeper in the stack or afield into crazier edge case behavior.  So at some point in questioning (possibly very early), this question exhausts every candidate’s knowledge.  The question is how do they react?  Some candidates start guessing at things.  Some admit they don’t know.  Some try to skirt around areas they don’t feel confident in and work at avoiding any questions where they would have to admit they don’t know something.  And some will actually ask me how part of the system works.  This again is helpful because “not knowing the answer” is such a common experience in real world web dev.  It’s great to have some clues to how a candidate handles that.</p>
</li>
<li>
<p><strong>It gives the candidate an opportunity to show off what they know.</strong>  I’ve gotten some amazing answers to this question.  It turns out some candidates actually know a lot about networking and HTTP/TCP/nameservers.  Some can give detailed answers about browsers and how they parse resources and display the DOM.  Maybe they just know a lot of random trivia about URLs and DNS.  Regardless, this is a chance to show off and prove that they’ve delved deep into something.</p>
</li>
</ol>
<p>To be clear, I don’t think every interview question should be like this one.  Most should probably directly relate to the work the candidate is doing, be clearly comparable in an objective way candidate to candidate, and not risk sending the interview down a 10 minute rabbit hole.  But this one is my favorite, and I think there’s a place for questions that show how a candidate might handle some real world lack of structure.</p>
<hr>
<p>Feel free to hit me up on Twitter at <a href="https://twitter.com/ben336">@ben336</a> to tell me your favorite interview question.  I’ll retweet them.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>There is of course a limit to how much any interview is going to teach you about how somebody will behave in a future job situation.  We’re all chasing breadcrumbs here.  </p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ten Things A Serious JavaScript Developer Should Learn]]></title>
        <id>https://benmccormick.org/2017/07/19/ten-things-javascript/</id>
        <link href="https://benmccormick.org/2017/07/19/ten-things-javascript/">
        </link>
        <updated>2017-07-19T04:00:00Z</updated>
        <content type="html"><![CDATA[<p>There’s been an interesting Reddit thread circling my corner of the internet for the last week or so. It started with a question:</p>
<blockquote>
<p>I’m inviting pure opinion here, but what’s your list of ten things that everyone looking for a good javascript role should know and understand. Personally, I’m in a role where what I know is adequate, but I want to be somewhere better; somewhere that has some flippin standards. I’m learning outside of work requirements at the moment, but there is so much to learn out there.
The objective is to do good work in a good place.
Narrow it down to your ten for me, or for you..
<em>- From <a href="https://www.reddit.com/r/javascript/comments/6mlc9d/what_10_things_should_a_serious_javascript/">“What 10 Things Should a Serious Javascript Developer Know Right Now?”</a></em></p>
</blockquote>
<p>I think this is a great question if you take it seriously, because when you think about it critically, it exposes all of the things JavaScript don’t really <strong>need</strong> to know.  Can you contribute productively as a mid-level JavaScript developer without knowing anything about <a href="https://github.com/prettier/prettier">Prettier</a>, <a href="https://www.typescriptlang.org/">Typescript</a> or <a href="https://facebook.github.io/react/">React</a>?  Sure!  Can you contribute productively if you’re writing and testing your JavaScript using <em>&#x3C;awful uncool code editor that you the reader can’t stand></em>?  Definitely.  So here’s my take on answering the question.</p>
<h2>Assumptions</h2>
<p>I’m making the following assumptions about the question</p>
<ol>
<li>
<p>I’m assuming the audience is a developer who has some level of professional programming experience and some existing JavaScript experience, and that they are primarily interested in “code skill” answers. Thus I’ll exclude things like communication ability, experience with version control, professional conduct, or basic coding ability that are very important to success in a JavaScript development environment but are out of the scope of this question.</p>
</li>
<li>
<p>I’m optimizing for “what specific pre-existing knowledge will make the most difference between success and failure for a new hire in a mid-level JavaScript role”.  </p>
<p><strong>Pre-existing</strong> means that these are things that somebody is expected to know before taking the job.  Learning the details of a company’s technology stack, style guide and engineering philosophy are all important, but you shouldn’t be expected to know them in advance, and in many cases doing so is impossible.</p>
<p><strong>Specific knowledge</strong> means that these are things that you can learn with some effort and study.  They should not be broad categories like “security”, “design”, or “server-side development”.  They  should be things you know or know how to do, not things you “have experience with”.  And they should be specific enough that somebody can feel comfortable saying they understand the topic or don’t. Most of the things I list below are <em>topics</em>, but I try to lay out a specific set of things that you would need to know to understand it.</p>
<p><strong>The most difference between success and failure</strong> means that these are the things that are really going to make a difference in how effective you are at understanding and completing the work assigned to you.  There are many such things, and their importance will vary situationally, so this is just my educated take on a generalists list.  </p>
<p>When I say <strong>mid-level</strong>, I’m picturing hiring for a role that pays well but is not the most senior person on the team.  This would be a developer who would be expected to complete tasks with minimal help and oversight but wouldn’t necessarily be planning the architecture of everything right off the bat.  To be clear this list is not a set of things that you need to go to get paid to write JavaScript.  It is more along the lines of “next steps” for junior devs.  Its also not a step function where you need to know all of these at once to get to the next level.  These are just things that may limit you if you don’t have them.</p>
<p>I’m taking the liberty to assume that <strong>JavaScript role</strong> implies using JavaScript in some sort of client/UI environment (Browser, React Native, Cordova, Electron, etc).  This list would be at least a bit different for a Node.js server-side role, and somebody else will have to write that post.</p>
</li>
</ol>
<h2>The List</h2>
<h4>1. You should know the core language</h4>
<p>JavaScript is not a very complicated language at its core.  It can seem difficult to learn because of all of the noise around it.  Browser APIs, Library APIs, jQuery, React, TypeScript, the many npm packages out there, etc all can make the language syntax space seem huge.  And this isn’t helped by the fact that the language has evolved over time so you’ll see many different ways to do a single task spread out over the internet.  But the core language and standard libraries are actually pretty small compared to languages like Python and Java that have more features and larger standard libraries.  Eventually you’ll need the ecosystem.  But knowing the core language features that are implemented in most browsers is a great start.  </p>
<p>This means you should know about basic language features like if/else, error handling with throw/try/catch, array manipulation with push/map/reduce/filter, and string manipulation methods like replace/slice/split.  You should also know about how JavaScript handles things like truthiness and falsiness<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, how to work with JSON data with the JSON object methods, and how variable scope works in JavaScript.  These days its also becoming more and more important to have at least a basic familiarity with the more important language features that were added in ES6 like Promises, modules, classes, template literals, generators and destructuring. Even if you choose not to use those features, being able to see and understand them will help you learn faster from others.</p>
<p>This list is mostly unordered, but this comes first because learning everything else becomes a lot harder without this knowledge, mostly because it becomes difficult to learn from other people’s code since you won’t understand what it is doing.  If you’re starting from a weak base here I’d recommend finding a good book on the core language like <a href="http://amzn.to/2uD4R1Y">Eloquent JavaScript</a><sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> and digging in.  If you’ve been using JavaScript in an older code base or haven’t used it in a while and want to catch up, you can see <a href="https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/">my post on keeping up with new language features</a>.</p>
<h4>2. You should understand async code</h4>
<p>One of the biggest leaps for new JavaScript developers, even those who are experienced with other languages is the amount of asynchronous code found in idiomatic JavaScript.  Asynchronous (async) code is code that is scheduled to run at a later time after some event, delay or response.  It can appear a bunch of different ways in JavaScript code, and it’s important to be able to interpret them.</p>
<p>This means learning about <a href="https://benmccormick.org/2015/12/30/es6-patterns-converting-callbacks-to-promises/">callbacks and promises</a> at least.   You should also learn about the JavaScript <a href="http://blog.carbonfive.com/2013/10/27/the-javascript-event-loop-explained/">event loop</a> and how it works  Ideally some of the standard APIs that use them like <a href="https://developer.mozilla.org/en-US/docs/Talk:DOM/window.setTimeout">setTimeout</a> and  <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch</a>.  If you’re ambitious you can learn about newer async syntax and library implementations like <a href="https://ponyfoo.com/articles/understanding-javascript-async-await">async-await</a> or <a href="https://github.com/Reactive-Extensions/RxJS">RxJS</a> But the most important thing is to spend time using and writing async code so that you get an intuitive understanding of how it works.</p>
<h4>3. You should get comfortable with at least one set of developer tools</h4>
<p>When developing JavaScript, its important to be able to debug problems and understand how existing systems work.  JavaScript has a fantastic ecosystem of developer tools for diagnosing bugs and examining application code.  For the most part they’re bundled with browsers (though some IDEs like VS Code and WebStorm have their own debuggers).  Learning how to use these tools well will turbocharge your JS dev skills.  If you can’t use them though, it will make everything much harder.  </p>
<p>Competence in this means comfort with at least the JavaScript debugger panel of a browser’s devtools.  You should be able to set and use breakpoints, use watch mode and the console to test for the value of expressions, and understand the stack traces. But its also good to get comfortable using the elements panel to understand and manipulate the DOM, and the network panel to debug network requests.</p>
<h4>4. You should be proficient with JavaScript functions</h4>
<p>Functions are the core of the JavaScript language.  You should be able to use them fluently.  That means understanding function scope, closures, how <code>this</code> works, and the difference between normal functions and arrow functions. It also means knowing about how to process arrays with function using methods like map, filter, and reduce.  A good resource for “thinking in functions” is <a href="https://leanpub.com/javascriptallongesix/read">JavaScript Allonge</a> by Reginald Braithwaite.</p>
<h4>5. You should be comfortable with basic design tasks</h4>
<p>No matter how well you learn JavaScript, you’ll be limited career-wise if you can’t manage basic design tasks.  This might not seem inherently true; after all isn’t that what professional designers are for?  But the truth is that unless you’re a purely server-side developer (excluded by our assumptions above), there will be times when you’re asked to fill in a visual gap that a designer doesn’t have time for, or there will be ambiguities in a designers spec that aren’t worth a meeting.  And learning the basics of design will help you communicate better with designers and product managers about technical constraints and design requirements.  </p>
<p>When I talk design, I mean both the basics of implementing a visual design with HTML and CSS<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>, and enough of an understanding of design basics to create a simple UI that looks ok and isn’t confusing.  That last requirement is harder than you’d think.  Design is hard and mostly orthogonal to the set of skills most folks pick up while learning to code.  For learning design theory, I’d recommend finding a simple resource on visual design first like <a href="http://amzn.to/2uz3vEG">White Space is Not Your Enemy</a>, and ideally supplementing that with a more UX focused resource like <a href="http://amzn.to/2uvUrR7">Don’t Make Me Think</a>.  The practical side of HTML/CSS is easiest to pick up with experience.  If you’re using devtools you can see what other people are doing with CSS and tweak and explore using the elements panel.  And there are lots of good online resources for learning about CSS and HTML syntax like <a href="https://developer.mozilla.org/en-US/">MDN</a> for API info or <a href="https://css-tricks.com/">CSS-Tricks</a> for ideas, tutorials and keeping up with new stuff.</p>
<h4>6. You should have a basic understanding of networking and HTTP-based APIs</h4>
<p>Because we’re assuming that this job involves using JavaScript in a browser or other client context, you should be able to understand the basics of networking.  You should know what a client and server is.  You should be able to explain a rough approximation of what happens when somebody enters a URL into the browser<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>. There’s a bunch of vocabulary thats good to know here. You should know what an HTTP request is and ideally know the conventions of what GET/PUT/POST/DELETE imply.  It will help you to have a working definition of what REST is and what AJAX is. It’s good to get experience working with some HTTP based APIs, either at work or playing around with an API like <a href="https://dev.twitter.com/rest/public">Twitter</a> or <a href="https://developer.github.com/v3/">Github</a>.  You should also get familiar with at least one way to make HTTP requests in JavaScript (XMLHttpRequest, fetch, jQuery’s ajax methods).  </p>
<h4>7. You should be comfortable with Node.js based tooling</h4>
<p>One of the biggest shifts in the last 5 years in the JavaScript world has been the explosive growth and consolidation of tools to help build JavaScript applications.  Tools like <a href="http://eslint.org/">eslint</a>, <a href="http://babeljs.io/">Babel</a>, <a href="https://www.typescriptlang.org/">Typescript</a>, and <a href="https://webpack.js.org/">Webpack</a> are essential to many teams workflows.  While you don’t necessarily have to be experienced writing applications for Node.js, it is important that you be able to use those tools.  That means knowing how to install Node and use npm to install and update packages.  It also means getting comfortable with build tools like Webpack, Rollup or Ember CLI and knowing how to use them.  Reasonable people can differ on how many tools and libraries you should be using, or what the right ones to use are, but having a basic familiarity with how the Node ecosystem works has become essential.</p>
<h4>8. You should know how to use a framework to structure a moderately sized program</h4>
<p>A critical requirement for a developer who is expected to complete work with minimum supervision or hand-holding is the ability to structure their code in a maintainable way.  That means having an understanding of (or helping define) the overall architecture of the system, and then writing code that fits into it.  It also means being able to identify and help solve situations where the current architecture or code base norms causes problems.  I put this in terms of frameworks because pretty much all medium to large JavaScript programs are using some sort of framework, whether it is an “official” framework like React, Angular, and Ember or a collection of helper files and functions cobbled together by a development team over time.  For learning purposes, the popular official frameworks will usually be better to learn, since the knowledge can translate elsewhere, the purposes behind the structure are documented on the internet, and at least some sense of best practice architecture should be embedded in the code.  To check this box I think it would be best to get experience with at least 2 frameworks/architectures, since it is difficult to tell which decisions a Framework makes are specific to its architecture and constraints without something to compare it with.</p>
<p>This is probably the most controversial item on this list, since I know a lot of folks believe it’s better to learn architecture ideas outside the constraints of a framework.  My stance here is that frameworks are practical: they’re most likely to translate to an actual employment background and it’s easy to find practical explanations of how they solve architecture problems.  </p>
<h4>9. You should know the basics of JavaScript program performance</h4>
<p>Like design, performance is a deep well of things you can learn.  But knowing the basics is important and can go a long ways.  For performance “the basics” is more about process than knowledge.  You need to learn how to debug slow processes and understand where the problems are coming from.  For browser environments in particular there are some baseline things to understand.  You’ll want to be able to tell the difference between code that is running slowly due to parsing slowness, runtime slowness, and network latency.  It’s important to learn how to keep a UI responsive and not block rendering with other calculations.  And it’s great to understand how to cache data and avoid making too many requests to the server.  </p>
<p>This is also an area where learning more about Computer Science theory can be beneficial.  Studying data structures and algorithms can help give you good intuitions on how to handle data, and learning about Big O notation gives you a language for discussing performance tradeoffs.  This is the type of background knowledge that pays off in occasional subtle ways though, not something that is always obvious applicable in the moment.</p>
<h4>10. You should have a process for learning new things</h4>
<p>JavaScript development has changed a lot over the last 10 years, and there’s no reason to think it won’t continue to evolve over the next 10.  There are also a lot of different technologies that fall under the umbrella of JavaScript, more than any one person can keep in their head.  So it’s important to be able to keep up with the new technologies as they come along, and also learn about new technologies quickly when you need them.  Ideally this means having at least one place where you can follow news about new JavaScript innovation.  Could be Twitter, a set of blogs, newsletters or an aggregator site like Reddit or Hacker News.  If you’re looking for an easy place to start, I’d recommend the <a href="http://javascriptweekly.com/">JavaScript Weekly mailing list</a>.  </p>
<p>You also need to get comfortable finding information about specific technologies, either to learn to use them or troubleshoot problems.  These resources will likely be more varied, but it’s important to learn to <a href="https://xkcd.com/627/">Google well</a>, and also helpful to get familiar with <a href="http://stackoverflow.com/">Stack Overflow</a> or some other resource for getting help when you have specific questions or problems.  </p>
<hr>
<p>Do you have a different list?  Feel free to post it and then link in the comments!</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>If you don’t learn all the pitfalls here, at least learn that there are pitfalls.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>Disclosure: Some of these book links are affiliate links</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>Or SASS/LESS/CSS in JS/whatever</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
<li id="fn-4">
<p>This can be explained at several levels, but its good to at least know that a request is sent from the users computer to a server somewhere, and that server returns resources like HTML, CSS, JS, and image files.  </p>
<a href="#fnref-4" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[How to follow the JavaScript roadmap]]></title>
        <id>https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/</id>
        <link href="https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/">
        </link>
        <updated>2017-07-10T12:00:00Z</updated>
        <content type="html"><![CDATA[<p>It can be difficult to keep up with all the things going on in web development, especially since the JavaScript language itself has been changing over the last several years.  After several years of relative stability<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, the ECMAScript spec (<a href="https://benmccormick.org/2015/09/14/es5-es6-es2016-es-next-whats-going-on-with-javascript-versioning/">ECMAScript is the specification for the JavaScript language</a>) has changed quite a bit over the last 3 years, with more changes on the way.  In this post I wanted to highlight a few of the resources I can recommend for keeping up with the language changes.</p>
<h3>Learning ES6/ES2015</h3>
<p>If you haven’t paid attention to any features that aren’t ready in all browsers yet, or you’re getting back to JavaScript development after being away for a while, you probably could use a resource to catchup on the ES6 JavaScript release from 2015.  ES6 is now <a href="https://kangax.github.io/compat-table/es6/">almost completely</a> implemented in the latest versions of all major browsers, so if you’ve been ignoring it due to compatibility concerns, now is the time to learn.  Fortunately there are a lot of great resources for learning about ES6.  My favorite quick reference is the <a href="https://babeljs.io/learn-es2015/">Learn ES2015 page</a> from <a href="https://babeljs.io/">Babel</a>.  It’s a short, example filled page with explanations of all the major features of the language update. If you want something meatier, there have been several resources created by JS experts.  <a href="http://amzn.to/2tVcwaW">Understanding ECMAScript 6</a> by <a href="https://www.nczonline.net/about/">Nicholas Zakas</a> and <a href="http://exploringjs.com/es6.html">Exploring ES6</a> by <a href="http://2ality.com/">Axel Rauschmayer</a> are books that go through the new features in detail.  If you prefer video tutorials, <a href="http://wesbos.com/">Wes Bos</a> has a <a href="https://es6.io/">whole video course on ES6</a>.</p>
<h3>Keeping up with new features</h3>
<p>Things haven’t been changing as fast since the ES6 release.  The first 2 “annual releases” of the ECMAScript spec contained only a <a href="http://2ality.com/2016/01/ecmascript-2016.html">combined</a> <a href="http://2ality.com/2016/02/ecmascript-2017.html">8 features</a>. but there are still a lot of new features working their way through the ECMAScript pipeline.  If you want to get a quick overview of the features being considered for future releases, the best place to look is the <a href="https://github.com/tc39/proposals">TC39 proposals repo on Github</a>.  TC39 is the organization that guides the future of the ECMAScript spec.  Proposals go through a 4 stage process, where stage 1 can best be understood as “ideas”, and stage 4 is “confirmed for the next ECMAScript release”.  <a href="https://ponyfoo.com/contributors/ponyfoo">Nicolás Bevacqua</a> put up a <a href="https://ponyfoo.com/articles/tc39-ecmascript-proposals-future-of-javascript">good post</a> last week describing this process in depth, as well as giving a brief description of the more advanced proposals in the queue. If you’re interested in keeping up with new proposals but want somebody to walk you through them, I recommend subscribing to Axel Rauschmayer’s <a href="http://2ality.com/">2ality</a> blog.  In addition to writing the ES6 book mentioned above, he regularly writes blog posts highlighting new proposals with detailed explanations of the feature implementation and motivation.</p>
<h3>Testing new features</h3>
<p>Almost all of the higher stage proposals on the TC39 list have been implemented by <a href="https://babeljs.io/">Babel</a> and you can try them out in the Babel <a href="https://babeljs.io/repl/#?babili=false&#x26;evaluate=true&#x26;lineWrap=false&#x26;presets=es2015%252Creact%252Cstage-2&#x26;targets=&#x26;browsers=&#x26;builtIns=false&#x26;debug=false&#x26;code_lz=Q">REPL</a> or by setting up a small project that loads in Babel.  </p>
<h3>Keeping up with the conversation</h3>
<p>If you’re a twitter user, probably the easiest way to keep up with language evolution is to follow the people who are shaping and teaching the new language features.  Some twitter follow recommendations:</p>
<ul>
<li><a href="https://twitter.com/wycats">Yehuda Katz</a> - TC39 member, Ember core developer</li>
<li><a href="https://twitter.com/rauschma">Axel Rauschmayer</a> - JS blogger and trainer</li>
<li><a href="https://twitter.com/wesbos">Wes Bos</a> - JS blogger and trainer</li>
<li><a href="https://twitter.com/sebmarkbage">Sebastian Markbåge</a> - TC39 member, React core developer</li>
<li><a href="https://twitter.com/left_pad">Henry Zhu</a> - Babel maintainer</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>From the release of the ECMAScript 5 spec to the ES6/ECMAScript2015 spec, the language wasn’t exactly stable in practice because browser implementations didn’t always move quickly, and there were still many incompatibilities.  But standard language syntax stayed stable for quite a while, which allowed the browser ecosystem to iron out some of those kinks prior to the adoption of ES6.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Adding RSS, Atom, and JSON Feed to Gatsby]]></title>
        <id>https://benmccormick.org/2017/06/03/rss-atom-json-gatsby/</id>
        <link href="https://benmccormick.org/2017/06/03/rss-atom-json-gatsby/">
        </link>
        <updated>2017-06-04T01:55:00Z</updated>
        <content type="html"><![CDATA[<p>For the last few months, this blog has been written in <a href="https://github.com/gatsbyjs/gatsby">Gatsby</a>, a static site generator for JavaScript.  One of the first problems I had to solve when migrating the blog was how to maintain my RSS feed, since Gatsby doesn’t have any built in concept of an RSS feed.  This issue came up again this week as I decided to implement the new <a href="https://jsonfeed.org/">JSON Feed</a> spec and give folks an additional option for subscribing to this blog.  Fortunately this turns out to be a pretty easy problem to solve because of the excellent npm module <a href="https://github.com/jpmonette/feed">feed</a>.</p>
<p><em>feed</em> is an npm module that takes a bunch of information about a blog and its posts, and normalizes them into various syndication feed format.  Here’s what setting up a feed option looks like for this blog:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Feed <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'feed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/filter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sortBy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/sortBy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> forEach <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/forEach'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">get</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/get'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> markdownIt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'markdown-it'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> frontmatter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'front-matter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment" spellcheck="true">//markdownIt is a markdown parser that takes my raw md files and</span>
<span class="token comment" spellcheck="true">//translates them into HTML that we can use in the feed</span>
<span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token function">markdownIt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  html<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  linkify<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  typographer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment" spellcheck="true">// getPageContent is a function to help us grab the html content from a post path</span>
<span class="token keyword">const</span> getPageContent <span class="token operator">=</span> page <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> file <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">'/pages/'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>requirePath<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> body <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token function">frontmatter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// handle local links</span>
  <span class="token keyword">return</span> body<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token operator">/</span>src<span class="token operator">=</span><span class="token string">"\//g, 'src="</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>benmccormick<span class="token punctuation">.</span>org<span class="token operator">/</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// build feed is our main function to build a `Feed` object which we</span>
<span class="token comment" spellcheck="true">// can then serialize into various formats</span>
<span class="token keyword">const</span> buildFeed <span class="token operator">=</span> pages <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> feed <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Feed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'benmccormick.org'</span><span class="token punctuation">,</span>
    description<span class="token punctuation">:</span> <span class="token string">'A blog by Ben McCormick'</span><span class="token punctuation">,</span>
    link<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org'</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org'</span><span class="token punctuation">,</span>
    copyright<span class="token punctuation">:</span> <span class="token string">'All rights reserved 2016, Ben McCormick'</span><span class="token punctuation">,</span>
    feedLinks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      atom<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org/atom.xml'</span><span class="token punctuation">,</span>
      json<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org/feed.json'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
      email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ignore pages (non posts)</span>
  pages <span class="token operator">=</span> <span class="token function">filter</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> p <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">get</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">'data.layout'</span><span class="token punctuation">,</span> <span class="token string">'page'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'page'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// we only want the last 10 articles to show up in the feed</span>
  pages <span class="token operator">=</span> <span class="token function">sortBy</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> page <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">get</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token string">'data.date'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pages <span class="token operator">=</span> pages<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pages <span class="token operator">=</span> pages<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">forEach</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> page <span class="token operator">=</span><span class="token operator">></span> feed<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> page<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
    link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
    date<span class="token punctuation">:</span> <span class="token function">moment</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>data<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> <span class="token function">getPageContent</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span><span class="token punctuation">,</span>
        link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  feed<span class="token punctuation">.</span><span class="token function">addContributor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span><span class="token punctuation">,</span>
    link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> feed<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Now we have a <code>buildFeed</code> method that takes a list of pages and generates a feed object.  Then we can use the feed object we’ve created to actually build write some files.  We’ll trigger that in the <code>postBuild</code> callback of <code>gatsby-node</code>.  Here was my first version to support RSS and Atom:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">//mkDir and mkFile are just light wrappers around node's file system APIs</span>
<span class="token keyword">let</span> createRSSFolder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkDir</span><span class="token punctuation">(</span><span class="token string">'/public/rss/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> generateAtomFeed <span class="token operator">=</span> <span class="token punctuation">(</span>feed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkFile</span><span class="token punctuation">(</span><span class="token string">'/public/atom.xml'</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token function">atom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> generateRSS <span class="token operator">=</span> <span class="token punctuation">(</span>feed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkFile</span><span class="token punctuation">(</span><span class="token string">'/public/rss/index.xml'</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token function">rss2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>postBuild <span class="token operator">=</span> pages <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> feed <span class="token operator">=</span> <span class="token function">buildFeed</span><span class="token punctuation">(</span>pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createRSSFolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">generateAtomFeed</span><span class="token punctuation">(</span>feed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">generateRSS</span><span class="token punctuation">(</span>feed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Prior to this week, <code>feed</code> didn’t support JSON Feed, so I had stopped here.  But because JSON Feed is super simple to implement (its just JSON!), I decided to try to add it to <code>feed</code> this week.  It turned out it was as simple as adding a single function that looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">json1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> options<span class="token punctuation">,</span> items <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
   <span class="token keyword">let</span> feed <span class="token operator">=</span> <span class="token punctuation">{</span>
     version<span class="token punctuation">:</span> <span class="token string">'https://jsonfeed.org/version/1'</span><span class="token punctuation">,</span>
     title<span class="token punctuation">:</span> options<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     feed<span class="token punctuation">.</span>home_page_url <span class="token operator">=</span> options<span class="token punctuation">.</span>link<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>feedLinks <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>feedLinks<span class="token punctuation">.</span>json<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     feed<span class="token punctuation">.</span>feed_url <span class="token operator">=</span> options<span class="token punctuation">.</span>feedLinks<span class="token punctuation">.</span>json<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     feed<span class="token punctuation">.</span>description <span class="token operator">=</span> options<span class="token punctuation">.</span>description<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>


   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     feed<span class="token punctuation">.</span>icon <span class="token operator">=</span> options<span class="token punctuation">.</span>image<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>author<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     feed<span class="token punctuation">.</span>author <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         feed<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>author<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         feed<span class="token punctuation">.</span>author<span class="token punctuation">.</span>url <span class="token operator">=</span> options<span class="token punctuation">.</span>author<span class="token punctuation">.</span>link<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   feed<span class="token punctuation">.</span>items <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> feedItem <span class="token operator">=</span> <span class="token punctuation">{</span>
       id<span class="token punctuation">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
       <span class="token comment" spellcheck="true">// json_feed distinguishes between html and text content</span>
       <span class="token comment" spellcheck="true">// but since we only take a single type, we'll assume HTML</span>
       html_content<span class="token punctuation">:</span> item<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>url <span class="token operator">=</span> item<span class="token punctuation">.</span>link<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>title <span class="token operator">=</span> item<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>summary <span class="token operator">=</span> item<span class="token punctuation">.</span>description<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>image <span class="token operator">=</span> item<span class="token punctuation">.</span>image
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>date_modified <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ISODateString</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>published<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       feedItem<span class="token punctuation">.</span>date_published <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ISODateString</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>published<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>author<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">let</span> author <span class="token operator">=</span> item<span class="token punctuation">.</span>author<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>author <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment" spellcheck="true">// json feed only supports 1 author per post</span>
         author <span class="token operator">=</span> author<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       feedItem<span class="token punctuation">.</span>author <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>author<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           feedItem<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name <span class="token operator">=</span> author<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>author<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           feedItem<span class="token punctuation">.</span>author<span class="token punctuation">.</span>url <span class="token operator">=</span> author<span class="token punctuation">.</span>link<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> feedItem<span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">return</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>feed<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre>
      </div>
<p> My <a href="https://github.com/jpmonette/feed/pull/56/files">pull request</a> was accepted, so feed v1.1.0 now supports JSON feed and my final code to add <a href="http://benmccormick.org/rss/">rss</a>, <a href="http://benmccormick.org/atom.xml">atom</a>, and <a href="http://benmccormick.org/feed.json">json</a> feed to this site looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Feed <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'feed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/filter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sortBy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/sortBy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> forEach <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/forEach'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">get</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/get'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> markdownIt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'markdown-it'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> frontmatter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'front-matter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>mkDir<span class="token punctuation">,</span> mkFile<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils/file_system'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token function">markdownIt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 html<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
 linkify<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
 typographer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> extractMarkdownContent <span class="token operator">=</span> file <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> body <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token function">frontmatter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">// handle local links</span>
 <span class="token keyword">return</span> body<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token operator">/</span>src<span class="token operator">=</span><span class="token string">"\//g, 'src="</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>benmccormick<span class="token punctuation">.</span>org<span class="token operator">/</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> getPageContent <span class="token operator">=</span> page <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> file <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">'/pages/'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>requirePath<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token function">extractMarkdownContent</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> buildFeed <span class="token operator">=</span> pages <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> feed <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Feed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   title<span class="token punctuation">:</span> <span class="token string">'benmccormick.org'</span><span class="token punctuation">,</span>
   description<span class="token punctuation">:</span> <span class="token string">'A blog by Ben McCormick'</span><span class="token punctuation">,</span>
   link<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org'</span><span class="token punctuation">,</span>
   id<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org'</span><span class="token punctuation">,</span>
   copyright<span class="token punctuation">:</span> <span class="token string">'All rights reserved 2016, Ben McCormick'</span><span class="token punctuation">,</span>
   feedLinks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     atom<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org/atom.xml'</span><span class="token punctuation">,</span>
     json<span class="token punctuation">:</span> <span class="token string">'http://benmccormick.org/feed.json'</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   author<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
     email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">// ignore pages (non posts)</span>
 pages <span class="token operator">=</span> <span class="token function">filter</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> p <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">get</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">'data.layout'</span><span class="token punctuation">,</span> <span class="token string">'page'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'page'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">// we only want the last 10 articles to show up in the feed</span>
 pages <span class="token operator">=</span> <span class="token function">sortBy</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> page <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">get</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token string">'data.date'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 pages <span class="token operator">=</span> pages<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 pages <span class="token operator">=</span> pages<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token function">forEach</span><span class="token punctuation">(</span>pages<span class="token punctuation">,</span> page <span class="token operator">=</span><span class="token operator">></span> feed<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   title<span class="token punctuation">:</span> page<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
   id<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
   link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span> <span class="token operator">+</span> page<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
   date<span class="token punctuation">:</span> <span class="token function">moment</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>data<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   content<span class="token punctuation">:</span> <span class="token function">getPageContent</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span>
   author<span class="token punctuation">:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span>
       name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
       email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span><span class="token punctuation">,</span>
       link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 feed<span class="token punctuation">.</span><span class="token function">addContributor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">,</span>
   email<span class="token punctuation">:</span> <span class="token string">'ben@benmccormick.org'</span><span class="token punctuation">,</span>
   link<span class="token punctuation">:</span> <span class="token string">'https://benmccormick.org'</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> feed<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> createRSSFolder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkDir</span><span class="token punctuation">(</span><span class="token string">'/public/rss/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> generateAtomFeed <span class="token operator">=</span> <span class="token punctuation">(</span>feed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkFile</span><span class="token punctuation">(</span><span class="token string">'/public/atom.xml'</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token function">atom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> generateRSS <span class="token operator">=</span> <span class="token punctuation">(</span>feed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkFile</span><span class="token punctuation">(</span><span class="token string">'/public/rss/index.xml'</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token function">rss2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> generateJSONFeed <span class="token operator">=</span> <span class="token punctuation">(</span>feed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">mkFile</span><span class="token punctuation">(</span><span class="token string">'/public/feed.json'</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token function">json1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>postBuild <span class="token operator">=</span> pages <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> feed <span class="token operator">=</span> <span class="token function">buildFeed</span><span class="token punctuation">(</span>pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createRSSFolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">generateAtomFeed</span><span class="token punctuation">(</span>feed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">generateRSS</span><span class="token punctuation">(</span>feed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">generateJSONFeed</span><span class="token punctuation">(</span>feed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h3>More Resources</h3>
<ul>
<li>You can see the whole spec for <a href="https://jsonfeed.org/">JSON Feed</a> on their <a href="https://jsonfeed.org/">site</a>.  It really is remarkably simple.  They also have a list of implementations and example sites.</li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Atom Productivity Tips]]></title>
        <id>https://benmccormick.org/2017/05/29/atom-tips/</id>
        <link href="https://benmccormick.org/2017/05/29/atom-tips/">
        </link>
        <updated>2017-05-30T03:20:00Z</updated>
        <content type="html"><![CDATA[<p><a href="https://atom.io">Atom</a> is a modern hackable text editor.  I’ve been using it as my primary editor for a year and a half, and have picked up some tips along the way that I thought were worth sharing.  These tips assume that you have at least a passing familiarity with Atom: they’re the things that I’ve picked up over time that have made me more productive.</p>
<h4>1. There is more to the Fuzzy Finder than meets the eye</h4>
<p>Fuzzy finders have been a key feature on modern editors since TextMate first popularized the ⌘T command<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> for searching through project files.  ⌘T (or ⌘P) still works great in Atom, but what you may not know is that Atom provides 2 other versions of the command. ⌘B searches only among currently open files.  ⇧⌘B searches only among files that are “dirty” according to git<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.  Both of those options are built in.  You can also find other uses for the fuzzy-finder if you start exploring plugins, including <a href="https://atom.io/packages/atom-fuzzy-grep">atom-fuzzy-grep</a>, a plugin that lets you use the fuzzy-finder interface to search file contents using grep, <a href="https://benmccormick.org/2016/04/30/ack-tips/">ack</a>, ag, or ripgrep.</p>
<h4>2. Atom is a great Vim replacement</h4>
<p>If you’ve been following this blog for a while, you know I’ve written a lot about <a href="https://benmccormick.org/learning-vim-in-2014/">Vim</a>.  I still love the <a href="https://benmccormick.org/2014/07/16/learning-vim-in-2014-vim-as-art/">philosophy of Vim</a>, and think that the text editing <a href="https://benmccormick.org/2014/07/02/learning-vim-in-2014-vim-as-language/">language</a> it implements is the best way to edit code quickly.  But Atom’s <a href="https://atom.io/packages/vim-mode-plus">vim-mode-plus</a> is the best vi implementation I’ve seen outside of Vim, and unlike other editors, you don’t need to get frustrated with a halfway approach to Vi-keybindings, since you can make pretty much everything work in a vim-like way.  That’s because:</p>
<h4>3. Atom’s keybindings are powerful and flexible</h4>
<p>Any command exposed by the core editor or a plugin in Atom can be bound to a keyboard shortcut.  None of the default commands are hard-coded, and the editor provides powerful contexts for controlling what keys have lead to what action when.  That means if I want to use <code>ctrl-j/k/l/h</code> to control my navigation between split panes, but also use <code>ctrl-j/k</code> to move up and down in the autocomplete widget, I can just add these lines to my <code>keymap.cson</code> file</p>
<div class="gatsby-highlight">
      <pre class="language-coffeescript"><code><span class="token string">'atom-text-editor, body'</span><span class="token punctuation">:</span>
  <span class="token string">'ctrl-k'</span><span class="token punctuation">:</span> <span class="token string">'window:focus-pane-above'</span>
  <span class="token string">'ctrl-j'</span><span class="token punctuation">:</span> <span class="token string">'window:focus-pane-below'</span>
  <span class="token string">'ctrl-h'</span><span class="token punctuation">:</span> <span class="token string">'window:focus-pane-on-left'</span>
  <span class="token string">'ctrl-l'</span><span class="token punctuation">:</span> <span class="token string">'window:focus-pane-on-right'</span>

<span class="token string">'body atom-text-editor.autocomplete-active'</span><span class="token punctuation">:</span>
  <span class="token string">'ctrl-k'</span><span class="token punctuation">:</span> <span class="token string">'autocomplete-plus:move-up'</span>
  <span class="token string">'ctrl-j'</span><span class="token punctuation">:</span> <span class="token string">'autocomplete-plus:move-down'</span>
</code></pre>
      </div>
<p>Different commands are triggered in different context.  You can also take advantage of this with vim-mode to have “normal mode only” keyboard shortcuts like this:</p>
<div class="gatsby-highlight">
      <pre class="language-coffeescript"><code><span class="token string">'atom-text-editor.vim-mode-plus.normal-mode'</span><span class="token punctuation">:</span>
  <span class="token string">'] b'</span><span class="token punctuation">:</span> <span class="token string">'pane:show-next-item'</span>
  <span class="token string">'[ b'</span><span class="token punctuation">:</span> <span class="token string">'pane:show-previous-item'</span>
</code></pre>
      </div>
<p>That implements a behavior I’d missed from Vim’s <a href="https://github.com/tpope/vim-unimpaired">unimpaired plugin</a> of moving between open files with <code>[b</code> and <code>]b</code>.</p>
<h4>4. Make sure to sync your settings</h4>
<p>One area where Atom is less ideal than Vim is setting portability.  It doesn’t have a single file where all configuration is stored, or a nice settings folder that can be synced.  Instead settings are intermingled with other data in a <code>~/.atom</code> folder, a fact that is obscured by the editor’s UI, which attempts to put a nice UI in front of all of these setting files and steer you away from editing them directly or caring about where they’re stored.  Which works great until you need to move your config to a new machine or sync between 2 machines.  </p>
<p>Fortunately, there’s a great plugin <a href="https://github.com/atom-community/sync-settings">sync-settings</a> that makes this simple.  It does require setting up a gist to serve as your repo, but after that the process is painless and allows you to continue on unaware of the implementation details behind settings.</p>
<h4>5. Check Timecop and clean up plugins that you’re not using</h4>
<p>Atom is built on web technologies.  This is both the best and worst thing about Atom.  It leads to its greatest strengths: hackability, a focus on UX early on since they didn’t have to build a whole UI engine from scratch, and quick iteration.  But it also has very real tradeoffs, the biggest of which are battery life and startup performance<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>.  There’s not much to be done about the battery life drain; Atom is based on Chromium, and Chromium is a battery hog.  It is simply a tradeoff to understand when choosing an editor.  But startup performance is often greatly influenced by the packages that you choose to use.  Fortunately Atom includes a simple tool for tracking this called Timecop.</p>
<p>You can find Timecop in the command palette (⇧⌘P by default).  When you run it, Timecop displays a report of all of your packages and themes and how they contribute to startup time.  It will look something like this:</p>
<p><html><head></head><body>
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 65.93673965936739%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQ4y6VTTW/UMBDNH4LuJk42n3Zs5zv7lexuUUXVAkKUC0i9c+QGt0qVkPivj7GpVtpuekAcnmKPn59n3kwcP1FgscQszBFkGlmu4EccTBTwhITHW+TtgGp9CZZq4ip4kcQrL7b33FBgvuDHtRPmLVR/QKLXCEQ7CZ83iGSPYnkJXg8v8lhWw2G8Am9GZET0suoMbPsZ3qcHLOhh0e6IOxB3C180Z9yL7Rc4Pq8hKUMjupDdGSm6/obk62+EdCb7vYURnXp8Nt7DcdMCSbVBXK4nSW79Ft7Nd5iHU+IlxAso20nB5UcSTDRivURcrBCqHvOkOIG/fA//cA8vLRE98cz6Oc/gdfEGTkCGaypZLw/ws8bCNMrGCIu8s2bbkslDQV4bDksr2yjV7W3cxDyKOW7WI25vkPQf7NemL1bHmAETPVi+Pcai5hq+3MBXI+LuHeHWnrF8BWee0OvlHotiRKoH1LyAa7IsDwhor8oRNXXUTSl7unD0lko0MxoWe7sPaG6F4lQykU2XzUg0WuLnXW1HRJEFxq+7usPDdo1ZpE6bRYKMGmV8NftYllitSzgX9Ic875bxS3Q7u76tejzuhknBWaxPYqYxk4Jm2CP9t7ydrPCjKv9P0GRYbq5syVeU4a9/yPAPd7fLbnIF+IgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="screenshot of timecop" title="" src="/static/e54c55880eb9aea6f4fa92ea3c8409a0-d766e.png" srcset="/static/e54c55880eb9aea6f4fa92ea3c8409a0-a6b6e.png 143w,
/static/e54c55880eb9aea6f4fa92ea3c8409a0-8e488.png 285w,
/static/e54c55880eb9aea6f4fa92ea3c8409a0-d766e.png 570w,
/static/e54c55880eb9aea6f4fa92ea3c8409a0-0167c.png 822w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    </body></html></p>
<p>I wouldn’t recommend obsessing too much over timecop.  For most packages the benefit you receive is going to significantly outweigh any startup burden.  But if your editor starts to feel sluggish, this is a great first step to figuring out if there’s anything you can drop to make an impact.</p>
<h4>6. The UI is just HTML and CSS, and that means you can edit it</h4>
<p>Everything you see in an Atom UI is an HTML element, with classes that you can use to select and style them. This fact is mostly relevant when creating themes, but you can also use it to make one-off UI adjustments.  For instance, when I edit Markdown files, the <a href="https://github.com/sindresorhus/atom-editorconfig">editorconfig</a> plugin I have installed warns me about a possible conflict with another atom package. The warning shows up as a small colored mouse icon in the status bar.</p>
<p><html><head></head><body>
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 44.88567990373045%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABf0lEQVQoz62S2VKDQBBF+RPLJTEhkTUQIBCIBIYtIWYzlsbl/z/i2j2Ulj754sOp2z0909N3QNGnCewoR5zVEIXAMhfISauqwFJQTBRlR0lkoquzJlmBRb1H2hwQ5q1E0dxYNqwPr6h2LxCbJyzXj2hPH6j2Z0lzfEPDdYpXx3cU22eURN4+yfW8Pcnz3EcZOxHMIMVcbOiGtSSim5JyC29RwYwyGP793wSdKl+W/wtFm3aWs90Z6eaMWb6R00asxQNihqZl+L147auWVLtuD9VYZcORFcDwaMq4gBUKTEm9pIA7zymmnDQg67zGeXBfwU9K+ItSxrO0Ia2R1gdY9HTKQHNguCH6Ywu9kYXL27tv+gP9O74aaLI+tF2otkcNKzg0ERNmLTnZYhJmUG5UQza7GvIBE5wzFz0VrZngsjeS8U+uhzpmyzW5EDD9lOKVbDoJ+StbPm61CYa6S1Pov/A0D7rpyAb9sQ12w/vu7Bm5mkM1PGj0l6iuT1MTpo9Pngw0OpULBzcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="screenshot of editorconfig mouse icon in the status bar" title="" src="/static/39200e898c084d11c48d6b6d7da6471e-d766e.png" srcset="/static/39200e898c084d11c48d6b6d7da6471e-a6b6e.png 143w,
/static/39200e898c084d11c48d6b6d7da6471e-8e488.png 285w,
/static/39200e898c084d11c48d6b6d7da6471e-d766e.png 570w,
/static/39200e898c084d11c48d6b6d7da6471e-7a88b.png 831w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    </body></html></p>
<p>I find this warning distracting.  I know what its there for and have decided I don’t care about it, but I can’t dismiss it normally.  So instead I can take advantage of Atom’s flexibility to just get rid of it. All I need to do is open up devtools (⇧⌘I) and find the class.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 61.800947867298575%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACjklEQVQoz3VRaU/bUBD0P6nU0hIg5MDkJIlzmNwJEAg5gADqof7SqqRI5QMSBSpQocrhxDlt54Tp+qWN1A9YGs3bfW9nZ9ecxeED7w7CbPfi7coajOte2P0xhJJZ+OO7EFP78Ea24QlvMd4Q04xdoeQ89w96HWd1CjDbZmIzQQ8cgThimUNEd4pIZkvYTOcQ26U4c0C5A0S2ChApF6dcILHHmgqxDNxiCpxLCMET2MSaKwCr0w+zQ2CC0eQWIokUQzyVQjKdRjhBiEYhhiPwixEEiX1iDL7Iztw1ZyUBu3cT74w8c7jCb8Dmo8fUWR9biO4wh5HtAnOiQ4+Df535yZnOemwTIuCMvBtOIYxli4MJLq6uw7jmwpLFzuI3S+b/sLBsxaJpHQazjU1l0ScSYnAHk+A3xJlDmycEg8n2d496AY/XBhMJmBi/WljGgsEMCzUxWXgYzTxWnT4aMUXrSRCnIeg/xRcFt1c4xv7BKbLFE2RyR8TH2CXezhaRyuSQzuQZ8qWP2MsfIUfvCkfvUTz5hMPTz8jTOX/8AfulE7ovgeu2ZVTuK5AqMlpSE416A1KNzoS21EJbbqPfV9Dr9aAoCsbj8Ryj0QiyLEOSJKqtodvtgptMJqhf19C8qUG6e8TdbQPVqoKOrEFpaxhrY7z0PT09sSbD4RCqqrIGnH4xUAfoViqo/O7i8aFPLhVMx1M8Pz/P8ZKgXK1CJoedTgeapoEr3yr4et3H2UUdX75LKF/18I3i8pWM8+suyj96uPyl4fJBw8W9ivOfKs5uFAa9rlmvo91ooEFQFHXmUHfQq7XQk/uQG4TmgPaiodVUqesEmjrESO3R+LTDAY2mjhim0yn6LaojsXa7w8b/AyMldRuDE1ZuAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="screenshot of editorconfig mouse icon in the status bar with devtools open"
        title=""
        src="/static/bada6a2b6969a5a867626981a6af7347-d766e.png"
        srcset="/static/bada6a2b6969a5a867626981a6af7347-a6b6e.png 143w,
/static/bada6a2b6969a5a867626981a6af7347-8e488.png 285w,
/static/bada6a2b6969a5a867626981a6af7347-d766e.png 570w,
/static/bada6a2b6969a5a867626981a6af7347-13239.png 855w,
/static/bada6a2b6969a5a867626981a6af7347-fbee6.png 1055w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Then we can edit our styles.less file.  Atom will open it for you if you click the <em>your stylesheet</em> link at the top of the Settings>Themes page.  My edit to remove the mouse icon looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-less"><code><span class="token selector">.aec-icon-mouse</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<h3>More Resources</h3>
<ul>
<li>The <a href="https://atom.io/docs">atom documentation</a> is really great, and worth diving into if you want to go deeper into Atom</li>
<li>If you’re interested in learning more about keyboard driven text editing, check out <a href="https://benmccormick.org/learning-vim-in-2014/">my series on Vim</a>.</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>I’m using MacOS default keyboard shortcuts for this post.  Windows and Linux shortcuts are usually similar with <code>ctrl</code> often swapped for <code>⌘</code>.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>Dirty files are files that have been edited and not yet added to the index or committed.</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>I’ve definitely seen post-startup perf issues at points as well, but I suspect that those are implementation problems that will continue to improve as the editor matures and the underlying Chromium platform continues to push on performance.  This may be naive.</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mariana Syntax Theme For Atom]]></title>
        <id>https://benmccormick.org/2017/05/28/mariana-syntax-atom/</id>
        <link href="https://benmccormick.org/2017/05/28/mariana-syntax-atom/">
        </link>
        <updated>2017-05-28T04:05:00Z</updated>
        <content type="html"><![CDATA[<p>Sometimes the best thing to do is steal somebody else’s good idea. I’ve been using <a href="https://atom.io">Atom</a> as my primary text editor for a year and a half now, but I still occasionally play with other editors and keep up with their updates.  There are a crazy number of good cross platform editors these days, and they all have a bunch of good ideas that get shared and remixed across each other. This week Sublime Text came out with a new release <a href="https://www.sublimetext.com/3dev">Dev Build 3132</a> that included 3 new color schemes.  One of them was Mariana, which I believe is a variation on the also great <a href="http://labs.voronianski.com/oceanic-next-color-scheme/">Oceanic Next</a>, with possibly some influences from my previous favorite dark theme <a href="https://github.com/chriskempson/tomorrow-theme">Tommorrow Night Eighties</a> <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.  It stood out to me right away.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">The Mariana syntax theme that shipped in the new Sublime Text is really nice <a href="https://t.co/xbmjBTNoWY">pic.twitter.com/xbmjBTNoWY</a></p>&mdash; Ben McCormick (@ben336) <a href="https://twitter.com/ben336/status/868160533345841152">May 26, 2017</a></blockquote>
<p>Since I’m no longer using Sublime Text, I decided to port the theme to Atom.  I built on the work of the great <a href="https://github.com/atom-material/atom-material-syntax">atom-material-syntax</a> package to build out a new theme.  It turns out to be surprisingly easy to build a color scheme in Atom.  Fork an existing theme, change some colors and the details in package.json, delete a bunch of git tags <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>, and then run <code>apm deploy minor</code>, and you’re in business.  </p>
<p>You can now download <a href="https://atom.io/themes/mariana-syntax">mariana-syntax</a> in Atom.  This was a quick port.  I’ll be working to optimize it for the languages I use (JS, Python, CSS/Less, HTML and Markdown) over the next few weeks.  I would love to see pull requests for other languages or for anything that I’ve missed so far.  I look forward to this just getting better and better. <strong>Update:</strong> Version 0.2.0 has shipped with optimized syntax for JavaScript, Python, CSS, JSON and Markdown.</p>
<p><html><head></head><body>
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 83.00970873786407%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAACBklEQVQ4y51U2ZLaMBD0/6SSBV/4vpBlyxdezJJskkr+/ys6LeOlKGA3JA+NxnjU6pke2dh2L5DDEap/gZc32AQ57DDHykvwxYlg+hk+2+EM08/x5Cb4ZPqwguL0zgqx2qTLuxiGFUsEaYW9VGgPv9A+f0dd90jVgER1CFUPN1dEDZt5ZlTOsJb1Ojb0j59IjGWFtNmjOryi2h+RtTvEsoMnFHzZwC8buIWCFqBhLus1DM3uJCQreghZQ9QKidghLQcUskLRHpA1E9XVdwluCGfJDFwSeGWHDcvSz/oQh8odEul4VrXkfkhoLUmbvIW/Hdi7PULRM+7YigoR14DPj5CdCONTok9lWyqMudnJ1KzMDgVcrZTxmvHZhEcIdXmlaFGxf0X5jKBokPcTknpEIul6N8Gj2r+RGmfXIgnBDY0YiBFZ0aLsjzRlmiH7r3SdzlcjrKWn901hKbocm0kZVUWcuSAS8Ag3ruGyFRu2wEuaufyQ5pmsar3su8aZUJ/q8oQ1CZ54C1bB9grLf36BNdd1eAlxjueSnaymCiqgkk1+Wt/G5BEjbnro0sXtcECh7/XuG+T4SiN287joAzTsD/p215RsN0JoMqI7/oba/0Az/UTGudSz+ab6YYVOTAU0wroo73L2/mGw5WxGkdNlIuEHQN/dVE03fXwPl3nGybH7I2D+B/4A+oRN2m6cG54AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="screenshot of mariana-syntax" title="" src="/static/a13c07ac2f3fde691852ce1738103fe8-d766e.png" srcset="/static/a13c07ac2f3fde691852ce1738103fe8-a6b6e.png 143w,
/static/a13c07ac2f3fde691852ce1738103fe8-8e488.png 285w,
/static/a13c07ac2f3fde691852ce1738103fe8-d766e.png 570w,
/static/a13c07ac2f3fde691852ce1738103fe8-7267d.png 824w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    </body></html></p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>To be clear, I’m not sure how great of an influence this was.  The scheme definitely bears a strong resemblance to both of those color schemes, and the release notes credit both authors as inspiration for the 3 new syntax-themes without naming specific schemes.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>This Stack Overflow article was helpful <a href="https://stackoverflow.com/a/15755041/1424361">https://stackoverflow.com/a/15755041/1424361</a></p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Building Normal Distribution Charts Using Highcharts]]></title>
        <id>https://benmccormick.org/2017/05/11/building-normal-curves-highcharts/</id>
        <link href="https://benmccormick.org/2017/05/11/building-normal-curves-highcharts/">
        </link>
        <updated>2017-05-12T02:30:00Z</updated>
        <content type="html"><![CDATA[<p>This week I got to have a little fun remembering some High School math, and using one of my favorite libraries: <a href="https://www.highcharts.com/">Highcharts</a>.  Highcharts is a commercial JavaScript data-viz library, and it makes most standard charts and graphs a breeze to implement.  I was using it to plot a normal distribution in order to display a 95% confidence interval.  It’s a pretty straightforward problem, but its a nice example of a practical use of Highcharts, and comes with a little stats math that many of us may have learned and forgotten.</p>
<h3>The Problem</h3>
<p>The goal was to display a <a href="https://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a> to represent a 95% confidence interval, given the upper and lower bounds of the confidence interval.  A normal distribution is the classic bell curve, where the area under any section of the graph represents the probability that the true value of the measure being tracked is within that range.  These curves are usually represented something like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 66.73346693386773%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABLUlEQVQoz2P4jxs8e/Vmzr5TP37+xKWAAZfEv3//ohbsMF50sm3TIZI17z572XjhCaBm05l7n7x4SZrmpMW7gDohqGfbURI033v81HDWfrhm+2lbf/36Razmjq1H4TohaPOJC0Rp/vLli/X07caLTqiWTdKom6M3aStQc/SCHURpnr0XaptO12q9yVshmo3mHTl2+ToBzc/fvLWZtRvNzRAUOm/779+/cWr+8OFD3fKtWHVC0OLNO38ipRmG9+/f379///r168ePH7906dKcbfsTlu6FI6BXkbk7j5w4e/bsqVOnbt++DdSFYvP379/fv3v3/PlzYPKC+uL5c2TZp0+fvH//AYuz//79c/na9Tt3bq1eueLz1+8QwaPHjsFS69/b9+4Bpa5cvQbXAgBPO6AxF9FI/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Normal Distribution image"
        title=""
        src="/static/3c13198254a7cdabc416bd2aa060cb7b-bc92a.png"
        srcset="/static/3c13198254a7cdabc416bd2aa060cb7b-a6b6e.png 143w,
/static/3c13198254a7cdabc416bd2aa060cb7b-8e488.png 285w,
/static/3c13198254a7cdabc416bd2aa060cb7b-bc92a.png 499w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>The x axis of the curve represents the range of values, while the y axis is a function of x that shows the relative probability for different areas.  Data sets that are normally distributed conform to the above bell curve and the <a href="https://en.wikipedia.org/wiki/68%E2%80%9395%E2%80%9399.7_rule">68-95-99.7 rule</a>. There’s a 68% chance that the true value is within 1 standard deviation of the middle of the curve (the mean), a 95% chance that the true value is within 2 standard deviations, and a 99.7% chance that the true value is within 3 standard deviations.</p>
<h3>Step 1: Generating a Dataset</h3>
<p>Highcharts operates by plotting a set of data points, not by handling equations directly.  So our first step is computing a set of data points to plot.  We can find the equation for calculating a normal distribution’s probability density on <a href="https://en.wikipedia.org/wiki/Normal_distribution">Wikipedia</a>.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 38.82352941176471%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQoz51S7Y6DIBDk/R/wcr3TWj40elYpoKiIzi3cz0uappsMS3B3nGVgSinwxuKzeuAqDb5uD1RKQ0qB/O3GwTlHVVW4ErTWeBYsxojjBCItIeyI8cRBe+895SMTtG2LVJdr6ewpYVqUkrlR6xHWGoJFURTo+x7rusI5h1eDhRAywbIsuTlhmibUdY15nrOipOxlwnEc/ik4TyLZA94JNowjGaAw+52wEjaYiVQTPKlOPzM0gTEmK3a0TxOlOzZug5tDrrGUUy9bQ4QQkpy15PKASmp8lBoXcv0+aDQ0Ohciu911XXY+Id1v6ml+pr+zdkLbW7Bl24lQEJnFNzcoKZf0fNq7f2vkX2ARazNB9qmOAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Normal Distribution equation"
        title=""
        src="/static/6a389461177782c04eacef4eb7226e50-17fa3.png"
        srcset="/static/6a389461177782c04eacef4eb7226e50-a6b6e.png 143w,
/static/6a389461177782c04eacef4eb7226e50-8e488.png 285w,
/static/6a389461177782c04eacef4eb7226e50-17fa3.png 510w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Yep, we get to play with an equation that has both π and e in it.  I hope this feels sufficiently like a high school math class now.  But we can actually choose to drop the left side of the equation.  It is the <a href="https://en.wikipedia.org/wiki/Normalizing_constant">normalization constant</a> for the equation: it ensures that the total area under the curve equals 1, but doesn’t change the shape of the curve.  Since we’re simply displaying the shape of the graph and care primarily about showing the range along the x axis, we can ignore it and instead use this function:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> normalY <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> mean<span class="token punctuation">,</span> stdDev<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Math<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> mean<span class="token punctuation">)</span> <span class="token operator">/</span> stdDev<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>That’s a good start, but right now we only have an upper and lower bound value for a 95% confidence interval.  So before we can apply the equation, we need to find a mean, a standard deviation, and a set of x values to run the formula against.  The mean and standard deviation are fairly straightforward, and we can use lodash to generate a set of points.  For the sake of this example, we’ll plan on generating 100 points ranging from +/- 5 standard deviations from the mean, which should allow us to see all meaningful parts of the distribution, and still have a bit of padding.  </p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> getMean <span class="token operator">=</span> <span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>upperBound <span class="token operator">+</span> lowerBound<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// distance between mean and each bound of a 95% confidence interval</span>
<span class="token comment" spellcheck="true">// is 2 stdDeviation, so distance between the bounds is 4</span>
<span class="token keyword">const</span> getStdDeviation <span class="token operator">=</span> <span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>upperBound <span class="token operator">-</span> lowerBound<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> generatePoints <span class="token operator">=</span> <span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> stdDev <span class="token operator">=</span> <span class="token function">getStdDeviation</span><span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> min <span class="token operator">=</span> lowerBound <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> stdDev<span class="token punctuation">;</span>
  <span class="token keyword">let</span> max <span class="token operator">=</span> upperBound <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> stdDev<span class="token punctuation">;</span>
  <span class="token keyword">let</span> unit <span class="token operator">=</span> max <span class="token operator">-</span> min <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> unit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Now that we have the x axis locations for the points, we can generate a whole data series.  </p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> mean <span class="token operator">=</span> <span class="token function">getMean</span><span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> stdDev <span class="token operator">=</span> <span class="token function">getStdDeviation</span><span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> points <span class="token operator">=</span> <span class="token function">generatePoints</span><span class="token punctuation">(</span>lowerBound<span class="token punctuation">,</span> upperBound<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">let</span> seriesData <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token function">normalY</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> mean<span class="token punctuation">,</span> stdDev<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h3>Step 2: Creating the Chart</h3>
<p>Now we have what we need to generate a chart!  Given the data, It’s easy to make a simple normal distribution curve with highcharts.  All we need to do is create a <code>&#x3C;div id="container"></code> element and then run this JavaScript:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>Highcharts<span class="token punctuation">.</span><span class="token function">chart</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    chart<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'area'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token punctuation">:</span> seriesData<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Which produces the following graph:</p>
<div>
          <div
            class="gatsby-resp-iframe-wrapper"
            style="padding-bottom: NaN%; position: relative; height: 0; overflow: hidden;"
          >
            <html><head></head><body><iframe src="//jsfiddle.net/ben336/8bgm1m18/embedded/result,js/" allowfullscreen="allowfullscreen" frameborder="0" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          "></iframe></body></html>
          </div>
          </div>
<p>Thats a good start, but contains a lot of “stuff” that Highcharts provides by default that we don’t necessarily want for our normal distribution illustration.  Let’s cut the title, legend, y-axis, and tooltips/mouse action.  To do that we need a bit more configuration:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>Highcharts<span class="token punctuation">.</span><span class="token function">chart</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    chart<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'area'</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        text<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      labels<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      gridLineWidth<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    legend<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token punctuation">:</span> seriesData<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    plotOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      area<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        enableMouseTracking<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<div>
          <div
            class="gatsby-resp-iframe-wrapper"
            style="padding-bottom: NaN%; position: relative; height: 0; overflow: hidden;"
          >
            <html><head></head><body><iframe src="//jsfiddle.net/ben336/w7165m2u/embedded/result,js/" allowfullscreen="allowfullscreen" frameborder="0" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          "></iframe></body></html>
          </div>
          </div>
<p>This is pretty great, but we still want to show our confidence interval like the wikipedia image at the top.  Ideally we’d only be filling in the areas within the 95% curve.  Thats pretty easy to do with Highcharts.  We can use <em>zones</em>, Highcharts way of applying different styles to different sections of the chart.  We want our zones to apply to the x axis, and we’ll define 3 zones: 0 to the lower bound, lower bound to the upper bound, and everything else.  In Highcharts that looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token punctuation">{</span>
  plotOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    area<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      zones<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//fillColor gets the inside of the graph, color would change the lines</span>
        fillColor<span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
        <span class="token comment" spellcheck="true">// everything below this value has this style applied to it</span>
        value<span class="token punctuation">:</span> lowerBound<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        value<span class="token punctuation">:</span> upperBound<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        fillColor<span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>We also want to show a 95% label on the graph like the image at the start.  There are multiple ways to do that in Highcharts, but for this simple case we’ll just abuse the title attribute and move it down into the middle of the chart:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        text<span class="token punctuation">:</span> <span class="token string">'95%'</span><span class="token punctuation">,</span>
        y<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<div>
          <div
            class="gatsby-resp-iframe-wrapper"
            style="padding-bottom: NaN%; position: relative; height: 0; overflow: hidden;"
          >
            <html><head></head><body><iframe src="//jsfiddle.net/ben336/81kb997x/embedded/result,js/" allowfullscreen="allowfullscreen" frameborder="0" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          "></iframe></body></html>
          </div>
          </div>
<p>And with that we’ve taken our original inputs and produced a dynamic illustration of a confidence interval that matches the image we started with.  </p>
<h3>More Resources</h3>
<ul>
<li>
<p>Highcharts has great <a href="http://api.highcharts.com/highcharts/">documentation</a> and you can see more <a href="https://www.highcharts.com/demo">demos</a> on their site, both for Highcharts and their stock and map chart variants.  Note that Highcharts is not free for commercial use.  I’ve found that it is well worth the money though for any team that is going to be doing many data visualizations, especially if its using relatively standard forms of data visualizations on variable data.  </p>
</li>
<li>
<p>If you need more freeform visualizations, <a href="https://d3js.org/">d3</a> is a great place to look.  Here’s an example of D3 being used to draw a similar chart: <a href="http://bl.ocks.org/phil-pedruco/88cb8a51cdce45f13c7e">http://bl.ocks.org/phil-pedruco/88cb8a51cdce45f13c7e</a>  It’s more involved than the Highcharts example, but allows for more flexibility as a result.  And unlike Highcharts, its free to use for anything.  </p>
</li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Grading Applications On Config Portability]]></title>
        <id>https://benmccormick.org/2017/04/14/grading-applications-on-config-portability/</id>
        <link href="https://benmccormick.org/2017/04/14/grading-applications-on-config-portability/">
        </link>
        <updated>2017-04-14T21:30:00Z</updated>
        <content type="html"><![CDATA[<p>This week I got a new laptop, and for the first time in a while I have separate work and personal computers.  One thing that this has made clear to me is that it is still non-trivial to keep settings and configurations easily up to date between 2 different PCs.</p>
<p>In my experience there are several levels of “portability” for applications, which are easy to think of as letter grades.</p>
<h4>A - <em>Seamless</em></h4>
<p>These applications have built in mechanisms for syncing configs and or data between 2 different environments.  When something is updated on one machine, it is either immediately updated on the other, or easy to pull, without having to remember to update anything or doing any previous setup.</p>
<h4>B - <em>Easy</em></h4>
<p>B grade applications are similar to seamless applications, but may have a few more potholes.  Possibly there is some involved setup required to get syncing working initially, or some small chunks of the application configuration don’t sync.</p>
<h4>C - <em>Workable</em></h4>
<p>At this point we’ve moved out of the range of easy syncing solutions.  Here it may be possible to import and export settings from a file, without any automatic syncing.  Or there may be a straightforward way to automate the setup, but no declarative representation of the config state.</p>
<h4>D - <em>Hard</em></h4>
<p>For some applications there is no clear way to sync or import state, but it is probably still possible through scripting if you’re willing to commit to it.</p>
<h4>F - <em>Impossible</em></h4>
<p>Some applications have proprietary settings that can’t be exported or scripted. There is no meaningful way to share settings for these programs.</p>
<h2>A mixed bag</h2>
<p>Setting up my new laptop this week, I found that the software I use a lot was all over the map on this scale.  Here are the grades:</p>
<h4>Atom - <em>B</em></h4>
<html><head></head><body>
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 38.46153846153846%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdkRQf/EABYQAAMAAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQABBQIq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGRAAAQUAAAAAAAAAAAAAAAAAAAEQEUGB/9oACAEBAAE/IVmjDf/aAAwDAQACAAMAAAAQ99//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAARIQABEDFR/9oACAEBAAE/EGUgLM06x//Z&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Atom Logo" title="" src="/static/093b823a2bee7ef140badd020e6e572c-6fbc3.jpg" srcset="/static/093b823a2bee7ef140badd020e6e572c-da4c7.jpg 143w,
/static/093b823a2bee7ef140badd020e6e572c-1d39e.jpg 285w,
/static/093b823a2bee7ef140badd020e6e572c-6fbc3.jpg 570w,
/static/093b823a2bee7ef140badd020e6e572c-e5ca9.jpg 650w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    </body></html>
<p><a href="https://atom.io/">Atom</a> doesn’t have native syncing persay (though most configs are in a ~/.atom folder that can possibly be synced with git).  But it has a very nice <a href="https://github.com/atom-community/sync-settings">sync-settings</a> plugin that uses gists to sync settings across multiple machines.  It loses points due to a little bit of upfront pain (when setting up a new machine you need to either create a new gist or find your old one, and you need to generate github auth keys for each instance), but gains them back with a very nice set of options to selectively restore or choose when to backup, and painless support for all of Atom’s 3rd party plugiuns</p>
<h4>Sublime Text - <em>B+</em></h4>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 100%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAABzklEQVQ4y7XUPUgbYRzH8aeBIkjFQToIikMQQR1aRMFF7iV3SS45Y+pLXXQQglKLqBTsVkolVWJSS821Q2mHdrVL92d1EQQXHesoiKiIKFF//iM+Po82SaXBg89wzz3/L3fHcYzdx+G67gzhZUpeB6PRKCco0/p1MBKJcIK7GozbSI8+Qcx11HUZdByHE5Qy3GvAG2/B2rsa5LwHwBeG/pit7vl3MDHQhe8TTdh8X43zz+wyourrtgoHw+EwJxB+TDZiK/WoYET1zLWgzMlgKBTiBIJ4pEJ2PlTg90w9Xg+1Q50hMhgMBjmBUCh46jEsv2pAPGJC3auQQdu2OYFQ6g5Psj6svHmMVKIVQWWGyKBlWZxASCeasfq2pmQ4r8fRoczJYCAQ4AS39Tgavr7wYz/jw5n3dzAW1tT9xYMj8U58e+nHxmwVjhYZDhYYducY9lLs8lzEiwZN0+QEwsmSD+c0JJxlGXKfGI4/MhxmGLZmH+LXZC3sgAFlTgYNw+AEQi5L7y7/DV7JR7fTFViersPU86ewTB3q/isyqOs6JxBE8M98JX5ONGCstw2Gcr0IGdQ0jRMI2VE/hrs7oK7dQfHgf7oRTOYXyuTdy9//ArsSf5hQYhcEAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Sublime Logo"
        title=""
        src="/static/379627f9a03d1e9aa502e010930f90a7-d766e.png"
        srcset="/static/379627f9a03d1e9aa502e010930f90a7-a6b6e.png 143w,
/static/379627f9a03d1e9aa502e010930f90a7-8e488.png 285w,
/static/379627f9a03d1e9aa502e010930f90a7-d766e.png 570w,
/static/379627f9a03d1e9aa502e010930f90a7-13239.png 855w,
/static/379627f9a03d1e9aa502e010930f90a7-acf54.png 1024w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p><a href="https://www.sublimetext.com/3">Sublime Text</a> saves all of its configurations as JSON, so its pretty easy to move them over.  It loses a few points though for making you figure out how to sync them, and a few more points for sticking user configs by default in the <code>~/Library/Application Support/</code> directory, where it is a bit more difficult to sync using things like git and dotfiles.  </p>
<h4>Command Line programs - <em>A-</em></h4>
<html><head></head><body><div class="img-group">
  
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 100%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACnUlEQVQ4y+WUW0iTYRzGpcNFeVEbChEU0kXQldSFZOYJbWpaMaSTko7JaCPUC2Gh+e3gNzV20k/nNieC5CF1bG5f6Ke05Q7Q3Jwxu7Kb6EZheRMS1E0+7fsomenQi67qhYf3BD/e//M+/NPS/u8hl8uPxePxks3NzRvJCkfCogn3i0mHw5Gxvr5etLGxsUuxWCxzX+Acw0i1Oh0sFmuSLBDKa3HVJkCHqXVLr9fDZBrYUV9fH/QGw/y+QJfLJSZJzXYkHMZKNMpJSapxrrEA/MFynCfzoCBVCP+6jy4vo7+/H70U5UhV9RGlSk2/X13dAZaLqjkYqxzNPQSCAQ7EymAwoLeX8hAEcSqlj+2EYuJPIM9ahhJNHcJLS9zZciQCpVoBi9X6pr6+/mRKWCAQSG8l2qK7gHVCVHdJ8W5lhduz0BbiKbJU+WgeEW8t+hbL9oWFQqGMYdfw29yWciQDjT09WI3FuPVSKASpvBn8jkLOgrODAjweqf3OvJ6t2QP0er1VtzrF3/jSnF3AgN/PzX6fD7pEAk4T13c8Za240FYE25jVyfq/Bzo1NVVWKbn/JRnIKhgMQih+iMpOMXg9JeCZBOBRpbgoL8Wky/5xYWHhyqE/hX1ZheQutANGVGolaDeSUBm7MDo5DoqiMDMzg9GxsdlDAb0eDwobbiODLAb9isYZohjjLydwqSYP09PT8Hg8nxPZhZummw4EzjMMJE9k2zxFAfLIB1BqNbj87A46u7vgcrt/2Gw2zM7NfTWbzVhbWxOkBCay1dTd/fyTQqn6YLfbK1Q2nS9TUQR+wruq1kdbDMM0JMq85vf7K2iazk9E7aZMJjtxUJ84+vvXRCJRunbE5BSpG+MOpzP3r3Sh7Ozs40NDQ1n/Rk/9CfBx+1OP+w7bAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Vim logo" title="" src="/static/ae8d50a17bcac108e0974582ab929911-d766e.png" srcset="/static/ae8d50a17bcac108e0974582ab929911-a6b6e.png 143w,
/static/ae8d50a17bcac108e0974582ab929911-8e488.png 285w,
/static/ae8d50a17bcac108e0974582ab929911-d766e.png 570w,
/static/ae8d50a17bcac108e0974582ab929911-a08e0.png 650w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    
  
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 69.64285714285714%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB00lEQVQoz42SaW/TQBCG8/9/DRICCYEQAppKVOR2mjR2Lju+77W91+xs17EqqhIJ5tNqZ5539t2ZkR5CKWY77XTeTmfdZttfMC6TWHhbsXvgu7XqaF+GqF/FiJ/OzWTGg1AxNlwh5yIIqe2Ii6dVgvmKr++hzG/A7HgScYpdgu57bAuUUlx81bYmZyRklmoM+NMYilsw1ERm14QSKJgII+oc2HapeXXlI0h9uCygjG/AQwcwPCIQAlVpzHezmfQ3GjJTrmrCnL1qu9swUsoOR+H7QGpFGvJj3M3n8rzV9KJl3atH0WDkTYwGPeE5nbURfiijCz9abDXHysPGHWCUCptcA78BY5tiuYfU4ecTZmssLQhtbUiRmFebfF9DQi3av2HEwoWoxyDPVbjAfIG1j3wofTGpJJJElyvd7TXCq85dTR/X4Dv9uXJVsBTuge2eZOAhrV8krirNRhNLhRMk0R/PMk4UpVd7jNsr+rgRUQxpDNFRZR7EJxXvNS90e9TFGIM7zA5Iq9HbH1QIeWGGh9eFMzsj81ymGWQJxgtpfxHub7A/qXBJrdlI/zOuszVyYnvHpx9EFHDrZ/P9Y/X12//CMi+7yT35/A5pa5ai+fXQLZbPOlMh4Cb6aCIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="fish logo" title="" src="/static/8e8d12e9c97d6f070368e93dd89050ff-ac588.png" srcset="/static/8e8d12e9c97d6f070368e93dd89050ff-a6b6e.png 143w,
/static/8e8d12e9c97d6f070368e93dd89050ff-ac588.png 168w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    
</div>
<div class="img-group">
  
  <a class="gatsby-resp-image-link" href="undefined" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; z-index: -1; display: block; ">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.75824175824175%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABFklEQVQoz43Rv0pCURzA8YM9hNqos0Kc26bioogNXSWkNxAFNxdBVGryHVxsiKitLWgKWqJ0yH+IuPgAWmiDIPU98TOuVuCFD+deL+d7z/Eo5bjebF2b2fr13dYetcMVDqgh8uY+ElDBjZdEcgSLBKfo7RIlloYPB2hlosr1/YLAOT7RmKe0n3G1HWXCMTro4gU5TFDGGAs8m9iZxIwlqzwiVOC+b6IfacstwUdkcYiR/HaHitm2+cj6f+s6giueS6jKh8xKkzK5LCvqo/FvcJ6yvEwaSLBDLLOOs9KsY8s3eEAdCQ5hn7GHW5zKli+3o21Z3UZMgve4wDWWOEHciGm1xxiC9TPBEf0Vk+ATrtCUQ/D+dfJfThSkSQLB5ZwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="git logo" title="" src="/static/042664999475fd8cc3672db6567e2e53-d766e.png" srcset="/static/042664999475fd8cc3672db6567e2e53-a6b6e.png 143w,
/static/042664999475fd8cc3672db6567e2e53-8e488.png 285w,
/static/042664999475fd8cc3672db6567e2e53-d766e.png 570w,
/static/042664999475fd8cc3672db6567e2e53-13239.png 855w,
/static/042664999475fd8cc3672db6567e2e53-cfb90.png 910w" sizes="(max-width: 570px) 100vw, 570px">
    </span>
  </span>
  
  </a>
    
</div></body></html>
<p>Command line programs like Vim, Ack, bash/zsh/fish, and git all nail the idea of declarative configuration files that are stored in a common place.  They fall short of a pure A since they don’t provide a sync solution themselves (that would be very non-unixy), but since it is easy to set up <a href="https://dotfiles.github.io/">dotfile repos</a> to sync and backup these settings, they qualify for a strong A-.</p>
<h4>iTerm2 - <em>C</em></h4>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 100%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACjklEQVQ4y83US08aURjG8enSO8gwzCAgl2FuZ2CgWiv1smi6sDUxRFp2Jg0LRE3TxKirLirp1nZhWkyrrWy666Jbd/0AfoF+mafnPZYBEbtyUZJ/JifD+c07JwRJ+u8/9Xpdvby8/H0XXVxcHEpzc3PJnZ0d/Kvt7e1rbW1t+TUaDdHm5iY2NjY+S1NTUynXdeEWXLAHDCzP8xickgNn3oGdt2HbNizLgmmaIsMwRNls1k/XdaRSqS9SLBZL5Qo5sOcMyg8N9hpHVmyoRyoiRxHYjznodNF+OGtcA08JTHsPPSg/o7De2WBrfLqyA+WTgvDHMOynNhzGp3WcG2hnUiqTyWB6evqMwExhtgDrtQ35lwrzlQVWYQKknGcOGGM+2Pv6hCSTSYKQSCTAj++MzlAXYMOG3soidpoAe9EDrnLQ7YL0aoQQEI/HwQcScQeapn0lMFucLYK9dBH9Hoe34sFddaF90KC91+A8cWBaJp3PDYCKRqMijiESiXy7AotF0JTePO++h/xMHu4jF/qMjkQmcStAqaoq4hhkWT6X+E1DgAWOeZ44r3Q67SODANpMKYriFw6HMTk5SaBmEEYQnU0/0juBEulupvhEkEMyQqGQKBAInEv8CwZNdNtr9E4gALkL8IkQDFJB0cTExLk0NjZm9AL9SAfqRa6gIE3kxzFwqy2Njo6ag85j8DRBHyKAGh8fF3EM3GpLQ0NDpv/Uvk39G2nT342iEWpkRDQ8PAxutaVcLmeenJyg1WqJjo+PcXBwgP39fdHu7q5Y7+3tXVt37lOde7VarS3xH2ugWq2+WV9fb1YqlWa5XG4uLy83l5aWRAsLC/6aXw8XFxcP6Tqgt6VSaaXzP3vvjpL+AJoEBnJEvTthAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="iterm2 Logo"
        title=""
        src="/static/6ad77f78686b0db16d3e262640e631b8-751de.png"
        srcset="/static/6ad77f78686b0db16d3e262640e631b8-a6b6e.png 143w,
/static/6ad77f78686b0db16d3e262640e631b8-8e488.png 285w,
/static/6ad77f78686b0db16d3e262640e631b8-751de.png 512w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p><a href="https://www.iterm2.com/">iterm2</a> is probably the most popular terminal replacement on the mac.  It has tons of settings that you normally edit through a GUI menu.  It does allow you to export those settings, and import them on another machine.  So you need to have access to the original file to generate a snapshot at any given time and need a way to transfer the file(s), but otherwise this is still pretty workable.</p>
<h4>Hyper - <em>A-</em></h4>
<p><a href="https://hyper.is/">Hyper</a> is a newer <a href="https://electron.atom.io/">Electron</a>-based terminal application for OSX.  Like Sublime Text, it defaults to offering a GUI interface into text based configuration files.  Unlike Sublime Text, it stores that file and its plugin files in the users home directory where they can easily be included in a dotfile repo.</p>
<h4>MacOS - <em>D-</em></h4>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 56.25%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEFAgT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHbms07yWOf/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECERL/2gAIAQEAAQUC5MRkk0x0xNn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAFhABAQEAAAAAAAAAAAAAAAAAMQAQ/9oACAEBAAY/AsZnP//EABoQAAICAwAAAAAAAAAAAAAAAAARAVExQXH/2gAIAQEAAT8hWdlwwWwpwIZk/9oADAMBAAIAAwAAABCzL//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QbukP/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EFUUf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExkUH/2gAIAQEAAT8QeEQ4oz7cUWeGWUwLqUZbdQRr2n//2Q=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="macOS sierra Logo"
        title=""
        src="/static/8af8f768ce91ce5a30f67cff603de68e-6fbc3.jpg"
        srcset="/static/8af8f768ce91ce5a30f67cff603de68e-da4c7.jpg 143w,
/static/8af8f768ce91ce5a30f67cff603de68e-1d39e.jpg 285w,
/static/8af8f768ce91ce5a30f67cff603de68e-6fbc3.jpg 570w,
/static/8af8f768ce91ce5a30f67cff603de68e-69191.jpg 800w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Unlike most of the applications I run on it, MacOS is extremely unfriendly to syncing configurations.  There are a few settings I want the same on all my laptops.  Touchpad scrolling should be in the “unnatural”<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> direction, keys should repeat when held, and caps log should be disabled/mapped to control.  There is a set of apps that I would always want to have installed.  There is no declarative way to configure this, or sync it across computers.  Apple’s preferred strategy seems to be having folks use time machine backups, which is great for setting up a new computer for the same purpose as an old one when it is being replaced, but unhelpful when 2 laptops are being used by the same person for different purposes.  It is possible to script the setup of a new laptop with scripts like <a href="https://github.com/mathiasbynens/dotfiles/blob/master/.macos">this one</a> but its very involved and when you update a setting the “normal MacOS way”, its not always clear how you would add that setting to a script.  Plus a “from scratch” script won’t help keep 2 machines aligned as their configs diverge over time.</p>
<h4>Cloud Services - <em>A</em></h4>
<p>Unsurprisingly, the one class of software that really nails this experience is cloud software.  For services like Dropbox, Bear, Evernote, Slack, email &#x26; calendar clients, etc, most if not all settings and data is stored on servers somewhere else, so getting a new machine up to date and staying in sync over time is just a matter of entering a password.  There are reasons to dislike cloud services, but when moving to a new machine, they’re a thing of beauty.</p>
<h2>Takeaways</h2>
<p>If you are going to be using 2 computers for different purposes as a developer, take the time to setup a good dotfiles repo that contains the configs for the command line programs and editors you use.  These days if you do that, pretty much everything else but the operating system will come right along.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>Honestly the wording around that feature is pretty insulting.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
</feed>