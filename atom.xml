<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://benmccormick.org</id>
    <title>benmccormick.org</title>
    <updated>2019-02-11T19:03:28Z</updated>
    <generator>Feed for Node.js</generator>
    <author>
        <name>Ben McCormick</name>
        <email>ben@benmccormick.org</email>
    </author>
    <link rel="alternate" href="http://benmccormick.org"/>
    <link rel="self" href="http://benmccormick.org/atom.xml"/>
    <subtitle>A blog by Ben McCormick</subtitle>
    <logo>https://benmccormick.org/logo.png</logo>
    <icon>https://benmccormick.org/favicon.ico</icon>
    <rights>All rights reserved 2016, Ben McCormick</rights>
    <contributor>
        <name>Ben McCormick</name>
        <email>ben@benmccormick.org</email>
        <uri>http://benmccormick.org</uri>
    </contributor>
    <entry>
        <title type="html"><![CDATA[Reusable Code In React: Inheritance, Composition, Decorators and Mixins]]></title>
        <id>https://benmccormick.org/2019/02/11/reusable-react</id>
        <link href="https://benmccormick.org/2019/02/11/reusable-react">
        </link>
        <updated>2019-02-11T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>Once you get past the initial complexity it creates by bucking conventions, React is the most developer friendly UI library I have ever used.  A big reason for that is the way it uses and encourages a variety of patterns to share codes and concepts across a code base. Let’s look at how 4 traditional code re-use patterns are used by React and in the React ecosystem, using a simple counter example to explore why each pattern is used.</p>
<h4>Inheritance</h4>
<p>Inheritance is a code-reuse technique associated with object oriented programming.  If you’re like me and learned to program in school using Java, it probably is one of the very first Computer Science concepts you learned.  For self-taught JavaScript devs it may be much less familiar.  Inheritance is a pattern for extending an existing class or object with additional methods or data, possibly overriding the implementations of other methods in the process.  A classic example of inheritance looks like this in JS:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Automobile</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vehicleName <span class="token operator">=</span> automobile<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>numWheels <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printNumWheels</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`This </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>vehicleName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>numWheels<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> wheels`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">extends</span> <span class="token class-name">Automobile</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vehicleName <span class="token operator">=</span> <span class="token string">'car'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>numWheels <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bicycle</span> <span class="token keyword">extends</span> <span class="token class-name">Automobile</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vehicleName <span class="token operator">=</span> <span class="token string">'bike'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>numWheels <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bike <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bicycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span><span class="token function">printNumWheels</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// This car has 4 wheels</span>
bike<span class="token punctuation">.</span><span class="token function">printNumWheels</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// This bike has 2 wheels</span></code></pre>
      </div>
<p>Inheritance is useful for highly structured objects where you have a lot of shared behavior across similar but slightly different objects and you want to be able to treat all of the objects as interchangeable from an API perspective. This is especially valuable when that interchangeable API is well defined and unlikely to change too much.  However it tends to lead to brittle structures when nested across multiple levels, and is a poor fit when dealing with dissimilar objects that need to share a few behaviors.</p>
<p>React Components are objects that we want to treat as interchangeable from an outside API perspective, and they have well defined points where behavior may need to be different between components but don’t always need to differ: the lifecycle methods like render, componentDidMount, componentWillUnmount, etc.  Thus React relies on a single level of inheritance as the foundation of its class components.  Class components inherit from React.Component, and only implement the life cycle methods that they’re interested in.  But all of them inherit useable setState and forceUpdate functions, and React can verify that by checking the <code class="language-text">isReactComponent</code> property on the object.</p>
<p>Here is a basic counter component.  Notice how we don’t have to define <code class="language-text">setState</code> on our <code class="language-text">Counter</code> class.  Instead it inherits it from React.Component.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">//counter.js</span>
<span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">let</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
               count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"fancy-layout"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"fancy-display"</span><span class="token operator">></span>
                Current Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
            <span class="token operator">&lt;</span>button
                className<span class="token operator">=</span><span class="token string">"incrementCounterBtn fancy-btn"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span>
            <span class="token operator">></span>Increment<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Outside of this single layer of inheritance for defining Class components, inheritance isn’t used much in React development.  It turns out that better patterns have emerged for sharing application code.</p>
<p><strong>Inheritance Pattern</strong>: Used sparingly to share common code across React class components.</p>
<h4>Composition</h4>
<p>Composition is a code reuse technique where a larger object is created by combining multiple smaller objects.  Composition is in some ways the natural pattern of the browser, as HTML uses it.  We build a table in html, not by adding a bunch of configuration to a single table object, but by combining a <code class="language-text">table</code> tag with <code class="language-text">tr</code>s, <code class="language-text">td</code>s, and <code class="language-text">th</code>s like this:</p>
<div class="gatsby-highlight" data-language="html">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Web Framework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Language<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Rails<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Ruby<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Django<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Python<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Flask<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Python<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Play<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Scala<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Play<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Express<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>JavaScript<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>React has fully embraced the HTML style of composing UI components, and it takes thing to the next level by allowing components to be stateful and pass values down into children.  For instance, if we wanted to split the counter component above into a separate control and display, perhaps using a standard set of UI components we could do it by extracting <code class="language-text">FancyLayout</code>, <code class="language-text">FancyButton</code> and <code class="language-text">FancyDisplay</code> elements out into their own components and then composing them back into a single counter component.  This type of thing is useful for creating and reusing standard UI elements, and might look something like the following:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// UI components defined elsewhere</span>
<span class="token keyword">const</span> <span class="token function-variable function">FancyLayout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"fancy-layout"</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">FancyDisplay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"fancy-display"</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">FancyButton</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">,</span> className<span class="token punctuation">,</span> onClick<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button
    className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`fancy-layout </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span>
    onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span>
    <span class="token operator">></span>
        <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span>


<span class="token comment">// counter.js</span>
<span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
         <span class="token keyword">let</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
               count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>FancyLayout<span class="token operator">></span>
            <span class="token operator">&lt;</span>FancyDisplay<span class="token operator">></span>
                Current Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FancyDisplay<span class="token operator">></span>
            <span class="token operator">&lt;</span>FancyButton
                className<span class="token operator">=</span><span class="token string">"incrementCounterBtn"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span>
            <span class="token operator">></span>Increment<span class="token operator">&lt;</span><span class="token operator">/</span>FancyButton<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FancyLayout<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>In this example we now have 4 components instead of one.  Three of them are laser-focused on defining a specific element type, and are “display only” with no logic of their own.  The 4th contains all of our logic and defines how the display pieces come together.</p>
<p>In the seminal 1994 book <a href="https://amzn.to/2WDhncv">Design Patterns</a> the authors argue that composition should be strictly preferred over inheritance where possible because it creates less tightly coupled objects, and encourages designs where objects are small, focused and readable.  Composition also lets us hide complexity inside of child objects, because parent components only have to concern themselves with the APIs exposed by those child objects.  One of the keys to React’s success has been making this type of composition clean and painless by encouraging strong component interfaces and utilizing JSX to provide a comfortable syntax for describing composed UIs while keeping all component concerns in the same place<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p>
<p>It is worth noting that after this refactor, our counting logic is still tightly tied to the layout of our counter component.  Let’s explore 2 more patterns that can help us extract our logic from the display completely.</p>
<p><strong>Composition Pattern</strong>: The core pattern for separating concerns while creating complex UIs with React.</p>
<h4>Decorators</h4>
<p>Decorators are a pattern for editing an instance of a class to give it additional behaviors than it had previously.  In contrast to inheritance, decorators are not part of the class definition, but are modifications to the class at run time to allow a subset of objects to have additional data or behavior <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.  In classic object oriented programming, this was implemented by having a decorator class that shared an interface with the class to be decorated, and called its methods through to that class, with additional behavior before or after the pass-through.  The React community has generally implemented this pattern slightly differently, by writing functions that take a component class and return a new component class that calls through to the original component, possibly with additional props passed in, extra components rendered around it, or conditional logic that causes it not to render in some cases.  The React community generally refers to this pattern as <a href="https://reactjs.org/docs/higher-order-components.html">Higher Order Components</a>.</p>
<p>Here’s an example of using a higher order component called <code class="language-text">withCounter</code> to separate out the display and logic portions of our Counter component.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">withCounter</span> <span class="token operator">=</span> WrappedComponent <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">class</span> <span class="token class-name">ComponentWithCounter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            count<span class="token punctuation">:</span> <span class="token number">0</span>
         <span class="token punctuation">}</span><span class="token punctuation">;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
               count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> increment<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ComponentWithCounter<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// counter.js</span>

<span class="token comment">// this is a display only version of the component with no logic</span>
<span class="token comment">// very easy to test and simple to change</span>
<span class="token keyword">class</span> <span class="token class-name">CounterDisplay</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>FancyLayout<span class="token operator">></span>
            <span class="token operator">&lt;</span>FancyDisplay<span class="token operator">></span>
                Current Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FancyDisplay<span class="token operator">></span>
            <span class="token operator">&lt;</span>FancyButton
                className<span class="token operator">=</span><span class="token string">"incrementCounterBtn"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span>
            <span class="token operator">></span>Increment<span class="token operator">&lt;</span><span class="token operator">/</span>FancyButton<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FancyLayout<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// this adds the logic back to the display only version</span>
<span class="token keyword">const</span> Counter <span class="token operator">=</span> <span class="token function">withCounter</span><span class="token punctuation">(</span>CounterDisplay<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Now we’ve taken our refactored <code class="language-text">Counter</code> and split it into 2 more pieces.  The display logic remains in a simplified <code class="language-text">CounterDisplay</code> component that doesn’t have any state or business logic of its own.  <code class="language-text">CounterDisplay</code> takes 2 new props, <code class="language-text">count</code> and <code class="language-text">increment</code> that allow it to implement the counting logic without having to know how it is implemented.</p>
<p>Meanwhile, we split the counting logic out into a Higher Order Component.  <code class="language-text">withCounter</code> takes a React component and wraps it with another component that is solely responsible for keeping track of counts and providing the increment function.  In this case that is our CounterDisplay component, but if we decided we wanted to also have fancy counters that incremented when the user clicked a checkbox or hovered over a box or typed the word increment, it would be easy to reuse this logic.</p>
<p>Higher Order Components helped many React libraries like Redux and React Router define elegant APIs when they first came on the scene, but they’ve always been a power user technique.  There are many ways to screw them up, and although they allow for theoretical loose coupling, they still require a certain level of shared understanding between the decorator and decoratee, including knowing what props to make available, whether any methods have to be proxied through to the decorated component, and more.  The community as a whole has tended to favor render props over the past year<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>, and now looks poised to move towards our 4th pattern: mixins.</p>
<p><strong>Decorator Pattern</strong>: Used to provide a nice interface for separating out logic shared by multiple components and centralizing it.</p>
<h4>Mixins</h4>
<p>The newest pattern that React has added to its bag of code reuse tricks is also one of the oldest.  In older versions of React there was a feature called “mixins” that was <a href="https://reactjs.org/blog/2016/07/13/mixins-considered-harmful.html">later deprecated due to its ease of mis-use</a>.  “Mixins” are gone now, but the “Mixin pattern” is back!  React is in the process of introducing <a href="https://reactjs.org/docs/hooks-intro.html">hooks</a>, a new way of doing mixins.</p>
<p>So first, what is a mixin?  It is yet another way of defining shared behavior onto a class, in this case providing methods and/or data that are “mixed in” to one or more classes.  It differs from inheritance because a class using a mixin doesn’t have to use the mixin as a parent class, and the class may use several mixins at once.  Mixins that are used together in one class may not be used together in another.  Mixins also different from the decorator pattern, because the mixin is part of the class definition, not something that is applied dynamically later.</p>
<p>Mixins are useful when you have classes with different purposes that shouldn’t share an inheritance tree but do have some shared behavior.  In practice though they have historically been tricky to use because it is easy to tightly bind mixin code to the implementation of the code that it is mixed into.  Poorly implemented Mixins can result in naming collisions, inflexible code, and hard to trace errors.</p>
<p>React Hooks may not look like mixins, since they are used in a function, not a class.  But they fill the exact same role as traditional mixins, while avoiding some of the footguns (no naming collisions!).  Let’s look at an example from Dan Abramov’s blog post <a href="https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889">introducing hooks</a>.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">useWindowWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>width<span class="token punctuation">,</span> setWidth<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setWidth</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> width<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>This is a hook that provides the width of the current window to a React component, updating each time the window is resized.  You would use it in practice like this example of a header bar that replaces its menu items with a hamburger menu on smaller screens:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> windowWidth <span class="token operator">=</span> <span class="token function">useWindowWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> showHamburgerMenu <span class="token operator">=</span> windowWidth <span class="token operator">&lt;</span> <span class="token number">800</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>Logo<span class="token operator">></span>
        <span class="token punctuation">{</span>showHamburgerMenu <span class="token operator">?</span> <span class="token operator">&lt;</span>HamburgerMenu<span class="token operator">/</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>MenuItems<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>This usage is different from a normal helper function, because it enhances the component; because this is using React’s state code within the hook, this component will automatically update when needed.  So it is a way of reusing component behavior like Higher Order Components.  But we lose a lot of the disadvantages of HOCs.   <code class="language-text">useWindowWidth</code> and <code class="language-text">Header</code> are extremely loosely coupled.  <code class="language-text">useWindowWidth</code> doesn’t know anything about the header bar structure or logic, or the rules for when things should show.  It is only providing information.  At the same time, if we refactored it to get the window size in some other way, or to throttle updates, we wouldn’t have to change anything about <code class="language-text">Header</code>, since all it knows is that <code class="language-text">useWindowWidth</code> will occasionally provide it an updated windowWidth.</p>
<p>The functional style makes this look different than a traditional object oriented “mixin pattern” example, but it is using the same concepts and solving the same problems.  This way of doing things has advantages; because it is “just a function” that gets called, we never need to worry about it having a naming collision with a different class method, or having to be aware of the structure of the outer component.  If it needs component specific information, we can just pass it an argument.</p>
<p>With Hooks, we can create a much cleaner version of our Higher Order Component example from the decorators section.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// defined in a library file</span>
<span class="token keyword">const</span> <span class="token function-variable function">useIncrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span>initial <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>val <span class="token operator">=></span> val <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> initial<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// counter.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>FancyLayout<span class="token operator">></span>
        <span class="token operator">&lt;</span>FancyDisplay<span class="token operator">></span>
            Current Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FancyDisplay<span class="token operator">></span>
        <span class="token operator">&lt;</span>FancyButton
            className<span class="token operator">=</span><span class="token string">"incrementCounterBtn"</span>
            onClick<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span>
        <span class="token operator">></span>Increment<span class="token operator">&lt;</span><span class="token operator">/</span>FancyButton<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>FancyLayout<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>As with decorators we’ve extracted the logic in a reusable form, but we’ve done so with much less boilerplate.  I’ve removed the intermediate <code class="language-text">CounterDisplay</code> here, because if we’re not using it for anything else, it is easy enough to just include the hook directly in the definition.  But if we wanted, we could easily use that <code class="language-text">CounterDisplay</code> component with a hooks enabled wrapper component:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>CounterDisplay count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> increment<span class="token operator">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p><strong>Mixin Pattern</strong>: Hooks use a variation on the Mixin pattern to allow sharing related behavior and data between unrelated function components easily.</p>
<h3>Summary</h3>
<p>If I took one thing out of this analysis personally, it was a renewed appreciation for considering the needs of a situation and finding the right approach for the job, rather than trying to fit every problem to my favorite solution.  I’m over 2000 words and I haven’t even addressed all the different strategies React and the React community use for code re-use. <em>Sorry render props</em> 😢.   So next time you run into an architecture problem, consider a few different solutions and their tradeoffs.</p>
<p><strong>TL;DR</strong></p>
<p>React uses a variety of patterns for code reuse.
<strong>Inheritance Pattern</strong>: Used sparingly to share common code across React class components.
<strong>Composition Pattern</strong>: The core pattern for separating concerns while creating complex UIs with React.
<strong>Decorator Pattern</strong>: Used to provide a nice interface for separating out logic shared by multiple components and centralizing it.
<strong>Mixin Pattern</strong>: Hooks use a variation on the Mixin pattern to allow sharing related behavior and data between unrelated function components easily.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>Clunky JS based interfaces for specifying child components are visually difficult to scan and understand, while solutions that use external template files spread logic about a single component to multiple files, making it harder to keep everything in the developers head.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>Note that the decorator pattern is not the same thing as the TC39 proposal to <a href="https://github.com/tc39/proposal-decorators">add a decorator syntax to JavaScript</a>, or the TypeScript feature of the same name.  Both are related to modifying class behavior, but the mechanisms are not the same.</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>Render props ultimately qualify as an advanced composition technique and so didn’t get their own heading here, but they’re definitely worth understanding.</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Book Review: Info We Trust]]></title>
        <id>https://benmccormick.org/2019/01/30/book-review-info-we-trust</id>
        <link href="https://benmccormick.org/2019/01/30/book-review-info-we-trust">
        </link>
        <updated>2019-01-30T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>Sometimes surprises are good.  I bought RJ Andrews new book <a href="https://amzn.to/2Ww9BBl">Info We Trust</a> expecting to get some practical tips on how to create better data visualizations.  But frankly there’s very little in the way of “how to” in this book.  Instead I was treated to a deeply engaging book that’s part history of data visualization, part exploration of human psychology, and 100% a love letter to “data storytelling”, with brief detours into linguistics, museum curation sentence diagramming and propaganda posters. If you’re looking to know when to use a bar chart vs a pie chart in your powerpoint slides, this book will be a disappointment.  But if you want to learn how to think deeply about telling stories with data, or just enjoy seeing somebody who loves their topic nerd out about it for 200 pages in a beautiful formatted book, this may be for you.</p>
<p>Let’s start with that beautiful book.  This is not a read that you want to pick up on Kindle.  The book is littered with fascinating illustrations, all <a href="https://infowetrust.com/illustrations/">hand drawn by the author (!!!)</a>, and almost every page has interesting quotes, examples and tangents in the marginalia.  Here are a few random pages that I snapped with my phone while writing this;  it turns out that every single page is this beautiful.</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/a84e2d937fc60341661ef1066f2f838e/0cf58/page1.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 74.90234375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFqImyow5f/xAAbEAACAQUAAAAAAAAAAAAAAAAAEiEBAgMRIv/aAAgBAQABBQKyCHTHU3LdMf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAQACAwAAAAAAAAAAAAAAAAEAAiAhkf/aAAgBAQAGPwIIzdDmH//EABkQAAMBAQEAAAAAAAAAAAAAAAABMSERsf/aAAgBAQABPyGZiSEoFtylDLC2p4j4Z//aAAwDAQACAAMAAAAQ/O//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBX/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EABsQAQADAQADAAAAAAAAAAAAAAEAESFRMXGR/9oACAEBAAE/EGENEUL4i2rSKpft2LHolJVQ4+QxemZGz//Z'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Page 1"
        title=""
        src="/static/a84e2d937fc60341661ef1066f2f838e/6fbc3/page1.jpg"
        srcset="/static/a84e2d937fc60341661ef1066f2f838e/da4c7/page1.jpg 143w,
/static/a84e2d937fc60341661ef1066f2f838e/1d39e/page1.jpg 285w,
/static/a84e2d937fc60341661ef1066f2f838e/6fbc3/page1.jpg 570w,
/static/a84e2d937fc60341661ef1066f2f838e/9d77e/page1.jpg 855w,
/static/a84e2d937fc60341661ef1066f2f838e/e356a/page1.jpg 1140w,
/static/a84e2d937fc60341661ef1066f2f838e/4208b/page1.jpg 1710w,
/static/a84e2d937fc60341661ef1066f2f838e/0cf58/page1.jpg 2048w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
  </span>
  </a>
<a
    class="gatsby-resp-image-link"
    href="/static/9cbe611fd78dc6684980f96b90447a9c/0cf58/page2.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 74.90234375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaXiWH0OP//EABoQAAICAwAAAAAAAAAAAAAAAAECAAMEESL/2gAIAQEAAQUCrgPTKrFTC2icmsT/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAEAAgMAAAAAAAAAAAAAAAAAASEQMqH/2gAIAQEABj8CSuMW24//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMZH/2gAIAQEAAT8haMwCio+GgvdMGUr0f//aAAwDAQACAAMAAAAQZx//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBX/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EABsQAQADAAMBAAAAAAAAAAAAAAEAESFRYZHR/9oACAEBAAE/EGEXL8JVY7IAMBpJWYXdVnGOVYcfCf/Z'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Page 2"
        title=""
        src="/static/9cbe611fd78dc6684980f96b90447a9c/6fbc3/page2.jpg"
        srcset="/static/9cbe611fd78dc6684980f96b90447a9c/da4c7/page2.jpg 143w,
/static/9cbe611fd78dc6684980f96b90447a9c/1d39e/page2.jpg 285w,
/static/9cbe611fd78dc6684980f96b90447a9c/6fbc3/page2.jpg 570w,
/static/9cbe611fd78dc6684980f96b90447a9c/9d77e/page2.jpg 855w,
/static/9cbe611fd78dc6684980f96b90447a9c/e356a/page2.jpg 1140w,
/static/9cbe611fd78dc6684980f96b90447a9c/4208b/page2.jpg 1710w,
/static/9cbe611fd78dc6684980f96b90447a9c/0cf58/page2.jpg 2048w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
  </span>
  </a>
<a
    class="gatsby-resp-image-link"
    href="/static/cb1d42855dc02f90a8197db101881b61/6964c/page3.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB2uJxcDQf/8QAGhABAAMBAQEAAAAAAAAAAAAAAgEDEgATIf/aAAgBAQABBQKkmDgatpOio6X99T3/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAERISICcZH/2gAIAQEABj8CVIeePhmuhQxwy2f/xAAbEAACAwEBAQAAAAAAAAAAAAAAAREhMXFBYf/aAAgBAQABPyGBVSpw+jW6DqtEsYhiFCfQg6nD/9oADAMBAAIAAwAAABDn/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/EB//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QZH//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMWFxkdH/2gAIAQEAAT8QfXAShd3WDluRFrfUUCDdEu3Y5NAA2PFeIKqqDR5lGFTt8n//2Q=='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Page 3"
        title=""
        src="/static/cb1d42855dc02f90a8197db101881b61/6fbc3/page3.jpg"
        srcset="/static/cb1d42855dc02f90a8197db101881b61/da4c7/page3.jpg 143w,
/static/cb1d42855dc02f90a8197db101881b61/1d39e/page3.jpg 285w,
/static/cb1d42855dc02f90a8197db101881b61/6fbc3/page3.jpg 570w,
/static/cb1d42855dc02f90a8197db101881b61/9d77e/page3.jpg 855w,
/static/cb1d42855dc02f90a8197db101881b61/6964c/page3.jpg 1024w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
  </span>
  </a>
<a
    class="gatsby-resp-image-link"
    href="/static/273d364db3287a8954088f89815e0c9c/6964c/page4.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAFaWiLvRX//xAAZEAADAQEBAAAAAAAAAAAAAAABAgMAESH/2gAIAQEAAQUClKeSMs8QrLVcHPQfP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgMAAwAAAAAAAAAAAAAAAAECITEREiL/2gAIAQEABj8CXMFZJdFp5w0bhdlqz//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExYXHR/9oACAEBAAE/IUli60nPelK1l6XCvxKqbfUZPsn/2gAMAwEAAgADAAAAECjf/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8Qhhf/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QRk7f/8QAHBABAQADAQADAAAAAAAAAAAAAREAIUExUYGR/9oACAEBAAE/EOAAqQXR+YhYgqioX59xmaABLPvC9JJN+ecxg0UC7D3ePZEaaY5//9k='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Page 4"
        title=""
        src="/static/273d364db3287a8954088f89815e0c9c/6fbc3/page4.jpg"
        srcset="/static/273d364db3287a8954088f89815e0c9c/da4c7/page4.jpg 143w,
/static/273d364db3287a8954088f89815e0c9c/1d39e/page4.jpg 285w,
/static/273d364db3287a8954088f89815e0c9c/6fbc3/page4.jpg 570w,
/static/273d364db3287a8954088f89815e0c9c/9d77e/page4.jpg 855w,
/static/273d364db3287a8954088f89815e0c9c/6964c/page4.jpg 1024w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
  </span>
  </a></p>
<p>In addition to the eye candy, Andrews mostly avoids giving readers rules, but instead dives deep into the whys of data storytelling.  Things I was left thinking about:</p>
<ol>
<li>The way I think about bars vs columns differently based on my different assumptions about distance vs stacks of items</li>
<li>How the plethora of data available in the world today has a cost: our attention.  That has left me thinking both about designing interfaces that manage attention, but also how to reclaim my own distracted attention.</li>
<li>The difference between data and information, and how each can be useful.  How in the product I work on we can help users get access to enough raw data to explore on their own, but also give them meaningful “information” derived from that data.</li>
<li>I was motivated to get better at drawing, and explaining things with images in my day to day work.  I don’t do this enough.</li>
</ol>
<p>If all of that sounds too high level and impractical for you, this is probably not the book for you.  But anyone who is already a data viz geek will find something to love, and as somebody who is tangential to the field it certainly expanded my mind and gave me a lot to think about.  All in all, this one is easy to recommend. <a href="https://amzn.to/2Ww9BBl">Check it out!</a></p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Designing Front End Apps For Performance]]></title>
        <id>https://benmccormick.org/2019/01/28/designing-for-perf</id>
        <link href="https://benmccormick.org/2019/01/28/designing-for-perf">
        </link>
        <updated>2019-01-28T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>Performance is a tricky topic to give generalized advice about.  Moreso than any of the other <a href="https://benmccormick.org/2019/01/07/the-concerns-of-fe-architecture/">front end concerns</a> I discussed in my post at the beginning of the year, it is remarkably tied into the details of what an app is doing and how it is built.  That said, here are some general principles for designing performant applications that I’ve picked up over the years:</p>
<h4>1. Measure First</h4>
<p>One of the most tempting things with performance is to start making changes before you have a specific slow measurement to improve.  Maybe you’re writing your code up front with a major focus on performance because you know you’ll need it, or diving in to make changes the first time a user complains about slowness.  Regardless it can be tempting to “performance tune” before you get detailed performance measurements.</p>
<p>This is problematic for 2 reasons: First, we often don’t know what good enough system performance is until users start using the system.  Secondly, programmers’ data-free intuitions on what parts of a system will be slow tend to be universally awful.</p>
<p>Measuring different aspects of your system first provides several benefits:</p>
<ol>
<li>It gives you micro-benchmarks to improve upon, rather than waiting till “it feels good”</li>
<li>It lets you determine which parts of the system are actually slow, so you can focus on bottlenecks</li>
<li>It may help you justify performance focused work to project stakeholders.</li>
<li>It will allow you to test for regressions later on</li>
<li>It may reveal that the system performance is actually adequate in most situations, and help you narrow down edge cases to optimize or restrict</li>
</ol>
<p>Note that this advice encompasses two often quoted pieces of advice: Donald Knuth’s “Premature optimization is the root of all evil” and Kent Beck’s “Make it work, make it right, make it fast”.  When you only optimize based off of measurements, those things are going to naturally fall into place.</p>
<p>So what should you measure? On the front end Google’s <a href="https://developers.google.com/web/fundamentals/performance/rail">RAIL model</a> is a good place to start.  For loading you can look at benchmarks like first paint, first meaningful paint, and Time To Interactive (TTI) as useful benchmarks. They also provide similar guidance for input responsiveness and animation. Google is a bit preachy about specific perf benchmarks to my mind, but their analysis of <em>what</em> to measure is fantastic.</p>
<p>It’s also useful to be able to communicate to backend developers when slowness comes from backend requests, so it’s good to familiarize yourself with the network panel in your favorite browser’s developer tools.  That will let you see how long different requests are taking and help evaluate when a performance problem is actually a network problem.</p>
<h4>2. Assume the network is slow</h4>
<p>Related to the end of the last point, one of the defining attributes of front end development is that it always involves a network.  You can think of network requests as a giant chaos machine at the heart of your web application.  Network requests will fail, they will be slow… and they’ll almost always look better to you in local development than they will be to your users, assuming like many developers that you’re operating on reasonably good hardware and decent wifi.</p>
<p>So the network can be a bit of a performance trap for devs.  While I still advocate measuring first, with the network it’s worth assuming that your local setup is not a good proxy for the user and either finding ways to do better tests or simply expecting that the user will have a slower or flakier connection and designing for that.  Firefox and Chrome are very helpful here, as they will allow you to simulate slower connections from within their network panel, allowing you to experience your app the way your users do.  This is especially important if you’re targeting mobile users.</p>
<h4>3. You can do things more efficiently or you can do less</h4>
<p>This is ultimately the heart of performance.  When an operation is slow, it is ultimately because your user’s computer is performing too many operations to fit them all into the time you want them to.  To speed things up, you either have to reduce the number of operations by making your code more efficient, or by removing some work completely.  When people talk about compiled languages being faster than non-compiled languages, this is usually what they mean: compilers are very proficient at optimizing code for efficiency and removing wasted operations.</p>
<p>On the front end there are several major areas of potential waste: we can send too many things over the network, we can cause the browser to repaint or layout thrash unnecessarily, and we can block critical actions like responding to a users input with less critical actions like re-rendering an item offscreen.  Each of those could merit a series of articles on their own, but are great starting points when thinking about how to improve performance when no one component is obviously slow.</p>
<p>But it is worth remembering that sometime the only way out is doing less. Maybe you need to delay rendering some parts of the screen, or remove an expensive to render visualization. Maybe you should be using built in components instead of shipping a fancy UI component library.  I have no idea what your use case is, but it’s always worth thinking about what you can do less of.</p>
<h4>4. Perception matters more than reality</h4>
<p>Engineers like to deal with data and reality.  My first 3 points played right into that.  Now it’s time to go against the grain.  The truth is that users aren’t pulling up devtools to check and see if your site is slow.  It either feels slow to them or it doesn’t.  And the actual numbers are only part of that perception.  Here are some things that can make fast sites seem sluggish and slow sites seem broken:</p>
<ol>
<li>
<p><strong>Not showing a visual response to user interaction</strong></p>
<p>When a user clicks a button that triggers a network request, and the system does nothing till that request completes, it will lead to the user thinking the system is slow at best and broken at worst.</p>
</li>
<li>
<p><strong>Freezing the interface while waiting on a response to a previous interaction</strong></p>
<p>It’s always important to keep the screen interactive while waiting on a request, even if some options are disabled or limited.  The user should be able to access navigation and other standard elements of the interface as normal.  In a scenario where the request is saving data, it may be necessary to add prompts to check whether they want to interrupt the save however.</p>
</li>
<li>
<p><strong>Loading states without any movement or animation</strong></p>
<p>Sometimes people just want to know that you’re doing something.  Animation communicates that something is happening.  It can be a spinner, a flowing placeholder block, or a progress bar.  The important thing is to show the user “things are happening”.  Of course the more relevant your loading state is the better.  Facebook’s placeholder items in their newsfeed create an illusion of content coming in even faster since the loading state itself helps frame the screen for the user.  Much more effective than a loading spinner that serves to remind the user that they’re having to wait for something.</p>
</li>
</ol>
<h3>Performance Is All About Effort</h3>
<p>To quote <a href="https://hackernoon.com/10-things-i-learned-making-the-fastest-site-in-the-world-18a0e1cdf4a7">David Gilbertson’s great post on performance</a>:</p>
<blockquote>
<p>It’s really easy to make a slow site, all you have to do is not try to make a fast one.</p>
</blockquote>
<p>Performance comes down to caring, measuring and investing.  If you set reasonable benchmarks, and track them as you make changes, you’re likely to find ways to achieve them.  If you set unreasonable benchmarks and make the space to work at them, you’re likely to do better than anyone who isn’t trying that hard would expect.</p>
<p><strong>TL;DR</strong></p>
<ul>
<li><strong>Measure First</strong></li>
<li><strong>Assume The Network is Slow</strong></li>
<li><strong>You can do things more efficiently or you can do less</strong></li>
<li><strong>Perception > Reality</strong></li>
<li><strong>Performance is all about effort</strong></li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Improving Code Readability With Async/Await]]></title>
        <id>https://benmccormick.org/2019/01/28/readable-async</id>
        <link href="https://benmccormick.org/2019/01/28/readable-async">
        </link>
        <updated>2019-01-28T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>When it first became a part of JavaScript, I wasn’t sure how much I was going to use async-await.  I could see that it made things prettier in some cases, but I was pretty happy with my promise chains and thought that async-await might just be some extra language baggage.  Since then I’ve fully converted; it’s one of my favorite features added to the language in recent years.  The reason?  It helps you write code in a linear manner.</p>
<p>A principle of readable code:</p>
<blockquote>
<p>Code should where possible be written in the order in which a reader needs to understand it.1</p>
</blockquote>
<p>For complex classes, this ideally means that the “entry points” are towards the top, with the helper methods below to be read as needed<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>. But for “linear” code that reflects a workflow, we want the code to progress in chronological order as much as possible.  With imperative code that tends to happen by default.  But JavaScript’s asynchronous constructs have tended to obscure chronological orders.</p>
<p>As an example, here is a React component that displays the time remaining in a user session based off of some cookie values.  It checks a cookie on a regular interval to see whether it should display a warning about the session timeout.  Once it is showing the warning, it begins checking the cookie more frequently in order to show a timeout.  Once the session expires, it can stop checking.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token comment">// When time is less than this, we should show warning</span>
<span class="token keyword">const</span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span> <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// intervals in seconds to update timeout count</span>
<span class="token keyword">const</span> <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span> <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span> <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ShowSessionTime</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            timeRemaining<span class="token punctuation">:</span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

   <span class="token comment">/* Update the remaining time till session timeout */</span>
    <span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> currentTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> timeRemaining <span class="token operator">=</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">'serverExpiry'</span><span class="token punctuation">)</span> <span class="token operator">-</span> currentTime<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            timeRemaining<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> timeRemaining<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// while the modal is open, update every cycle but stop when the time remaining is 0</span>
        <span class="token keyword">const</span> <span class="token function-variable function">whileOpenCheck</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> timeRemaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeRemaining <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileOpenCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// while the modal is closed, update every cycle but switch to the open cycle when we reach the threshold</span>
        <span class="token keyword">const</span> <span class="token function-variable function">whileClosedCheck</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> timeRemaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeRemaining <span class="token operator">></span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileClosedCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileOpenCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// kick off our timeout loop</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileClosedCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>timeRemaining<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">let</span> showWarning <span class="token operator">=</span> timeRemaining <span class="token operator">></span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> showWarning <span class="token operator">?</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Time Remaining In Session<span class="token punctuation">:</span> <span class="token punctuation">{</span>timeRemaining<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
      </div>
<p>The <code class="language-text">componentDidMount</code> method is the interesting part here.  Notice how the setTimeout based flow has resulted in the flow being reversed?</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript">    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// THIS PART HAPPENS LAST IF AT ALL</span>
        <span class="token keyword">const</span> <span class="token function-variable function">whileOpenCheck</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> timeRemaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeRemaining <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileOpenCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// THIS IS THE FIRST RECURSIVE LOOP</span>
        <span class="token keyword">const</span> <span class="token function-variable function">whileClosedCheck</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> timeRemaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeRemaining <span class="token operator">></span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileClosedCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileOpenCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// THIS IS THE ENTRY POINT</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>whileClosedCheck<span class="token punctuation">,</span> <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
      </div>
<p>The code is super hard to follow because its defined all out of order.  You have to understand the whole thing before you can wrap your mind around any piece of it, and your eye is going to be wandering back and forth.  Compare that to this reimplementation with async/await:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript">    <span class="token keyword">async</span> <span class="token function">checkRemainingAtIntervals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkRemainingAtIntervals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
      </div>
<p>We’ve pulled the logic out into a separate async function and suddenly everything is so much simpler: we’re just using basic loops, with each loop condition updating the remaining time and then checking to see if we should keep looping.  Sleep in this case is just a <a href="https://benmccormick.org/2015/12/30/es6-patterns-converting-callbacks-to-promises">promisified</a> setTimeout:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> millisecs <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>res <span class="token operator">=></span> <span class="token function">delay</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> millisecs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>In fact this version is so much simpler that when I originally wrote the code that this post is based on, I immediately saw a bug that I had missed in the complex version: the time remaining in a session can go up as well as down.  If a user makes a request after I show the warning, the interval will go up and we should re-hide the warning.  But my first few takes both ignored that complexity.  Fortunately it’s easy enough to add:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript">    <span class="token keyword">async</span> <span class="token function">checkRemainingAtIntervals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> remaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// keep checking until the session expires</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>remaining <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> warningIsShowing <span class="token operator">=</span> remaining <span class="token operator">></span> <span class="token constant">MAX_TIME_TO_HIDE_WARNING</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> interval <span class="token operator">=</span>  warningIsShowing <span class="token operator">?</span>
                <span class="token constant">CHECK_INTERVAL_WHEN_HIDING</span> <span class="token punctuation">:</span>
                <span class="token constant">CHECK_INTERVAL_WHEN_SHOWING</span><span class="token punctuation">;</span>
            <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
            remaining <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre>
      </div>
<p>We’ve actually gotten even simpler here, with a single loop that runs until the session
expires.  Each time the loop runs, it checks to see whether it should wait for a long or short interval before updating the remaining time again.  Everything happens in ~8 highly readable lines that will be easy to follow for anyone who has used a while loop.</p>
<p>Compared to our original version we have</p>
<ol>
<li>Cut out several “intermediary variables” that were mostly managing complexity around async, but weren’t part of the core problem</li>
<li>Matched the visual flow to the workflow</li>
<li>Simplified enough to catch a bug that I missed originally</li>
</ol>
<p>I’m going to continue to use async-await as the basis for most of my asynchronous code going forward for benefits like this.  If you’ve been holding out, browser support has gotten very good and this is a great time to jump in.</p>
<p><strong>TL;DR</strong></p>
<ul>
<li><strong>Async Await can help readability by matching code structure to the program workflow</strong></li>
<li><strong>Code that is structured more naturally can be easier to debug and see errors in</strong></li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>React’s convention of putting render at the bottom of class components has always annoyed me as a result of this.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Designing Front End Apps For Reliability]]></title>
        <id>https://benmccormick.org/2019/01/21/designing-for-reliability</id>
        <link href="https://benmccormick.org/2019/01/21/designing-for-reliability">
        </link>
        <updated>2019-01-21T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>In my recent <a href="https://benmccormick.org/2019/01/07/the-concerns-of-fe-architecture/">post on Front End Architecture</a> I identified <em>Reliability</em> as a key concern of front end architecture.  I define reliability as follows:</p>
<blockquote>
<p>An application’s ability to provide a consistent functional experience to all users in the intended audience over time.</p>
</blockquote>
<p>Let’s break that down a bit:</p>
<p><strong>Consistent</strong> - Reliable applications function the same way over time or degrade gracefully, even on days with heavy load, leap years, and weekends.</p>
<p><strong>Functional</strong> - Reliable applications allow the users to do the things they need to do, and are forgiving when a user attempts actions that weren’t part of an ideal use case.</p>
<p><strong>All Users In The Intended Audience</strong> - Reliable applications work for users with strange data who live in different locales, and those with bad network connections and old browsers, at least within the limits of what what the business intends to support.  There is some overlap here with the concept of <strong>accessibility</strong>.</p>
<p><strong>Over Time</strong> - In the real world, no application is ever completely reliable.  Things break down, there are bugs, and new edge cases are discovered.  What we can aspire to though, is an application where things that are working consistently stay working consistently, and as bugs, regressions and edge cases are discovered they get fixed in permanent ways.</p>
<h3>Things Break Down</h3>
<p>So why are applications often unreliable?  There are a fairly predictable set of issues that most applications run into that degrade reliability.</p>
<h4>Unexpected Usage Patterns</h4>
<p>Users are agents of chaos and the real world is stranger than expected.  Your sample database and QA testing doesn’t come close to giving you a true idea of how your application will be used.</p>
<h4>External Failures</h4>
<p>Google never has bugs right?  Good luck with that.  Even if the rest of the world always wrote perfect software, front end code usually has to deal with the network, even when your user is on a plane, accessing your site over 2G in the mountains, or just dealing with crappy coffeeshop wifi.</p>
<h4>Bugs</h4>
<p>Bugs happen.  When they happen consistently and repeat themselves, you have a reliability problem.</p>
<h4>Scaling Problems</h4>
<p>Some things work great on small data sets or with a few users but break down when things get popular.  This isn’t just a backend issue.  Data scales as well as people, and your program needs to be robust to slower backend responses when under load.</p>
<h3>Keeping Things Running</h3>
<p>I’d like to offer some practical strategies for overcoming the challenges I’ve listed.  These are things you can consider during code reviews and when setting up your dev processes.</p>
<h4>1. Consider all states, and limit them if you can</h4>
<p>One of the big leaps in JavaScript based UI development over the past decade has been moving from systems that we modeled as an initial UI state followed by a series of mutations (server generated HTML + jQuery) to systems that were modeled as partially driven with event systems that caused mutations to the UI (Backbone, Angular 1, Knockout), to systems that model the UI as a function of state (React, Vue, Angular2+, Modern Ember) State-driven systems tend to be more robust, because it is often more clear when a particular state might cause a problem, and it is more obvious when a problematic state occurs for a user how it happened.</p>
<p>Visibility into state is a huge step forward.  The next step is to define the possible states.  You can do this in your head, but it’s much easier when using types or by thinking in terms of <a href="https://benmccormick.org/2018/05/14/mobx-state-machines-and-flags/">state machines</a>.  If you can map out different portions of your applications into a limited set of states and define behavior for each of them, reliability will be much easier to achieve.</p>
<p>The final step is to limit these states where possible.  Some interfaces depend on user input or external data enough that they naturally are effectively “infinite state machines”, but when you can limit states by cutting scope, rearranging components or cordoning “infinite state machines” off into a smaller area of your application, you gain a lot of benefits.</p>
<h4>2. Don’t trust the network</h4>
<p>This one is straightforward, and easy to check in code reviews.  Don’t assume that anything over a network will return quickly.  Don’t assume it will return correctly.  And in fact, don’t assume it will return at all.  You may be limited in how you can handle these possibilities, but the baseline competence here is handling them.  Have strategies for loading states, timeouts, error handling and bad formats.  Things like service workers can help here, but also make the problems around the network even more complicated by introducing a new caching layer.  When you start making calls over a network, you’re entering the realm of distributed systems and things get tricky fast.  But the least you can do is recognize the complexity and make a plan for it.</p>
<h4>3. Consider variations in data</h4>
<p>Do you have a test data set that you develop against?  Is that your primary source of validation before you send code off into the wild?  Some of that may be unavoidable and out of your control, but remember that users are agents of chaos.  You will encounter data you didn’t expect, so plan ahead for challenges.  How would your data visualization function if the dataset you ended up displaying was 2x the size of your test database?  10x? 1000x?  What if the list of products to display in your table contained product names 200 characters long?  Or if some of them were empty?  The real world is strange and you should be ready.</p>
<h4>4. You should have testing</h4>
<p>This is another topic that’s too big to cover fully here, but basically there’s a reason that QA engineers have jobs.  You should have a plan for testing.  That plan will be better if it contains meaningful amounts of automated regression testing, with a clear process for making sure bugs are tested automatically once they’ve been discovered and fixed.  If you don’t know where to start, always focus on testing the most important things well over testing everything mediocrely. And if you’re not in a position to do meaningful automated testing, consider what it will take to get there.</p>
<h4>5. Monitoring</h4>
<p>Finally, sometimes it’s just not possible to catch problems before they ship.  But you can still catch them before too many of your customers do if you put in the work.  I’ll be honest, I’ve never had a monitoring setup that I’ve been happy with at work, but on the front end good monitoring can mean sending console logs over the network so that they’re shared with whatever backend logging solution you’re using, tracking feature usage through analytics to look for any large problems or lack of usage that may indicate bugs, and even more advanced stuff like session recording in some cases.</p>
<p><strong>TL;DR</strong></p>
<ul>
<li><strong>Reliability is an application’s ability to provide a consistent functional experience to all users in the intended audience over time.</strong></li>
<li><strong>Reliability breaks down due to unexpected usage, external failures, bugs, and scaling problems</strong></li>
<li><strong>You can boost reliability by defining and limiting application states, distrusting the network, thinking about variation in data, testing and monitoring</strong></li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[6 Keys To Valuable Code Reviews]]></title>
        <id>https://benmccormick.org/2019/01/14/value-from-code-reviews</id>
        <link href="https://benmccormick.org/2019/01/14/value-from-code-reviews">
        </link>
        <updated>2019-01-14T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>I’ve read 2 things lately that really reminded me of the value of code reviews.  One was <a href="https://amzn.to/2Elk5g8">A Philosophy Of Software Design</a> by John Ousterhout, which I reviewed <a href="https://benmccormick.org/2018/12/31/book-review-philosophy-of-software-design/">here</a>.  Philosophy of Software Design is a practical guide to software design, and Ousterhout emphasizes code reviews as the best point for “practicing architecture” in real world projects.  The 2nd was Sophie Alpert’s recent blog post <a href="https://sophiebits.com/2018/12/25/why-review-code.html">Why Review Code</a>, where she lists the various advantages she’s seen from having code reviews.  I can’t improve on her list, but I can endorse it.  I’ve seen all of the things she listed as benefits from code reviews in the past.  However I’ve seen these benefits come out in some environments more than others.  So I wanted to share 6 practical tips to getting the most valuable possible out of your team’s code reviews.</p>
<h4>1. Make sure that code reviews are multi-directional</h4>
<p>When you start doing code reviews, it can be tempting to only have senior developers review code.  After all, they’re the ones who know the system best. But not only do you risk burning out your senior staff that way, you also miss out on some of the biggest benefits of code reviews.  You get different benefits with different team combinations.  I’m using Junior and Senior here relatively speaking, the roles may change over time or in different areas of the codebase.</p>
<ul>
<li><strong>Senior Reviewing Junior</strong> - This is the first thing most folks think about.  This is an opportunity for a more experienced developer to catch bugs in a less experienced developer’s code and also give suggestions for improving architecture-level structure, introducing new ways of doing things, or catching when there are opportunities for code consolidation that the original author might not have known about.</li>
<li><strong>Junior Reviewing Senior</strong> - When a less experienced developer reviews the code of a more experienced developer, its an opportunity for them to see new ways of doing things, and also get “cheap” exposure to new areas of a codebase.  It’s also a great opportunity for them to ask questions about things they don’t understand.  But it shouldn’t be a one way street.  Often times a fresh pair of eyes are great at catching bugs, and if a code review is particularly confusing to a less experienced dev, it’s a sign that the code may need to be rewritten or better documented so that it can be maintained in the future.</li>
<li><strong>Peer Reviewing Peer</strong> - When 2 developers have roughly equal skill and experience with the codebase, code reviews are still an opportunity for a second pair of eyes, but they also have the benefits of building team collective knowledge about the codebase and exposing times when there are differences in approach across the team.  Conversations at this level are a great place to standardize on best practices and team conventions.</li>
</ul>
<h4>2. Hold reviewers responsible for the code they review</h4>
<p>If a bug makes it past initial development efforts and is caught by QA or ends up in production, who is responsible for it?  Although there will ideally always be layers of accountability here, most developers I know naturally tend to hold themselves responsible when code they wrote breaks something, but also apply the same standard to others.  This can lead to rubber-stamp code reviews when things get busy, since there’s no “skin in the game”.  The benefits of code review tend to come out though, when developers take that same responsibility for the code they review.  A team culture that sees the reviewer and the developer as equally responsible for maintainable code, bug-smashing, and other architecture concerns will lead to better code reviews.  This means treating code review as a core job responsibilities for devs and rewarding those who do it well, rather than just tacking it on.</p>
<h4>3. Match technology to your process</h4>
<p>The teams I’ve worked on that didn’t have real code review processes also didn’t have an easy setup to make it work.  They were reviewing diffs manually in their editors or over email.  Tools like Github, Bitbucket and Gitlab have made this much easier.  If you want this to be part of your process, make it as easy as possible.</p>
<h4>4. Use checklists where appropriate</h4>
<p>In moderation, I’ve found checklists a useful tool for code reviews.  If your team has specific areas of focus that you want to improve compliance on, it can be helpful to give reviewers a list of items to sign off on.  For instance:</p>
<ul>
<li>Verify change supports internationalization</li>
<li>Verify change doesn’t add any new code with legacy framework</li>
<li>If change is user-facing, verify it includes documentation updates</li>
</ul>
<p>You can take this too far, the review process shouldn’t be reduced to repetitive box-ticking.  But these can be great as guides for implementing new initiatives or addressing problem areas in code.</p>
<h4>5. Make code reviews as atomic as possible</h4>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">10 lines of code = 10 issues.<br><br>500 lines of code = &quot;looks fine.&quot;<br><br>Code reviews.</p>&mdash; I Am Devloper (@iamdevloper) <a href="https://twitter.com/iamdevloper/status/397664295875805184?ref_src=twsrc%5Etfw">November 5, 2013</a></blockquote>
<p>Huge code reviews are overwhelming, and much easier to rubber stamp.  When you develop a culture of creating small focused issues and reviewing each of them, it leads to more interaction and better results. Single issue (atomic) code reviews are best.  As a rule of thumb, if you can describe the change without using the words “and”, “rewrite”, or “a couple of different”, you’re probably doing alright.</p>
<h4>6. Leave space to make changes</h4>
<p>Finally, code reviews will have the most value if as a team you’re committed to acting on the feedback received.  That means being supportive when a code review leads to a re-write or refactor.  Sometimes that will need to be delayed of course, but in a healthy process there should usually be time to act on feedback.  This is of course easier if you’ve followed the previous suggestion and kept your code reviews small.</p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[What's involved in Front End Architecture?]]></title>
        <id>https://benmccormick.org/2019/01/07/the-concerns-of-fe-architecture/</id>
        <link href="https://benmccormick.org/2019/01/07/the-concerns-of-fe-architecture/">
        </link>
        <updated>2019-01-07T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>The word “architecture” gets thrown around a lot in software discussions.  But we don’t seem to always use it the same way.  Some example usages:</p>
<blockquote>
<p>Our app uses Redux for our architecture.</p>
</blockquote>
<p>Sometimes we assume that because we are using a framework or data management library, that must be our architecture.</p>
<blockquote>
<p>I created a diagram of our dependency graph, showing all the imports in the code, as a way of seeing our architecture.</p>
</blockquote>
<p>We could also say the way your program is structured (which files depend on which other files) represents your architecture.  If we’re fancy, then maybe we have <a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language">UML diagrams</a> representing this structure.</p>
<blockquote>
<p> Bob is our architecture guy: he decides what dependencies we can bring in, is always asking us to refactor code to make it “cleaner”, and runs a design meeting before each feature to decide how to structure the code</p>
</blockquote>
<p>This final quote sounds like architecture is more about the decisions you’re making as you go through a project.</p>
<h3>Appealing to authority?</h3>
<p>So if the community isn’t using the term consistently, let’s ask the experts.  Here are 2 definitions from folks who have written popular books on software architecture.</p>
<p>Robert Martin (Uncle Bob) uses the following definition in <a href="https://amzn.to/2rROcEA">Clean Architecture</a>:</p>
<blockquote>
<p>The goal of software architecture is to minimize the human resources required to build and maintain the required system.</p>
</blockquote>
<p>Martin Fowler gave his definition in a talk titled <a href="https://www.youtube.com/watch?v=DngAZyWMGR0">Making Architecture Matter</a>. It is worth watching in full, but paraphrased, his definition is:</p>
<blockquote>
<p>Software architecture is those decisions which are both important and hard to change</p>
</blockquote>
<p>These 2 definitions turn out to be complementary.  Uncle Bob motivates architecture: we’re focused on minimizing the work put into the system.  Martin Fowler’s definition shows what parts of the system architecture is concerned with: the parts that are “important” and hard to change.</p>
<p>The next question of course is… what is important?  The unsatisfactory answer is that it depends.  It will change between projects, and will change within a project over time.  But when we scope the question to the domain of front end development, common themes emerge.  Specifically there are 6 areas of concern that I see coming up again and again in public and private front end architecture discussions.  They’re not exclusive to the front end, but they’re a good starting point for anyone thinking about building web applications.</p>
<h4>Ease of Change</h4>
<p>When new requirements arrive, how quickly are developers able to make changes and release new code to production?  When there are bugs, how easy is it to find the problem and fix it?  Are developers able to consistently deliver correct code?  Or are multiple iterations often required?</p>
<h4>Security</h4>
<p>Can a malicious user inject code into your site?  Are you unnecessarily exposing information about your users or code structure? And you are working with your API developers to use secure authentication and authorization practices right?</p>
<h4>Accessibility</h4>
<p>This concern is broader than the way the word is often used in web dev circles.  Is the full audience of this site or application able to use it with as few limitations as possible?  Users with disabilities?  Users with older but supported browsers?  How about international users or those with slow connections?  Does your site work on mobile?  Offline?  On Apple Watch?  Do you support AMP? And do your pages appear nicely on social media?  Do you even care about any of these audiences? Maybe you’re optimizing for people who aren’t your users?</p>
<h4>Reliability</h4>
<p>Is a site or  application consistently available to users?  Does it often fail, and if so how does it recover?  If things are breaking, are the developers aware of it quickly?  Do different users in different scenarios receive a consistent experience?</p>
<h4>Performance</h4>
<p>Is a site or application consistently quick to load and interact with?  If there are animations or highly interactive elements, are they responsive and usable, or do they freeze/jank? Is the user disrupted in their tasks by strange loading behavior?</p>
<h4>Capability</h4>
<p>Is your site limited in fulfilling its purpose because of foundational decisions or tradeoffs with the other concerns?  Have you made decisions that let you serve your audience in unique ways because of your tech stack or development processes?  Do your technical decisions even make sense in the context of your site or application’s purpose?</p>
<h3>Coming Soon</h3>
<p>I’m hoping to look at each of these areas more in depth in the coming weeks, as well as exploring how we make decisions that impact multiple areas simultaneously.  In the meantime, as you’re looking at decisions and tools that will impact the long term structure of your front end application, consider how they’ll impact each of these areas.</p>
<p><strong>TL;DR</strong></p>
<ul>
<li><strong>Architecture is about decisions that are important and hard to change, with a goal of improving the efficiency of a project</strong></li>
<li><strong>Front End architecture is often concerned with the areas of Ease of Change, Security, Accessibility, Reliability, Performance and Capability</strong></li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Book Review: Radical Candor]]></title>
        <id>https://benmccormick.org/2019/01/01/book-review-radical-candor</id>
        <link href="https://benmccormick.org/2019/01/01/book-review-radical-candor">
        </link>
        <updated>2019-01-01T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>Have you ever read a non-fiction book that you just couldn’t put down because you kept hitting paragraph after paragraph of useful, practical wisdom?  That was me reading <a href="https://amzn.to/2SABeXz">Radical Candor</a> by Kim Scott this summer.  It’s a ~200 page masterpiece on communication, leadership and being real at work.  The ideas in Radical Candor have already been a huge help to me as I’ve transitioned into a manager role over the past few months, and I fully expect to refer back to them a lot in the years to come.  It was the best thing I read in 2018, so I wanted to write a quick review to start the new year.</p>
<p>Radical Candor is split into 2 parts: part 1 is philosophical, and builds out a philosophy of working with and managing people that’s based on honest guidance and feedback backed by genuine care.  The second half of the book is tactical and focused on techniques that managers can use to implement the philosophical ideas.  Overall it is a book for managers, but is also relevant and useful for anyone who has a manager or who wants to work better with others in a professional setting.</p>
<div class="inline-img">
    <a class="gatsby-resp-image-link" href="/static/99fcbb54afd2343a252ea238c5f977e3/12735/candor-diagram.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-wrapper" style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 90.35211267605634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAADp0lEQVQ4yz1Uy3LiVhDVp2Uzm1kli1QWU9klm2xTlayTWbhSediu8Zixx/Py2GMbP7BhMDYPgzFPCYQASSAEQoCn8hknp68giy7V7dv39OnT3dIWiwCzxQSzeYD5YorZLMDicc5zCNM0MRi69IfqHM54P49ssZhF9hjSpksLoM0FcD5hsFiAkMG266DTtXB8eoH4+SX6jo1xMEYwnUQWLmOXJiTmihABFRgDpmEULGzqehPxi0sUSiWk0hnsHxzDJdMpkwUqdgkkIPTNyV6qUwwjMGanTaZj+BNfPfry7wJniSQq9Zo6j8Ye70Zk6qs4IRAKcBgBz1YM5WIFJI+GIw+eL98hnn79PTZe7ipwdziAx/sRQaOkEeh0GlU4WzLWgqn/f1ax0XiEgTekliFirz+gXK3ycUC/r3SUryRexSu2K1ABnBDMn3hothrUroZasw693ULAjm6/fs+SG7DsLhpGE4bZYsNssvRV4hWRYGnCWPOZzR3auMndIH2bRjxxiuvcLcbM+mLnLR4IWG3WcJlO8j6DtmUuWY4iTQm+MiGnCbsJy9ZbOssrI1csoFAuYcRLASxVqjB7lvLf3Rdh9brL0qOyZ+zu/DFU0/H4ZQZt4LlIZ245d101f1a/D8PqwPWH2NjeQ/6+DNsbwGFThv4ILpvVMHTF0Gi31Wjdle5RqdVRq9ehxXbf4asn32Ir9hbrm6/w50YMf6zHsLXzHj/89Ct+X9vE5vYb/PNiF+tbu9h58xHffPcjnq+twyGBV3x/8OkE7/YPET+7gNZlOVefqU3HhNntoNFqodJoos1NWft7C6lMFrrZwQN9VV1n4wx8OIijUCwrLa8+XyN1ncEJt6oqDKXkWqOCYrmoLE+d0rksgXXFLHVzS18JxcoD9XzgBBjUbgKfYLI9anOWKyiNUYCZbAZHp8c4PDnCYfwEex/3VWM2Xu7h6Owc+/QfJy7w6ewUiVQSLVbTo9aO6yrdB9TYo7bSdW0wdDhfOvJ3OWQLWdzkc0hm0orhX9Q0kUrhPHmJDP3XZJ69Kyh5ev0ebMeBM3DVVsl2jQXQdnro2RYDuuhyJCS7YbZhdNpsxA7y7GCHfgERXU1Og5jVk3d9ghLQi1bWZ+e1vmPB6rbR5ha0aHW9wa3RlXZPnj7DNrsozao06qhzXJotg+AdNWYC2rdtVbqs64gstZ7dUYCmAHYMBSZrJiv48y+/4Sqdpr+lfmnSEGHftiJAqUjKHsiMsmyZzf8AI9K97oDI4JEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
    <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;" alt="Radical Candor diagram" title="" src="/static/99fcbb54afd2343a252ea238c5f977e3/d766e/candor-diagram.png" srcset="/static/99fcbb54afd2343a252ea238c5f977e3/a6b6e/candor-diagram.png 143w,
/static/99fcbb54afd2343a252ea238c5f977e3/8e488/candor-diagram.png 285w,
/static/99fcbb54afd2343a252ea238c5f977e3/d766e/candor-diagram.png 570w,
/static/99fcbb54afd2343a252ea238c5f977e3/13239/candor-diagram.png 855w,
/static/99fcbb54afd2343a252ea238c5f977e3/cab6d/candor-diagram.png 1140w,
/static/99fcbb54afd2343a252ea238c5f977e3/71f14/candor-diagram.png 1710w,
/static/99fcbb54afd2343a252ea238c5f977e3/12735/candor-diagram.png 2840w" sizes="(max-width: 570px) 100vw, 570px">
  </span>
  </a>
</div>
<p>The heart of the book is the 2x2 grid diagram that Scott sprinkles throughout the chapters, showing the 4 quadrants that can characterize an interaction, relationship or communication style.  People who don’t care about those they work with and also don’t challenge them fall into manipulative insincerity and should be avoided at all costs.  The Steve Jobsian category of Obnoxious Aggression is when somebody is willing to challenge directly but doesn’t care about the people they’re challengin. To Scott’s mind, Obnoxious Aggression is preferred over Ruinous Empathy; when people who hate the idea of hurting somebody so much that they fail to tell them important truths.  But the target quadrant is Radical Candor, a state where you deal with people in a way that is backed by real humanity while still being willing to be exceptionally honest and challenging.</p>
<p>This core idea wasn’t super new to me, I had seen it formulated in Church contexts as <code class="language-text">Grace + Truth = Growth</code> in the past.  But Scott puts in the work to show how these ideas play out in a wide variety of professional situations and relationships, and her examples left me teeming with new ideas on how to interact better with my coworkers.  The theme is good, but the implementation ideas and little nuggets of wisdom and experience sprinkled throughout are better.  As a result, Radical Candor is one of the best books on relationship and communication I have ever read.</p>
<p>I would recommend it for anyone who</p>
<ol>
<li>Manages people</li>
<li>Wants to manage people</li>
<li>Has a manager</li>
<li>Has to deal with people</li>
</ol>
<p>Do yourself a favor and check it out.</p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Book Review: A Philosophy of Software Design]]></title>
        <id>https://benmccormick.org/2018/12/31/book-review-philosophy-of-software-design/</id>
        <link href="https://benmccormick.org/2018/12/31/book-review-philosophy-of-software-design/">
        </link>
        <updated>2018-12-31T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>A lot of the software books out there these days are marching towards their expiration dates the day they’re written.  When I see titles like “Angular 2 Development”, “Learning JavaScript with React”, “Writing Native Apps with Ionic 2 and Lodash 4” I know that the book will soon have out of date code examples and will not contain the latest ways a community is using the libraries they’re discussing.  There is value in these types of books and they often represent a monumental amount of thought and time from their authors, but 5 years from now they will no longer be relevant.  I love reading books that I know will last.</p>
<p><a href="https://amzn.to/2Rpu6zX">A Philosophy Of Software Design</a> by <a href="https://en.wikipedia.org/wiki/John_Ousterhout">John Ousterhout</a> is a book that will last.  It’s full of timeless software writing advice that isn’t tied to a particular language, library or point of time.  Although not formally organized this way, it seems to be divided into ~4 parts: 2 chapters on the idea of complexity, a concept which Ousterhout uses as the unifying theme of the book, 8 chapters on what I’d describe as the structural design of software systems, 7 chapters on more “code level concerns” like naming conventions, comments and making code obvious, and then a final 2 chapters that feel a bit more like appendixes which discuss some common software trends and designing for performance.</p>
<p>The best part of the book is those first few chapters where Ousterhout eloquently describes the problems that complexity can cause in a software project and lays out the distinction between a tactical and strategic approach to coding.  This is the heart of the titular <strong>philosophy</strong> of Software Design: the idea that software engineering is ultimately a fight against complexity.  It’s a strong vision clearly articulated.</p>
<p>The “structural” sections of the book are all sound in an opinionated way.  The book makes an argument for larger implementations hidden behind smaller abstractions, which Ousterhout calls “deep modules”, and much of the structural section is through that lens.  This isn’t as open-minded as architecture advice I’ve seen elsewhere, but the benefit is that it’s prescriptiveness makes it much easier to use as a guide or code review tool than more situational or caveated advice.  That practical aspect is clearly a goal of the book, and the approach therefore makes sense.</p>
<p>After chapter 11, the book takes a sudden detour from higher level concepts into much more concrete realms.  There is an extensive treatment of commenting style, naming conventions and other ways to make code readable and obvious.  There is a coherent through-line of building maintainable systems throughout, but the transition felt strange.  The content is still good though.</p>
<p>The book ends on a chapter addressing modern software trends through the lens of the concepts considered in the book, which felt like a good place to wrap up, and then a chapter on designing for performance.  Given the books focus on complexity and the size of the performance topic, this chapter is content to argue that simple designs are friendly to performance, without trying to unpack many performance related topics.  It felt a bit tacked on to me, but it makes sense as a piece of objection handling for those who feel that they can’t simplify their architecture for performance reasons.</p>
<p><em>A Philosophy of Software Design</em> is going to be my new go to recommendation for developers who are able to write code that runs but want to start thinking about how to write better code.  It doesn’t have the depth of something like <a href="https://benmccormick.org/2018/02/14/book-review-clean-architecture/">Clean Architecture</a>, but it is extremely readable and approachable, and I’ve never seen an architecture-level book that was so focused on actionable advice.  If you take the advice in the first chapter and consult the book during code reviews, every chapter in the book has something to consider when looking at a piece of non-trivial code.  That makes it a perfect introduction to higher-level software design thinking.  If you think that would be a fit for you, <a href="https://amzn.to/2Rpu6zX">go ahead and check it out</a>.</p>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[New Newsletter and The 2018 Roundup]]></title>
        <id>https://benmccormick.org/2018/12/22/2018-roundup</id>
        <link href="https://benmccormick.org/2018/12/22/2018-roundup">
        </link>
        <updated>2018-12-22T00:00:00Z</updated>
        <content type="html"><![CDATA[<p>2018 was the 5th full year of this blog, and I chose to experiment a bit.  For the first 9 months of the year, I posted a Weekly Links post every week, and also published 24 normal articles, before taking a break the last 3 months to deal with some changes in work and home life.  My employer went through an acquisition this year and I started working with a new team. Then Claire and I welcomed our first daughter, Elena, to the world earlier this month.  It’s been a busy but rewarding year.</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/fe510b6a1de4cfb4ef847faf534c9811/b1526/family-pic.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 570px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7ABoaDRgWDjcwIrqZa7ONXKaFW7SXcufGmdardtWpd8+ldMieb72VZrKMX6yHW6V9UredftTTx9PQxOXm3QAgHxcbGBAsJhq1mGy4kmKkhl2pkG/pzKTarnzYrn3Tq3zOpnjCm262kGOwil+ogla9ponV1MzS0cbl5+AAJiIYHhsTJCAXrZJrroxgnH1lpId5zrKW2bCA2LCD1bCD0Kx/xqF1upVqtI9krIZdwK2T1dXN0tLH5+jiAEpBMzMsIiUhGKKKZ5J3V8+ejv/GuNKpncemfuO9j9m0itKvhselfbuZcLaVbq6LZcKynNPWztLRx+fp4gBdUUE/NysrJBuQfV+igmKwgnDPk4O9i36sj3SqkHHIqofTsozFp4K7m3a3mXWwkG/FuKXV18/U1Mra3NMAZFRAUkUzKSEXemxVxJ98zpuG05KJypKGkm5gvpOGs5WBwaeGwaeGt517tJt6rpR1xryt19jT0s/Gz8u/AF1KNl9NOCofFGpfR7KXeZR6cb6TiKGCeWREN+uunsyZjLaafcyzkbOdfrGbfq2WfMjAtNfY1dPPxdPPxAAqIRc7Lx8fGA5sWlqegI9xVWZ7X1xwWE9AJx3FiXzdoJKSeGOYina8poewnYKum4TJxbvX2NTX1czf4NsABQUEEQ4LeGBxqIqpoIGgi2uBdFJcXT9ALxsQg1xMzJN+XEc6EBUekYNzuaeOr6CLx8fC09XT2NfP4OLeAAAAAE8/SqaFoJt+lqCAmqeIpJd3kHdaZVA7K0YzJ49kS2dOPRUbI6OMiM2snKugjcHExMzP0tjZ1N/j4QA7NzmPcIOYepGae5SggJqigZygfpuUdYdZSD4aGR0+MzI5MzQeICe/ioXao561qZm4w8nDztfV2drh6+4AjX6Ak3SIlHOJmXmRellqkm+GqYilm3qUNicyCA0YFRklChMgWUNQgkBds3KFwaugl5KcoWt5o1pkoH+AAGVPUZNyhpd4jodoelEzOHpYYpVxhpt5kko4QwUHDhQZJB0VJWolRGsgQ21DVopPVHEkL4IjNGAlLFEsKgB9bG2PbX+JaXp3WGZqT1mFZ3eKaHmFZHxeUFoHCQsMEh4kHS1OHjgpGiwpGilZIC5PKCiSKzuPMD2GLTgAjHp7imd5kHGEaVBfXUFOgF9xim2Di26MYlJZRE1fDA4aBwoTCA4YJygoYSkwcCEyTBofrC1ARiEnqzFFAJJ+gIlnen5idldCUWBGV4Vmf5Fuh35heENFW0JehSU4Uh8wRyk4Tzc+UBYdNSMjPTAcL2ouPUsmKo8lNACLd3mSc4qKcIpuWnNzYn9gWHVTUnE2P10WMVcoS3g8YI5Lb6BSdqVjjsRMcqEiQmkuUHpRU3eWNEmRLzwAh31ulHKEnX6adGSCNlB1R3CdS3WlRWyZM1R9LU14Iz5lHjdYLkhrPVl/WnyoNVN6Q2OMMVF1VkZUTVI/AIWBZIxwdph1jqCJqUpZfztbgUxtlVZ8qF6HtGCKvGSOwztagRIiOCxBYENegytDYy1EYRw0UFpIVW9YTgCDfmFoXFF0ZXesiKR9bYMlPFc9V3ZAXYBHZ41Pc55lj8J6qeEpO1QbLUQ6VHg1TnEmOlcaL0hBPEx8W08WcSkrymMeAgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="Christmas picture with Claire, Elena and myself"
        title=""
        src="/static/fe510b6a1de4cfb4ef847faf534c9811/d766e/family-pic.png"
        srcset="/static/fe510b6a1de4cfb4ef847faf534c9811/a6b6e/family-pic.png 143w,
/static/fe510b6a1de4cfb4ef847faf534c9811/8e488/family-pic.png 285w,
/static/fe510b6a1de4cfb4ef847faf534c9811/d766e/family-pic.png 570w,
/static/fe510b6a1de4cfb4ef847faf534c9811/b1526/family-pic.png 640w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
  </span>
  </a></p>
<p>I’m excited to get back to the blog in 2019, and take what I’ve learned the last few years and make some improvements I’ve been considering for a while.  The biggest one is shifting to a newsletter format for initially publishing my posts.</p>
<h2>Newsletter</h2>
<p>Over the last year, email newsletters have become my favorite ways to stay up to date in my professional world.  High quality newsletters from people like <a href="https://buttondown.email/kentcdodds">Kent</a>, <a href="https://larahogan.me/sign-up/">Lara</a>, and <a href="https://ponyfoo.com/weekly">Ponyfoo</a> are some of the best ways to both keep up with what’s going on tech and trends, but also learn new ideas in a blog post, way.  It’s a better forum for thoughtful content than social media, allows for communication between the writer and their audience.</p>
<p>I’ve always allowed people to subscribe to this blog through email, but to be honest, the experience has been kind of crappy.  I’ve meant to improve my email template forever, and articles sometimes got jumbled into a single email.  Going forward, they’re going to be a first class citizen, and the best way to follow the blog.  I’ll publish articles there first, and include extra “weekly link” like content in the emails only.  I’m switching emails over to <a href="https://buttondown.email/">Buttondown</a> and they should be much cleaner and content focused going forward.  If you follow this blog through email, you’re probably reading this post in that format now.  If not, please go ahead and <a href="https://benmccormick.org/subscribe/">subscribe</a>.  I’ll be starting the year with a series of posts about front end architecture.</p>
<h2>2018 Roundup</h2>
<h3>Most Read Posts Published in 2018</h3>
<ul>
<li><a href="https://benmccormick.org/2018/02/07/react-confessions/">React Architecture Confessions</a> React unquestioningly has a learning curve.  I decided to talk through the various mistakes I’d made as I learned React on the fly while building a large web application.</li>
</ul>
<ul>
<li>
<p><a href="https://benmccormick.org/2018/07/04/evil-javascript/">Evil JavaScript</a> This was something different for me, a tongue-in-cheek look at the ways you can use and abuse some of JavaScript’s more powerful features</p>
</li>
<li>
<p><a href="https://benmccormick.org/2018/06/05/es6-the-bad-parts/">ES6: The Bad Parts</a>
My take on which parts of ES6 should be avoided after 3 years of use.</p>
</li>
</ul>
<h3>Languages, Libraries, and Technologies I started using in 2018</h3>
<p>With all the changes, it hasn’t been a big year for experimentation, but Immer is fantastic.</p>
<ul>
<li>
<p><a href="https://github.com/mweststrate/immer">Immer</a> This probably deserves a full post at some point, but I’ve been experimenting with using only Immer and React’s built in state features for state management on a new project, and it’s been fairly nice so far.  It’s a lovely little library that makes working with immutable data pleasant.</p>
</li>
<li>
<p><a href="https://storybook.js.org/">Storybook</a> My other big experiment on the new project has been using Storybook as a collaboration tool for our UI components.  It’s still early days, but I’m liking it.</p>
</li>
</ul>
<h3>Languages and Libraries I used (more or less) every day in 2018</h3>
<p>JavaScript (ES6), Python, React, PostgreSQL, lodash, MobX, Jest, Immer, CSS Modules</p>
<h3>Languages and Libraries I want to try in 2019</h3>
<p>I want to try building some small hardware projects and automating them this year.  Something completely different.</p>
<h3>Blogs I started following in 2018</h3>
<ul>
<li><a href="https://larahogan.me/">Lara Hogan’s Engineering Leadership blog and newsletter</a></li>
<li><a href="https://overreacted.io/">Overreacted by Dan Abramov</a></li>
</ul>
<h3>Blogs I read every post from in 2018</h3>
<p><a href="https://overreacted.io/">Overreacted by Dan Abramov</a>, <a href="https://larahogan.me/">Lara Hogan’s Engineering Leadership blog and newsletter</a>, <a href="http://randsinrepose.com/">Rands In Repose</a>, <a href="https://stratechery.com/">Stratechery</a>, <a href="https://daringfireball.net/">Daring Fireball</a></p>
<h3>Software I used (nearly) every day in 2018</h3>
<p>MacOS/iOS, Google Search, Chrome/Safari/Firefox, GMail/MailPlane 3, Twitter/Tweetbot, Feedbin/Reeder, iMessage, Slack, Jira, 1Password, VS Code/Vim, iTerm, Fish Shell, Bitbucket, Fantastical, Spotify, Bear, Annotate, Dash</p>
<h3>Best Technical Books I read in 2018</h3>
<ul>
<li><a href="https://amzn.to/2LsAJMk">Clean Architecture</a></li>
<li><a href="http://atomicdesign.bradfrost.com/">Atomic Design</a></li>
<li><a href="https://amzn.to/2EFXcVI">A Philosophy Of Software Design</a></li>
</ul>
<h3>Best Non-Technical Books I read in 2018</h3>
<ul>
<li><a href="https://amzn.to/2SfcnYP">Radical Candor</a></li>
<li><a href="https://amzn.to/2Lscqy0">The Tech-Wise Family</a></li>
<li><a href="https://amzn.to/2GHNX90">Between The World And Me</a></li>
<li><a href="https://amzn.to/2V7vDJU">Vision</a></li>
<li><a href="https://amzn.to/2Bts7QM">The Innovators</a></li>
</ul>]]></content>
        <author>
            <name>Ben McCormick</name>
            <email>ben@benmccormick.org</email>
            <uri>http://benmccormick.org</uri>
        </author>
    </entry>
</feed>