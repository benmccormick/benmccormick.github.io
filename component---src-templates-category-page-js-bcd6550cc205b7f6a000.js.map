{"version":3,"sources":["webpack:///./src/templates/category-page.js","webpack:///./src/components/CategoryArchive.js"],"names":["CategoryPage","_ref","data","pageContext","history","posts","allMarkdownRemark","edges","sortedPosts","Object","_utils_page_helpers__WEBPACK_IMPORTED_MODULE_4__","Glamor","createElement","_components_Layout__WEBPACK_IMPORTED_MODULE_5__","_components_CategoryArchive__WEBPACK_IMPORTED_MODULE_3__","pages","categoryKey","category","propTypes","route","prop_types__WEBPACK_IMPORTED_MODULE_1___default","a","object","__webpack_exports__","pageQuery","CategoryArchive","render","_this$props","this","props","categoryData","lodash_find__WEBPACK_IMPORTED_MODULE_3___default","_pages_categories_json__WEBPACK_IMPORTED_MODULE_8__","categories","key","sortedPages","lodash_sortBy__WEBPACK_IMPORTED_MODULE_5___default","page","lodash_get__WEBPACK_IMPORTED_MODULE_4___default","filter","reverse","description","titleText","title","_HeadContent__WEBPACK_IMPORTED_MODULE_6__","keywords","_components_LinkList__WEBPACK_IMPORTED_MODULE_7__","showCategory","react__WEBPACK_IMPORTED_MODULE_2___default","Component"],"mappings":"kNAOMA,EAAe,SAAAC,GAAoC,IAAjCC,EAAiCD,EAAjCC,KAAMC,EAA2BF,EAA3BE,YAAaC,EAAcH,EAAdG,QACnCC,EAAQH,EAAKI,kBAAkBC,MAC/BC,EAAcC,OAAAC,EAAA,EAAAD,CAAeJ,GACnC,OACEM,EAAAC,cAACC,EAAA,EAAD,CAAQT,QAASA,GACfO,EAAAC,cAACE,EAAA,EAAD,CAAiBC,MAAOP,EAAaQ,YAAab,EAAYc,aAKpEjB,EAAakB,UAAY,CACvBC,MAAOC,EAAAC,EAAUC,QAGnBC,EAAA,UAEO,IAAMC,EAAS,0MCdhBC,4FACJC,OAAA,WAAS,IAAAC,EACsBC,KAAKC,MAA5Bd,EADCY,EACDZ,MAAOC,EADNW,EACMX,YACTc,EAAeC,IAAKC,EAAaC,WAAY,CAAEC,IAAKlB,IAElDmB,EAAcC,IAAOrB,EAAO,SAAAsB,GAAI,OAAIC,IAAID,EAAM,eACjDE,OACC,SAAAF,GAAI,OACFA,EAAKnC,KAAKe,WAAaD,GACM,SAA7BsB,IAAID,EAAM,iBAEbG,UAEGC,EAAuBX,EAAvBW,YAEFC,EAFyBZ,EAAVa,MAEN,YACb,OACEhC,EAAAC,cAAA,WACED,EAAAC,cAACgC,EAAA,EAAD,CACED,MAAK,sBAAwBD,EAC7BG,SAAQ,uBAAyBH,IAEnC/B,EAAAC,cAACkC,EAAA,EAAD,CACE/B,MAAOoB,EACPQ,MAAOD,EACPD,YAAa9B,EAAAC,cAAA,SAAI6B,GACjBM,cAAc,SA1BMC,EAAA3B,EAAM4B,WAiCpC1B,EAAA","file":"component---src-templates-category-page-js-bcd6550cc205b7f6a000.js","sourcesContent":["import { graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport CategoryArchive from '../components/CategoryArchive';\nimport { getSortedPosts } from '../utils/page-helpers';\nimport Layout from '../components/Layout';\n\nconst CategoryPage = ({ data, pageContext, history }) => {\n  const posts = data.allMarkdownRemark.edges;\n  const sortedPosts = getSortedPosts(posts);\n  return (\n    <Layout history={history}>\n      <CategoryArchive pages={sortedPosts} categoryKey={pageContext.category} />\n    </Layout>\n  );\n};\n\nCategoryPage.propTypes = {\n  route: PropTypes.object,\n};\n\nexport default CategoryPage;\n\nexport const pageQuery = graphql`\n  query PostsByCategory {\n    allMarkdownRemark(\n      limit: 2000\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            category\n            title\n            description\n            date\n            dontfeature\n            path\n            layout\n            key\n            isDraft\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport find from 'lodash/find';\nimport get from 'lodash/get';\nimport sortBy from 'lodash/sortBy';\n\nimport { HeadContent } from './HeadContent';\nimport LinkList from '../components/LinkList';\nimport categoryHash from '../pages/categories.json';\n\nclass CategoryArchive extends React.Component {\n  render() {\n    let { pages, categoryKey } = this.props;\n    let categoryData = find(categoryHash.categories, { key: categoryKey });\n    // Sort pages.\n    const sortedPages = sortBy(pages, page => get(page, 'data.date'))\n      .filter(\n        page =>\n          page.data.category === categoryKey &&\n          get(page, 'data.layout') === 'post'\n      )\n      .reverse();\n\n    let { description, title } = categoryData;\n\n    let titleText = `${title} Articles`;\n    return (\n      <div>\n        <HeadContent\n          title={`benmccormick.org - ${titleText}`}\n          keywords={`blog,articles,posts,${titleText}`}\n        />\n        <LinkList\n          pages={sortedPages}\n          title={titleText}\n          description={<p>{description}</p>}\n          showCategory={false}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CategoryArchive;\n"],"sourceRoot":""}