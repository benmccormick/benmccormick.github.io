<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=yyxgnp97qG"/><link rel="icon" type="image/png" href="/favicon-32x32.png?v=yyxgnp97qG" sizes="32x32"/><link rel="icon" type="image/png" href="/favicon-16x16.png?v=yyxgnp97qG" sizes="16x16"/><link rel="manifest" href="/manifest.json"/><link rel="mask-icon" href="/safari-pinned-tab.svg?v=yyxgnp97qG" color="#rgb(42, 194, 240)"/><link rel="alternate" title="JSON Feed" type="application/json" href="/feed.json"/><link rel="shortcut icon" href="/favicon.ico?v=yyxgnp97qG"/><meta name="theme-color" content="#ffffff"/><title data-react-helmet="true"></title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.6 'minion-3','Garamond',serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'minion-3','Garamond',serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.6rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.32578rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.20684rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.91028rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:inherit;font-family:'mr-eaves-xl-modern',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.86849rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}ul{margin-left:1.6rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.6rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;font-size:0.85rem;line-height:1.1;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.2rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;font-size:1rem;line-height:1.6rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}blockquote{margin-left:1.6rem;margin-right:1.6rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.2rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.2rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.6rem;margin-bottom:calc(1.2rem / 2);margin-top:calc(1.2rem / 2);}li > ul{margin-left:1.6rem;margin-bottom:calc(1.2rem / 2);margin-top:calc(1.2rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.2rem / 2);}code{font-size:0.85rem;line-height:1.6rem;}kbd{font-size:0.85rem;line-height:1.6rem;}samp{font-size:0.85rem;line-height:1.6rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.06667rem;padding-right:1.06667rem;padding-top:0.8rem;padding-bottom:calc(0.8rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}tt,code{background-color:hsla(0,0%,0%,0.04);border-radius:3px;font-family:"SFMono-Regular", Consolas,"Roboto Mono","Droid Sans Mono","Liberation Mono",Menlo,Courier,monospace;padding:0;padding-top:0.2em;padding-bottom:0.2em;font-size:14px;}pre code{background:none;line-height:1.1;}code:before,code:after,tt:before,tt:after{letter-spacing:-0.2em;content:" ";}pre code:before,pre code:after,pre tt:before,pre tt:after{content:"";}h1,h2,h3,h4,h5,h6{line-height:1.1;}@media only screen and (max-width:480px){html{font-size:112.5%;}}</style><style data-href="/0.972a641404e3c16cd0aa.css">body{color:#474747}a{color:#f1684e;text-decoration:none;cursor:pointer}a:hover{text-decoration:underline}.footnote-backref,.footnote-ref{text-decoration:none;padding-left:3px}blockquote{border-left:5px solid #2ac2f0;background:#eee;font-weight:400;font-size:.9rem;padding:1.5rem 2rem;margin:0 0 1rem}blockquote p{margin-bottom:.667em}h3{color:#2ac2f0}h4{font-size:110%}.explanation{padding:10px;background:#eee;border-radius:10px;margin:20px auto;font-size:.85em}.footnotes{font-size:80%}.footnotes li>*{display:inline;margin-bottom:0}strong{color:#639f6e}em{color:#9a74aa}.markdown iframe{margin:0 auto}.carbon-wrap{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-template-rows:1fr;margin-bottom:30px;align-items:center;padding-left:5px}@media (max-width:960px){.carbon-wrap{grid-template-columns:1fr;grid-template-rows:110px 1fr;grid-row-gap:10px;justify-items:center}}.carbon-wrap img{margin-bottom:0}.carbon-text{padding:5px 5px 5px 0;display:inline-block;overflow:hidden;line-height:1.3}.carbon-poweredby{color:#999;position:absolute;right:5px;bottom:0}.columns{display:grid;grid-template-columns:665px 270px;grid-template-rows:1fr;grid-column-gap:25px}@media (max-width:960px){.columns{display:grid;grid-template-columns:70% 28%;grid-column-gap:2%}}@media (max-width:700px){.columns{display:flex;flex-direction:column;align-items:center}.no-mobile{display:none}}@media (max-width:321px){html{font-size:100%!important}}</style><style data-href="/component---src-templates-blog-post-js.8d5fb7e09aa4ea7497f6.css">.markdown pre{display:block;background:#343d46;color:#d8dee9;padding:.8rem}.markdown pre code:after{content:unset}.token.comment,.token.quote{color:#a7adba}.token.addition,.token.attr,.token.selector-tag,.token.string{color:#99c794}.token.doctag,.token.meta .token.meta-string,.token.regexp{color:#89ddf3}.token.built_in,.token.function{color:#5fb3b3}.token.name,.token.section,.token.selector-class,.token.selector-id,.token.title{color:#69c}.token.attribute,.token.class .token.title,.token.template-variable,.token.type,.token.variable{color:#fac863}.token.bullet,.token.link,.token.meta,.token.meta .token.keyword,.token.selector-attr,.token.selector-pseudo,.token.subst,.token.symbol{color:#f9ae58}.token.boolean,.token.deletion,.token.literal,.token.number{color:#f07178}.token.keyword{color:#c594c5}.token.formula{background:#a7adba}.token.emphasis{font-style:italic}.token.strong{font-weight:700}.gatsby-resp-image-wrapper{max-width:75%;display:block;margin:40px auto 20px}.bordered-img{border:3px solid #rgb(42,194,240)}.img-group{display:flex;justify-content:space-between}.img-group img{padding:0;height:auto}.inline-img{width:45%;display:inline-block;float:right;padding:2rem}#bd-label{font-family:mr-eaves-xl-modern,Helvetica Neue,Arial,sans-serif;font-weight:700}#bd-label.large-label{font-size:20px}#bd-email{padding-left:5px}#bd-email,#bd-submit{font-family:mr-eaves-xl-modern,Helvetica Neue,Arial,sans-serif;font-size:14px}#bd-submit{background:#f1684e;color:#fff;border-radius:4px;border:none}@media (max-width:960px){#bd-email,#bd-submit{font-size:10px}#bd-label{font-size:12px}}.large-row #bd-email,.large-row #bd-submit{font-size:30px}@media (max-width:700px){.large-row #bd-email,.large-row #bd-submit{font-size:18px}}.bd-subscribe-form{margin:30px 0 50px;display:block}.bd-subscribe-row{display:grid;grid-template-columns:60% 35%;grid-column-gap:5%;grid-template-rows:1fr;margin-top:10px}@media (max-width:960px){.bd-subscribe-row{grid-template-columns:1fr;grid-row-gap:10%;grid-template-rows:1fr 1fr}}.twitter-tweet,twitterwidget{margin-left:auto;margin-right:auto}</style><meta name="generator" content="Gatsby 2.0.75"/><style id="glamor-styles">.css-tcc0st,[data-css-tcc0st]{color:#999999;font-size:16px;font-family:"mr-eaves-xl-modern", "Helvetica Neue", Arial, sans-serif;}.css-tcc0st:hover,[data-css-tcc0st]:hover{color:#F1684E;}.css-1gs5qio,[data-css-1gs5qio]{font-size:16px;font-family:"mr-eaves-xl-modern", "Helvetica Neue", Arial, sans-serif;}.css-1os3d5z,[data-css-1os3d5z]{font-family:"mr-eaves-xl-modern", "Helvetica Neue", Arial, sans-serif;font-size:0.75rem;background:rgb(42, 194, 240);color:#333;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;justify-content:flex-start;align-items:center;border-radius:0.25rem;padding:0.125rem 0.35rem;width:12rem;height:2rem;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;}.css-1os3d5z:hover,[data-css-1os3d5z]:hover{text-decoration:none;}@media all and (max-width: 960px){.css-1os3d5z,[data-css-1os3d5z]{height:1.6rem;width:7rem;font-size:0.55rem;}}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["tcc0st","1gs5qio","1os3d5z"]
        // ]]>
        </script><title data-react-helmet="true">Unexpected Javascript: That Doesn&#x27;t Do What You Think | benmccormick.org</title><meta data-react-helmet="true" name="description" content="Ben McCormick&#x27;s blog on JavaScript and Web Development"/><meta data-react-helmet="true" name="keywords"/><script data-react-helmet="true" type="application/ld+json">{
                  "@context": "http://schema.org"
                  "@type": "BlogPosting",
                  "headline": "Unexpected Javascript: That Doesn't Do What You Think",
                  "genre": "Software Development",
                  "keywords": "",
                  "url": "http://benmccormick.org//2013/01/15/unexpected-javascript-that-doesnt-do-what-you-think",
                  "image": "http://benmccormick.org/logo.png",
                  "datePublished": "2013-01-15",
                  
                  "articleBody": "<p>When I started writing Javascript, I encountered a lot of stuff that was just plain weird.  Stuff didn’t act the way I expected, syntax seemed misleading, and some behavior just seemed completely wrong.  I have a better understanding now and have come to appreciate Javascript for the quirky but stable language that it is once you know the rules.  But just for fun, here are some examples of assumptions that its easy to make when looking at Javascript for the first time.  All of the following statements are wrong (at least in some cases).  See if you know why.  And feel free to contribute more in the comments!</p>
<h3>Equality Problems</h3>
<ul>
<li><code class=\"language-text\">0.1+0.2 === .3</code> is true <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup></li>
<li><code class=\"language-text\">10000000000000001+20000000000000000 === 300000000000000001</code> is true <sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup></li>
<li><code class=\"language-text\">x === x</code> is true for all values of x <sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup></li>
<li><code class=\"language-text\">&quot;1.0e0&quot; == {valueOf: function(){ return true;}};</code> is false <sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup></li>
<li>if <code class=\"language-text\">x==y</code> and <code class=\"language-text\">x==z</code> then <code class=\"language-text\">z==y</code> <sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup></li>
<li><code class=\"language-text\">parseInt(&#39;016&#39;) === 16</code> is true. <sup id=\"fnref-6\"><a href=\"#fn-6\" class=\"footnote-ref\">6</a></sup></li>
</ul>
<h3>Environment Concerns</h3>
<ul>
<li><code class=\"language-text\">window</code> will always be available as a global variable <sup id=\"fnref-7\"><a href=\"#fn-7\" class=\"footnote-ref\">7</a></sup></li>
<li>Javascript will always be enabled on your web page <sup id=\"fnref-8\"><a href=\"#fn-8\" class=\"footnote-ref\">8</a></sup></li>
<li>If it works in firebug it will work in the browser <sup id=\"fnref-9\"><a href=\"#fn-9\" class=\"footnote-ref\">9</a></sup></li>
</ul>
<h3>Code Structure</h3>
<ul>
<li>You don’t need to add semicolons in javascript, they’re inserted automatically <sup id=\"fnref-10\"><a href=\"#fn-10\" class=\"footnote-ref\">10</a></sup></li>
<li>I always add semicolons, so I don’t need to know about how they’re inserted <sup id=\"fnref-11\"><a href=\"#fn-11\" class=\"footnote-ref\">11</a></sup></li>
<li>The var keyword is unnecessary, variables are created just by referencing them. <sup id=\"fnref-12\"><a href=\"#fn-12\" class=\"footnote-ref\">12</a></sup></li>
<li><code class=\"language-text\">return eval(&quot;x&quot;)</code> is the same as <code class=\"language-text\">var a = eval; return a(&quot;x&quot;);</code> <sup id=\"fnref-13\"><a href=\"#fn-13\" class=\"footnote-ref\">13</a></sup></li>
<li>Functions are the only thing in Javascript that restrict scope.  <sup id=\"fnref-14\"><a href=\"#fn-14\" class=\"footnote-ref\">14</a></sup></li>
</ul>
<h3>Function Issues</h3>
<ul>
<li>I will always know what <code class=\"language-text\">this</code> is when the function is run <sup id=\"fnref-15\"><a href=\"#fn-15\" class=\"footnote-ref\">15</a></sup></li>
<li>You can get the last argument of the function using <code class=\"language-text\">arguments.pop()</code> <sup id=\"fnref-16\"><a href=\"#fn-16\" class=\"footnote-ref\">16</a></sup></li>
<li>The following will generate different names and alerts for each link: <sup id=\"fnref-17\"><a href=\"#fn-17\" class=\"footnote-ref\">17</a></sup></li>
</ul>
<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">addLinks</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> link<span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span><span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
    link <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    link<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"Link \"</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">;</span>
    link<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>
    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
  <span class=\"token punctuation\">}</span>
<span class=\"token punctuation\">}</span></code></pre></div>
<ul>
<li>The following function will return 1: <sup id=\"fnref-18\"><a href=\"#fn-18\" class=\"footnote-ref\">18</a></sup></li>
</ul>
<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>
    <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>
    <span class=\"token keyword\">return</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>
  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>
<ul>
<li>The if statement code can be removed here with no side effects: <sup id=\"fnref-19\"><a href=\"#fn-19\" class=\"footnote-ref\">19</a></sup></li>
</ul>
<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">testf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>
  x<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">;</span>
  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>
    <span class=\"token keyword\">var</span> x<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">;</span>
  <span class=\"token punctuation\">}</span>
<span class=\"token punctuation\">}</span></code></pre></div>
<h4>Explanations here:</h4>
<div class=\"footnotes\">
<hr>
<ol>
<li id=\"fn-1\">
<p>Actually comes to 0.30000000000000004 See <a href=\"http://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken\">here</a></p>
<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-2\">
<p>Loses the trailing 1 due to limits of <a href=\"http://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken\">floating point numbers</a></p>
<a href=\"#fnref-2\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-3\">
<p>It turns out that <code class=\"language-text\">NaN === NaN</code> is false</p>
<a href=\"#fnref-3\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-4\">
<p>Both values get cast to 1 by the <a href=\"http://stackoverflow.com/questions/359494/javascript-vs-does-it-matter-which-equal-operator-i-use\">== operator</a></p>
<a href=\"#fnref-4\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-5\">
<p>” == ‘0’ is false, 0==” is true, as is 0 ==‘0’</p>
<a href=\"#fnref-5\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-6\">
<p>Prior to ECMAScript 5, strings with leading 0s were interpreted as Octal Notation.  This is resolved in newer browsers, but IE8 and other older browsers still show this behavior.</p>
<a href=\"#fnref-6\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-7\">
<p>Window is a browser construct.  It may not be available in all JS environments (for instance, it is not available in Node.js)  Unless you know exactly where your code will be run, be careful</p>
<a href=\"#fnref-7\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-8\">
<p>Especially in government situations, security conscious users may disable javascript.  Even if the user is able to enable JS, it may be disabled by default.  You can prepare your site for this.</p>
<a href=\"#fnref-8\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-9\">
<p>This is not always accurate.  Firebug executes in eval context, <a href=\"http://perfectionkills.com/understanding-delete/\">and that may lead to strange behavior </a>.</p>
<a href=\"#fnref-9\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-10\">
<p>There are some cases when a JS parser may unexpectedly concatenate 2 lines you didn’t intend.  This is particularly an issue when the next line begins with an arithmetic operator or a <code class=\"language-text\">(</code>, as is the case for immediately invoked function expressions.  You can see an example with <a href=\"http://jsfiddle.net/2XSCk/\">this fiddle</a></p>
<a href=\"#fnref-10\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-11\">
<p>You can still be burned by automatic semicolon insertion even if you don’t want to take advantage of it.  The classic example is that Javascript will automatically insert a semicolon after <code class=\"language-text\">return</code> if you put the value to be returned on a new line, something that may happen often if you’re returning a new object and like to start your curly braces on a new line.</p>
<a href=\"#fnref-11\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-12\">
<p>This is more of a beginner assumption.  Undeclared variables are automatically set as global variables and can cause plenty of problems if you don’t understand this.</p>
<a href=\"#fnref-12\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-13\">
<p>Strangely, Javascript differentiates between direct calls to eval and indirect calls. You can read more on this <a href=\"http://stackoverflow.com/questions/9107240/1-evalthis-vs-evalthis-in-javascript\">StackOverflow Question</a></p>
<a href=\"#fnref-13\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-14\">
<p>This is admittedly an edge case, but catch statements of try…catch blocks also restrict scope, and the <code class=\"language-text\">with</code> statement also modifies the scope, in a different way.  <code class=\"language-text\">with</code> is not recommended</p>
<a href=\"#fnref-14\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-15\">
<p>Even methods of an object can be called by another object with Javascript’s call and apply functions.  The only way to guarantee that the correct value of this is used is to use <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\">Javascript’s bind function</a></p>
<a href=\"#fnref-15\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-16\">
<p><code class=\"language-text\">arguments</code> is not a real array.  It is array-like, in that it has a length value, and has integer properties that it accepts.  But you can’t run normal array arguments on it without converting it to an Array object.</p>
<a href=\"#fnref-16\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-17\">
<p>This is the classic example of improper closure behavior.  I got this example from <a href=\"http://robertnyman.com/2008/10/09/explaining-javascript-scope-and-closures/\">this article</a>, where you can read more.</p>
<a href=\"#fnref-17\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-18\">
<p>Function declarations are hoisted to the top of the function.  Therefore both versions of f are defined, and the second one overrules the first, before f is called and return</p>
<a href=\"#fnref-18\" class=\"footnote-backref\">↩</a>
</li>
<li id=\"fn-19\">
<p>More variable hoisting.  In this case the var x declaration is hoisted to the top of the function, even though the assignment can never be executed.  This has the effect of making the variable local to the function rather than global, which is potentially very significant.  You can see the difference in this <a href=\"http://jsfiddle.net/H4bCx/\">jsFiddle</a>/</p>
<a href=\"#fnref-19\" class=\"footnote-backref\">↩</a>
</li>
</ol>
</div>",
                    "author": {
                      "@type": "Person",
                      "name": "Ben McCormick"
                      "email": "mailto:ben@benmccormick.org",
                      "image": "/profile_pic.jpg",
                      "jobTitle": "Software Engineer",
                      "alumniOf": "Duke",
                      "birthPlace": "Pittsburgh, PA",
                      "gender": "male",
                      "url": "http://benmccormick.org",
                	    "sameAs" : [
                        "https://www.linkedin.com/in/benmccormick",
                        "http://twitter.com/_benmccormick",
                      ]
                   }
                }</script><link as="script" rel="preload" href="/component---src-templates-blog-post-js-f7142fd23fbb70bfa210.js"/><link as="script" rel="preload" href="/app-9902c818c6d2b9b8163c.js"/><link as="script" rel="preload" href="/1-1fe1c56ce7d6c86a16dd.js"/><link as="script" rel="preload" href="/0-69fdf47151a6055542cf.js"/><link as="script" rel="preload" href="/2-05840d36207639450f79.js"/><link as="script" rel="preload" href="/webpack-runtime-0db51b48213d1adf49fb.js"/><link as="fetch" rel="preload" href="/static/d/162/path---2013-01-15-unexpected-javascript-that-doesnt-do-what-you-think-848-a11-iqqJ3A03Ydbm7ZRyTgsLyVuO7Fs.json" crossOrigin="use-credentials"/></head><body class="landing-page" style="background:#FCFCFC"><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><style data-emotion-css="1f3kluc">.css-1f3kluc{width:100%;max-width:1000px;margin:0 auto;padding:2.4rem 20px;}</style><div class="css-1f3kluc em100y90"><style data-emotion-css="13vv67v">.css-13vv67v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-bottom:2rem;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><div class="css-13vv67v e1b8f8ar0"><style data-emotion-css="txnzm6">.css-txnzm6{margin:0 20px 0 0;padding-bottom:0;}.css-txnzm6 a{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;}.css-txnzm6 a:hover{-webkit-text-decoration:none;text-decoration:none;}</style><h3 class="css-txnzm6 e1b8f8ar2"><a name="title" href="/">Ben McCormick</a></h3><style data-emotion-css="177tisd">.css-177tisd{color:#999999;}</style><div class="css-177tisd e1b8f8ar3"><a class="css-tcc0st" href="/archive/">Blog</a><style data-emotion-css="12jh0su">.css-12jh0su{padding:0 0.5rem;}@media all and (max-width:400px){.css-12jh0su{padding:0 0.25rem;}}</style><span class="css-12jh0su e1b8f8ar1"></span><a class="css-tcc0st" href="/subscribe/">Subscribe</a><span class="css-12jh0su e1b8f8ar1"></span><a class="css-tcc0st" href="/speaking/">Speaking</a><span class="css-12jh0su e1b8f8ar1"></span><a class="css-tcc0st" href="http://twitter.com/_benmccormick">Twitter</a><span class="css-12jh0su e1b8f8ar1"></span><a class="css-tcc0st" href="/about/">About</a></div></div><article class="markdown"><div class="post-title-area"><style data-emotion-css="92repi">.css-92repi{display:block;max-width:100%;}</style><h1 class="css-92repi e15djruj0">Unexpected Javascript: That Doesn&#x27;t Do What You Think</h1></div><div class="columns"><style data-emotion-css="qsg3oo">.css-qsg3oo{max-width:100%;}.css-qsg3oo li{padding-left:10px;}.css-qsg3oo .reading-img img{width:150px;float:right;margin:0px 10px 20px 10px;}.css-qsg3oo img.full-width{max-height:none;}.css-qsg3oo img.half-width{max-height:none;width:50%;}</style><div class="css-qsg3oo e15djruj2"><p>When I started writing Javascript, I encountered a lot of stuff that was just plain weird.  Stuff didn’t act the way I expected, syntax seemed misleading, and some behavior just seemed completely wrong.  I have a better understanding now and have come to appreciate Javascript for the quirky but stable language that it is once you know the rules.  But just for fun, here are some examples of assumptions that its easy to make when looking at Javascript for the first time.  All of the following statements are wrong (at least in some cases).  See if you know why.  And feel free to contribute more in the comments!</p>
<h3>Equality Problems</h3>
<ul>
<li><code class="language-text">0.1+0.2 === .3</code> is true <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></li>
<li><code class="language-text">10000000000000001+20000000000000000 === 300000000000000001</code> is true <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup></li>
<li><code class="language-text">x === x</code> is true for all values of x <sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup></li>
<li><code class="language-text">&quot;1.0e0&quot; == {valueOf: function(){ return true;}};</code> is false <sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup></li>
<li>if <code class="language-text">x==y</code> and <code class="language-text">x==z</code> then <code class="language-text">z==y</code> <sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup></li>
<li><code class="language-text">parseInt(&#39;016&#39;) === 16</code> is true. <sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup></li>
</ul>
<h3>Environment Concerns</h3>
<ul>
<li><code class="language-text">window</code> will always be available as a global variable <sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup></li>
<li>Javascript will always be enabled on your web page <sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup></li>
<li>If it works in firebug it will work in the browser <sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup></li>
</ul>
<h3>Code Structure</h3>
<ul>
<li>You don’t need to add semicolons in javascript, they’re inserted automatically <sup id="fnref-10"><a href="#fn-10" class="footnote-ref">10</a></sup></li>
<li>I always add semicolons, so I don’t need to know about how they’re inserted <sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup></li>
<li>The var keyword is unnecessary, variables are created just by referencing them. <sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup></li>
<li><code class="language-text">return eval(&quot;x&quot;)</code> is the same as <code class="language-text">var a = eval; return a(&quot;x&quot;);</code> <sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup></li>
<li>Functions are the only thing in Javascript that restrict scope.  <sup id="fnref-14"><a href="#fn-14" class="footnote-ref">14</a></sup></li>
</ul>
<h3>Function Issues</h3>
<ul>
<li>I will always know what <code class="language-text">this</code> is when the function is run <sup id="fnref-15"><a href="#fn-15" class="footnote-ref">15</a></sup></li>
<li>You can get the last argument of the function using <code class="language-text">arguments.pop()</code> <sup id="fnref-16"><a href="#fn-16" class="footnote-ref">16</a></sup></li>
<li>The following will generate different names and alerts for each link: <sup id="fnref-17"><a href="#fn-17" class="footnote-ref">17</a></sup></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">addLinks</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> link<span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Link "</span> <span class="token operator">+</span> i<span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>The following function will return 1: <sup id="fnref-18"><a href="#fn-18" class="footnote-ref">18</a></sup></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>The if statement code can be removed here with no side effects: <sup id="fnref-19"><a href="#fn-19" class="footnote-ref">19</a></sup></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">testf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  x<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> x<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>Explanations here:</h4>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>Actually comes to 0.30000000000000004 See <a href="http://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken">here</a></p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>Loses the trailing 1 due to limits of <a href="http://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken">floating point numbers</a></p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>It turns out that <code class="language-text">NaN === NaN</code> is false</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
<li id="fn-4">
<p>Both values get cast to 1 by the <a href="http://stackoverflow.com/questions/359494/javascript-vs-does-it-matter-which-equal-operator-i-use">== operator</a></p>
<a href="#fnref-4" class="footnote-backref">↩</a>
</li>
<li id="fn-5">
<p>” == ‘0’ is false, 0==” is true, as is 0 ==‘0’</p>
<a href="#fnref-5" class="footnote-backref">↩</a>
</li>
<li id="fn-6">
<p>Prior to ECMAScript 5, strings with leading 0s were interpreted as Octal Notation.  This is resolved in newer browsers, but IE8 and other older browsers still show this behavior.</p>
<a href="#fnref-6" class="footnote-backref">↩</a>
</li>
<li id="fn-7">
<p>Window is a browser construct.  It may not be available in all JS environments (for instance, it is not available in Node.js)  Unless you know exactly where your code will be run, be careful</p>
<a href="#fnref-7" class="footnote-backref">↩</a>
</li>
<li id="fn-8">
<p>Especially in government situations, security conscious users may disable javascript.  Even if the user is able to enable JS, it may be disabled by default.  You can prepare your site for this.</p>
<a href="#fnref-8" class="footnote-backref">↩</a>
</li>
<li id="fn-9">
<p>This is not always accurate.  Firebug executes in eval context, <a href="http://perfectionkills.com/understanding-delete/">and that may lead to strange behavior </a>.</p>
<a href="#fnref-9" class="footnote-backref">↩</a>
</li>
<li id="fn-10">
<p>There are some cases when a JS parser may unexpectedly concatenate 2 lines you didn’t intend.  This is particularly an issue when the next line begins with an arithmetic operator or a <code class="language-text">(</code>, as is the case for immediately invoked function expressions.  You can see an example with <a href="http://jsfiddle.net/2XSCk/">this fiddle</a></p>
<a href="#fnref-10" class="footnote-backref">↩</a>
</li>
<li id="fn-11">
<p>You can still be burned by automatic semicolon insertion even if you don’t want to take advantage of it.  The classic example is that Javascript will automatically insert a semicolon after <code class="language-text">return</code> if you put the value to be returned on a new line, something that may happen often if you’re returning a new object and like to start your curly braces on a new line.</p>
<a href="#fnref-11" class="footnote-backref">↩</a>
</li>
<li id="fn-12">
<p>This is more of a beginner assumption.  Undeclared variables are automatically set as global variables and can cause plenty of problems if you don’t understand this.</p>
<a href="#fnref-12" class="footnote-backref">↩</a>
</li>
<li id="fn-13">
<p>Strangely, Javascript differentiates between direct calls to eval and indirect calls. You can read more on this <a href="http://stackoverflow.com/questions/9107240/1-evalthis-vs-evalthis-in-javascript">StackOverflow Question</a></p>
<a href="#fnref-13" class="footnote-backref">↩</a>
</li>
<li id="fn-14">
<p>This is admittedly an edge case, but catch statements of try…catch blocks also restrict scope, and the <code class="language-text">with</code> statement also modifies the scope, in a different way.  <code class="language-text">with</code> is not recommended</p>
<a href="#fnref-14" class="footnote-backref">↩</a>
</li>
<li id="fn-15">
<p>Even methods of an object can be called by another object with Javascript’s call and apply functions.  The only way to guarantee that the correct value of this is used is to use <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind">Javascript’s bind function</a></p>
<a href="#fnref-15" class="footnote-backref">↩</a>
</li>
<li id="fn-16">
<p><code class="language-text">arguments</code> is not a real array.  It is array-like, in that it has a length value, and has integer properties that it accepts.  But you can’t run normal array arguments on it without converting it to an Array object.</p>
<a href="#fnref-16" class="footnote-backref">↩</a>
</li>
<li id="fn-17">
<p>This is the classic example of improper closure behavior.  I got this example from <a href="http://robertnyman.com/2008/10/09/explaining-javascript-scope-and-closures/">this article</a>, where you can read more.</p>
<a href="#fnref-17" class="footnote-backref">↩</a>
</li>
<li id="fn-18">
<p>Function declarations are hoisted to the top of the function.  Therefore both versions of f are defined, and the second one overrules the first, before f is called and return</p>
<a href="#fnref-18" class="footnote-backref">↩</a>
</li>
<li id="fn-19">
<p>More variable hoisting.  In this case the var x declaration is hoisted to the top of the function, even though the assignment can never be executed.  This has the effect of making the variable local to the function rather than global, which is potentially very significant.  You can see the difference in this <a href="http://jsfiddle.net/H4bCx/">jsFiddle</a>/</p>
<a href="#fnref-19" class="footnote-backref">↩</a>
</li>
</ol>
</div></div><style data-emotion-css="rd3zyi">.css-rd3zyi{padding-left:2rem;overflow:hidden;}</style><div class="no-mobile css-rd3zyi e15djruj3"><style data-emotion-css="1y23a7j">.css-1y23a7j{overflow:hidden;margin:0;}.css-1y23a7j #mc_embed_signup form{margin-bottom:20px;}@media all and (max-width:700px){.css-1y23a7j{padding-right:0;width:100% !important;padding:0 10px;}.css-1y23a7j .mc-field-group{width:100% !important;}.css-1y23a7j .mc-field-group input{width:100% !important;font-size:0.8em;height:2.4em;}}</style><div class="css-1y23a7j e1qbom70"><form action="https://buttondown.email/api/emails/embed-subscribe/benmccormick" method="post" target="popupwindow" class="embeddable-buttondown-form"><label for="bd-email" id="bd-label">Subscribe to the Newsletter</label><input type="hidden" value="1" name="embed"/><div class="bd-subscribe-row"><input type="email" name="email" id="bd-email" placeholder="Your Email"/><input type="submit" value="Subscribe" id="bd-submit"/></div></form></div><style data-emotion-css="wtijjp">.css-wtijjp{width:100%;overflow:hidden;margin:0 0 1rem 0;font-size:14px;position:relative;font-family:"mr-eaves-xl-modern","Helvetica Neue",Arial,sans-serif;background:rgba(99,159,110,0.25);border:1px solid rgba(90,150,100,0.5);padding:4px;min-height:100px;opacity:0;-webkit-transition:opacity ease 3s;transition:opacity ease 3s;}@media all and (max-width:700px){.css-wtijjp{display:none;}}</style><div class="css-wtijjp etmlefq0"></div><style data-emotion-css="1ui09x8">.css-1ui09x8{font-size:14px;background-color:RGBA(191,237,253,0.5);border:1px solid #68d4fa;padding:0.5rem;}.css-1ui09x8 > h4{font-size:20px;margin-bottom:6px;}.css-1ui09x8 > h6{font-size:18px;margin-bottom:6px;margin-top:12px;}</style><div class="css-1ui09x8 e15djruj1"><h4>Article Info</h4><h6>Author</h6><a href="/about">Ben McCormick</a><h6>Publish Date</h6>January 15th 2013<h6>Category</h6><a class="css-1os3d5z" href="/category/javascript"><style data-emotion-css="e7v39i">.css-e7v39i{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;margin-right:0.1rem;}@media all and (max-width:960px){.css-e7v39i{margin-right:0;}}</style><div class="css-e7v39i e1nsgn8x1"><style data-emotion-css="e7cou1">.css-e7cou1{display:block;width:0.8rem;height:0.8rem;margin-right:0.5rem;}.css-e7cou1 *{fill:#333;}.css-e7cou1 > i{height:0.16000000000000003rem;}</style><span color="#333" class="css-e7cou1 efpzdjd0"><i><svg viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>code</title><desc>Created with Sketch.</desc><defs></defs><g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="code" fill="#000000"><path d="M9.5,3 L8,4.5 L11.5,8 L8,11.5 L9.5,13 L14,8 L9.5,3 L9.5,3 Z M4.5,3 L0,8 L4.5,13 L6,11.5 L2.5,8 L6,4.5 L4.5,3 L4.5,3 Z" id="Shape"></path></g></g></svg></i></span></div><style data-emotion-css="1bs7qd7">.css-1bs7qd7:hover{-webkit-text-decoration:none;text-decoration:none;}</style><div class="css-1bs7qd7 e1nsgn8x0">JavaScript Language</div></a></div></div></div></article></div><style data-emotion-css="1tfasoy">.css-1tfasoy{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:3em 0 1em 0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:RGBA(191,237,253,0.5);border-top:1px solid #68d4fa;}</style><div class="css-1tfasoy e7oz9l30"><style data-emotion-css="7bdmpt">.css-7bdmpt{width:100%;min-height:200px;max-width:960px;margin:0 auto;padding:0 1.2rem;display:grid;grid-template-columns:45% 45%;grid-column-gap:10%;grid-row-gap:30px;}@media all and (max-width:450px){.css-7bdmpt{grid-template-columns:100%;}}</style><div class="css-7bdmpt e7oz9l31"><div><h2 class="css-0 e7oz9l33">Content</h2><style data-emotion-css="1xfqzqa">.css-1xfqzqa{display:grid;grid-template-columns:1fr;grid-auto-rows:1fr;grid-row-gap:20px;}</style><div class="css-1xfqzqa e7oz9l32"><a class="css-1gs5qio" href="/archive/">Blog Archive</a><a class="css-1gs5qio" href="/reviews-archive/">Book Reviews</a><a class="css-1gs5qio" href="https://buttondown.email/benmccormick">Newsletter Archives</a><a class="css-1gs5qio" href="/speaking/">Speaking</a></div></div><div><h2 class="css-0 e7oz9l33">Meta</h2><div class="css-1xfqzqa e7oz9l32"><a class="css-1gs5qio" href="/subscribe/">Subscribe To The Newsletter</a><a class="css-1gs5qio" href="/built-with/">Built With</a><a class="css-1gs5qio" href="http://twitter.com/_benmccormick">Personal Twitter</a><a class="css-1gs5qio" href="http://twitter.com/benmccormickorg">Blog Twitter</a><a class="css-1gs5qio" href="/about/">About Me</a></div></div><style data-emotion-css="i3iawv">.css-i3iawv{font-family:"mr-eaves-xl-modern","Helvetica Neue",Arial,sans-serif;font-size:14px;overflow:visible;white-space:nowrap;}</style><div class="css-i3iawv e7oz9l34">Copyright © 2012-2019 · Ben McCormick</div></div></div></div></div><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-37323973-1', 'auto');
            ga('send', 'pageview');
        </script><script>
          (function(d) {
            var config = {
              kitId: 'msd6bqv',
              scriptTimeout: 300,
              async: true
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/wf-loading/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
        </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2013-01-15-unexpected-javascript-that-doesnt-do-what-you-think-848","path":"/2013/01/15/unexpected-javascript-that-doesnt-do-what-you-think"};window.dataPath="162/path---2013-01-15-unexpected-javascript-that-doesnt-do-what-you-think-848-a11-iqqJ3A03Ydbm7ZRyTgsLyVuO7Fs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9902c818c6d2b9b8163c.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.8d5fb7e09aa4ea7497f6.css","/component---src-templates-blog-post-js-f7142fd23fbb70bfa210.js"],"component---src-templates-category-page-js":["/component---src-templates-category-page-js-bcd6550cc205b7f6a000.js"],"component---src-templates-topic-page-js":["/component---src-templates-topic-page-js-4ee7f6cc28fa02fbf9a1.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-22a6d602f9fe79a43534.js"],"component---src-pages-index-js":["/component---src-pages-index-js-e87d2179286b28a3d63a.js"],"component---src-pages-links-archive-js":["/component---src-pages-links-archive-js-bfa34614b1b65d4be290.js"],"component---src-pages-lions-archive-js":["/component---src-pages-lions-archive-js-6a11735ea0da4313ad85.js"],"component---src-pages-reviews-archive-js":["/component---src-pages-reviews-archive-js-c62044a370ce794429c8.js"]};/*]]>*/</script><script src="/webpack-runtime-0db51b48213d1adf49fb.js" async=""></script><script src="/2-05840d36207639450f79.js" async=""></script><script src="/0-69fdf47151a6055542cf.js" async=""></script><script src="/1-1fe1c56ce7d6c86a16dd.js" async=""></script><script src="/app-9902c818c6d2b9b8163c.js" async=""></script><script src="/component---src-templates-blog-post-js-f7142fd23fbb70bfa210.js" async=""></script></body></html>