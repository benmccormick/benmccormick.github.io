<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>benmccormick.org</title>
        <link>http://benmccormick.org</link>
        <description>A blog by Ben McCormick</description>
        <lastBuildDate>Thu, 16 Nov 2017 04:13:49 GMT</lastBuildDate>
        <docs>http://blogs.law.harvard.edu/tech/rss</docs>
        <generator>Feed for Node.js</generator>
        <image>
            <title>benmccormick.org</title>
            <url>https://benmccormick.org/logo.png</url>
            <link>http://benmccormick.org</link>
        </image>
        <copyright>All rights reserved 2016, Ben McCormick</copyright>
        <atom:link href="http://benmccormick.org/atom.xml" rel="self" type="application/rss+xml"/>
        <item>
            <title><![CDATA[A Quick Browser Compatibility Checkup]]></title>
            <link>https://benmccormick.org/2017/11/15/browser-compatibility-checkup/</link>
            <guid>https://benmccormick.org/2017/11/15/browser-compatibility-checkup/</guid>
            <pubDate>Wed, 15 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>I’ve written a few times about the state of browser compatibility and the web platform over the years.  Over 4 years ago I <a href="https://benmccormick.org/2013/06/11/evergreen-browsers">linked to a post celebrating the rise of evergreen browsers</a>. Then 2 years ago I was one of several people stressing about <a href="https://benmccormick.org/2015/06/10/is-safari-being-left-behind/">whether Safari was going to hold the web back</a>.  It’s something I’ve followed closely because supporting many different subtly incompatible execution environments is one of the most unique and frustrating challenges of front-end development.  </p>
<p>The last few years have been really good for web compatibility with Microsoft dumping Internet Explorer in favor of the evergreen Edge, and <a href="https://babeljs.io/">Babel</a> allowing JavaScript developers to write modern JS spec-compliant code and then have it transpiled back into something that runs in a wide variety of environments.  But fairly recently things have started to get even better.</p>
<p>For the web application I have spent my workdays building over the past 4 years, we target the <a href="http://browserl.ist/?q=last+2+Chrome+versions%252C+last+2+Safari+versions%252C+last+2+Firefox+versions%252C+last+2+Edge+versions">last 2 versions of the major desktop browsers</a> (Chrome, Firefox, Safari, Edge).  At the time of writing that means we target</p>
<ul>
<li>Chrome 61 + 62</li>
<li>Edge 15 + 16</li>
<li>Firefox 55 + 56</li>
<li>Safari 10.1 + 11</li>
</ul>
<p>I get that for some of you this is a very lax browser support standard, and you’re still supporting IE9 or old Android versions.  For others you don’t care about browser compatibility at all and are just hacking demos on the newest Chrome.  But “last 2 versions” is a real world standard that I know plenty of teams target.  And it certainly is a reasonable target for new devs learning about JavaScript and the web.  So let’s look at what is natively supported in all targeted browsers if you use this standard today. Spoiler Alert: life is pretty good.</p>
<h3>Available Now</h3>
<h4>All of ES6 and ES2016, and almost all of ES2017</h4>
<p>If you’re distrustful of Babel and have been holding off on learning the new features that have transformed JavaScript over the past few years until they were “browser supported”, now is your time.  Other than shared memory and atomics (more on that below), every single feature from the recent updates to the ECMAScript spec is available in the last 2 versions of all 4 major browsers.</p>
<p>That includes core ES6 stuff like classes, destructuring, and arrow functions.  But also features that were just standardized this summer like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">async functions</a>.</p>
<h4>Modern CSS</h4>
<p>Modern CSS specifications like <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">Flexbox</a>, <a href="https://css-tricks.com/snippets/css/complete-guide-grid/">CSS Grid</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables">CSS Variables</a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports">CSS Feature Queries</a> are all fully supported in these browsers, making creating layouts especially much easier than it had been in the past.</p>
<h4>Promises and Fetch</h4>
<p>Promises have been mostly supported for a while, but they didn’t have native support in IE11, so some folks may still be polyfilling them.  With a last 2 versions standard, you not only don’t need to polyfill Promises, but also can drop any polyfills for the promise based fetch api as well (and use them with async-await natively!).</p>
<h3>Coming Soon</h3>
<p>So there is a ton of stuff that is available today for people targeting the last 2 versions of browsers.  But there is also a bunch of stuff that is almost there:</p>
<h4>Web Assembly and low level primitives</h4>
<p><a href="https://blog.mozilla.org/blog/2017/11/13/webassembly-in-browsers/">WebAssembly is now shipping in the latest version of every major browser</a>.  WebAssembly is a target bytecode for the web that can interop with JavaScript.  Essentially somebody can write C, C++ or Rust code and then compile it to WebAssembly, which runs natively in the browser, potentially much more performantly than equivalent JavaScript code.  The latest version of all browsers also support <a href="http://2ality.com/2017/01/shared-array-buffer.html">SharedArrayBuffer and Atomics</a>, low level APIs for exploring better parallelism support in JavaScript.  In short, it will soon be possible to create much more performant experiences in web browsers than is currently possible.</p>
<h4>WebRTC</h4>
<p>The latest versions of all browsers also support WebRTC, an API for peer to peer communication through browsers.  This potentially opens the door for all types of browser-based text/video chat and collaboration applications.</p>
<h4>Service Workers</h4>
<p><a href="https://jakearchibald.github.io/isserviceworkerready/">Service workers are getting close</a>.  They’re available in every browser but Safari now, and Safari is working on them.  If we get another big <code>x.1</code> release of Safari like last year, they could be available for early adopters across the board within the next 6 months.  </p>
<h3>The web is moving forward together</h3>
<p>It’s fun to see this level of unified activity across the web platform over the past 2 years.  In my 7+ years of front-end development, I’ve never seen a more compatible web than the one we can develop against today.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: November 10th 2017]]></title>
            <link>https://benmccormick.org/2017/11/10/friday-links/</link>
            <guid>https://benmccormick.org/2017/11/10/friday-links/</guid>
            <pubDate>Fri, 10 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>I started this new thing last week, <em>Friday Links</em>.  There’s a <a href="https://goo.gl/forms/MwEtFrDwFWzXSRv13">feedback form</a> if you’re a regular reader and want to tell me what you think of it.  Otherwise, enjoy the links!</p>
<h3>JavaScript And The Web</h3>
<p> <a href="https://medium.com/javascript-inside/slaying-a-ui-antipattern-in-react-64a3b98242c">Slaying a UI Antipattern in React – JavaScript Inside</a> - This is an interesting case study of how to work through an architectural problem using React.  I love seeing posts like this that take real world scenarios (I deal with this case of having data that might be in one of several loading states all the time), and identify re-usable patterns for solving them.</p>
<p> <a href="https://jakearchibald.com/2017/netflix-and-react/">Netflix functions without client-side React, and it’s a good thing - JakeArchibald.com</a> - A nice look at what Netflix’s experience removing client-side react from their landing page means and doesn’t mean.  I’m going to be really curious to see how the JS community gets better at enabling fast initial experiences while still having full rich interactivity when the users need it.</p>
<h3>Programming Tools and Practices</h3>
<p><a href="https://prettier.io/">Prettier</a> - Prettier put out a new release this week and now supports Markdown as well as JavaScript, TypeScript, CSS, and GraphQL.  It has been my favorite new tool of 2017, solving a problem I didn’t know I had: the mental overhead of constantly reformatting my own code.  </p>
<p><a href="http://amzn.to/2zvm12Z">The Pragmatic Programmer - Andy Hunt &#x26; Dave Thomas</a> - Not a new book at all, but I like to recommend it at every opportunity.  It’s my favorite resource on the practice of Software Engineering and well worth checking out if you’ve never read it.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.economist.com/news/briefing/21730870-economy-based-attention-easily-gamed-once-considered-boon-democracy-social-media">Once considered a boon to democracy, social media have started to look like its nemesis - The Economist</a> - This is a wide-ranging take on the downsides of social media with a focus on it’s deleterious effects on our political systems.  If you’re on social media and/or you care about the future of politics in your place of living, it is worth a read.  </p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Improving Gatsby Blog Deploy UX]]></title>
            <link>https://benmccormick.org/2017/11/07/blog-deploy-ux/</link>
            <guid>https://benmccormick.org/2017/11/07/blog-deploy-ux/</guid>
            <pubDate>Tue, 07 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>About a year ago I switched back to using a static site generator for this blog.  Specifically, I chose <a href="https://www.gatsbyjs.org/">Gatsby</a> and it has been fantastic.  It’s incredibly easy to customize and make my own, and I can do fun things like adding metadata to my posts to enable features like the “read next” list at the bottom of each post, and the “most popular” posts feature that is actually generated from google analytics data.  The biggest downside of using a static site generator relative to a hosted service though is the annoyance of actually posting.  I could edit or write a post to my <a href="https://ghost.org/">Ghost</a> blog from anywhere, which was a real perk of using that platform.  Until recently I was only able to deploy this site from a single computer, because I needed an API key for Google Analytics to be available.  That has been mostly fine, since I usually work on posts for this site over the course of a few days.</p>
<p>But last week I decided to start aiming for <a href="https://benmccormick.org/2017/11/03/friday-links/">weekly shorter linklog posts</a>, and that meant having a bit more flexibility with my deploys.  So this week I did 2 things: I set up a <a href="https://travis-ci.org/">Travis CI</a> job to auto-deploy my app when changes hit the master branch, and wrote an initial version of a CLI for managing the blog.  The first version just helps me write out a templated new post.  My setup is pretty tailored to this blog, but I thought it’d be helpful to share, and maybe inspire some folks looking to do the same thing for their static site.</p>
<h3>Travis CI</h3>
<p>Travis is a continuous integration environment that is free for open source.  I had used it very minimally for some open source projects, but never to deploy anything so I had to learn about the <code>deploy</code> option travis provides.  In the end my <code>.travis.yml</code> file was pretty simple and looked like this:</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>language: node_js
node_js:
- '8'
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/deploy.sh
  on:
    branch: master
env:
  global:
  - ANALYTICS_KEY=./analytics-api-key.json
  - secure: r43TdsxdDrqYtmZiBmBSe+7u0UBdepMWAYmpTGzGJoAt9p0z+CxcR9ZIj4uMPvBtO3n1wcEvylWcmmY6smu57uXNPhQpyYJaw6HlnfKrz5GjRVX6Ti6oDm8Yyhha1IlcS73dJTpApFis30Kv7fsfDvpNcvVxpF1eDUlw2UAYCwI=
before_install:
- openssl aes-256-cbc -K $encrypted_dd5d287df7ed_key -iv $encrypted_dd5d287df7ed_iv
  -in analytics-api-key.json.enc -out analytics-api-key.json -d</code></pre>
      </div>
<p>Breaking that down a bit:</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>language: node_js
node_js:
- '8'</code></pre>
      </div>
<p>I’m using node for this project and I want to deploy on node 8, so these lines just make sure I have that environment available.</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>deploy:
  skip_cleanup: true
  provider: script
  script: scripts/deploy.sh
  on:
    branch: master</code></pre>
      </div>
<p>I’ve bundled my deploy steps into a script, <code>deploy.sh</code>.  This config tells travis to run the script after my (currently non-existent) tests have completed, and not to remove any built files before starting the deploy.  It also makes it clear that this should only happen for changes to the master branch.</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>env:
  global:
  - ANALYTICS_KEY=./analytics-api-key.json
  - secure: r43TdsxdDrqYtmZiBmBSe+7u0UBdepMWAYmpTGzGJoAt9p0z+CxcR9ZIj4uMPvBtO3n1wcEvylWcmmY6smu57uXNPhQpyYJaw6HlnfKrz5GjRVX6Ti6oDm8Yyhha1IlcS73dJTpApFis30Kv7fsfDvpNcvVxpF1eDUlw2UAYCwI=
before_install:
- openssl aes-256-cbc -K $encrypted_dd5d287df7ed_key -iv $encrypted_dd5d287df7ed_iv
  -in analytics-api-key.json.enc -out analytics-api-key.json -d</code></pre>
      </div>
<p>This section looks messy, but its all about the environment variables I need for deploying.  Specifically I’m pulling in a github key for deploys (thats the secure key), and then also pulling my google analytics key from a json file.  The JSON file is stored as an encrypted file in the directory with a key that only Travis can decrypt.  Then I use a public environment variable to tell my deploy script where to look up the file.  That allows me to set a different path locally and still have local deploys work even though I can’t decrypt the checked in JSON file.</p>
<h3>CLI</h3>
<p>I’ve started with an extremely basic CLI using <a href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js</a>.  It asks me a series of questions and then generates a markdown doc with the appropriate YAML headings.  Inquirer.js, lodash, and ES6 template strings make this super easy.  It looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/map'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> find <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/find'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> mkFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../src/utils/file_system'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> categories <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../src/pages/categories.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>categories<span class="token punctuation">;</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> dates <span class="token operator">=</span> <span class="token punctuation">{</span>
  Today<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Tomorrow<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">'Two Days From Now'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string">'Three Days From Now'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

inquirer
  <span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'type'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What Type of Post is this'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Post'</span><span class="token punctuation">,</span> <span class="token string">'Page'</span><span class="token punctuation">,</span> <span class="token string">'Friday-Links'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> val <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the title be?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Title can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'description'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the description say?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Description can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'key'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the post key be?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Key can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What Category of post is this'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token function">map</span><span class="token punctuation">(</span>categories<span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> title <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>categories<span class="token punctuation">,</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'tags'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'Write out any tags you want to use'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'When is this going to be posted'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token function">map</span><span class="token punctuation">(</span>dates<span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> key<span class="token punctuation">)</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> key <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dates<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>answers <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> postDate <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>answers<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'days'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> year <span class="token operator">=</span> postDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> formattedDate <span class="token operator">=</span> postDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY/MM/DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mkFile</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token string">`/src/pages/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.md`</span></span><span class="token punctuation">,</span>
      <span class="token template-string"><span class="token string">`---
title: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
date: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>formattedDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
layout: "post"
path: "/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>formattedDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/"
description: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>description<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
keywords: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>tags<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
category: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>category<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
key: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
readNext: "ten-things-js,favorite-interview,jest-matchers-1"
---

    `</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Inquirer makes it really nice to gather up all the information, then I use a utility I’ve already written to dump it in a file.  I want to do a bunch more here in the future here, starting by giving this script the ability to read and parse my existing posts, which will let me enforce uniqueness on names and keys, as well as offer autocomplete on the readNext column, which I’ve left hardcoded for now, since its hard to type free form.  There’s more to come here, and you all may feel free to steal and remix anything you find useful for your own blogs here.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: November 3rd 2017]]></title>
            <link>https://benmccormick.org/2017/11/03/friday-links/</link>
            <guid>https://benmccormick.org/2017/11/03/friday-links/</guid>
            <pubDate>Fri, 03 Nov 2017 04:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>Today marks the start of a new thing I’m trying with this blog: <em>Friday Links</em> (<strong>Edit: Since renamed to Weekly Links</strong>).  Every Friday I’m going to be gathering some of the best links and content I’ve found that week and sharing it here.  It will be primarily but not completely programming focused, with minimal commentary. Some weeks it may be 2-3 links, some weeks it may be 10, but I’m going to give it a run at making this a true weekly feature.  </p>
<p>If you’re a regular reader (or not) and you have feelings about this, feel free to fill out this <a href="https://goo.gl/forms/MwEtFrDwFWzXSRv13">survey</a> and let me know what you think.  I’m still working through how this should work, though eventually it will almost definitely get integrated into the site as a different type of post than my main articles.  </p>
<p>Without further ado, here are this week’s Friday links:</p>
<h3>JavaScript And The Web</h3>
<p><a href="https://blog.kentcdodds.com/effective-snapshot-testing-e0d1a2c28eca">Effective Snapshot Testing – Kent Dodds</a> - This is a great set of practical tips for using snapshot testing well with Jest.  I’m guilty of sometimes making really large snapshots, and as he says here, I’ve found those tests to be useless because the diffs cause eyes to glaze over.</p>
<p><a href="https://mobiforge.com/news-comment/safari-service-workers-and-other-pwa-good-news-stories">Safari service workers and other PWA good news stories - mobiForge</a> - I’ve never been a big fan of the PWA terminology.  It smells very “marketing-y” to me, in the sense of the word that engineers use as an insult.  Exactly what people mean by a Progressive Web App seems hard to pin down and contextual.  Is it about the technologies used?  The user experience? Is it just that it is installable on phones? Is there a clear checklist that you can check against to see if something is a PWA?  In any case, I am a fan of many of the trends and technology that are getting pushed under the PWA banner, so this article, which discusses how the underlying technologies are being adapted in different places, is indeed good news from my point of view.</p>
<h3>Programming Tools</h3>
<p><a href="https://stackoverflow.blog/2017/10/31/disliked-programming-languages/">What are the Most Disliked Programming Languages? - Stack Overflow Blog</a> -  To be honest, I don’t totally buy the premise of this post.  I don’t think people always list their most disliked languages as the languages they don’t want to work with on Stack Overflow, I think they also list the languages or technologies that people might expect them to work with, but they don’t want to.   Like PHP or CoffeeScript for a web developer, or SQLServer for a DBA. Thats acknowledged but not fully grappled with in the article.  That said, it’s still an interesting dataset, no matter how you label the languages that are being excluded.  </p>
<p><a href="https://pragprog.com/book/modvim/modern-vim">Modern Vim - Drew Neil</a> - Drew Neil’s first book,<a href="http://amzn.to/2h7tQp3">Practical Vim</a>, was my introduction to useful text editing.  I’ve moved off of Vim for my day to day editing over the last few years, but I still plan on buying this book when it goes paperback, because I know I’ll learn at least a few useful tips, and it’s totally possible I’ll be back to Vim as my day to day editor again someday soon.  If you’re a Vim user I definitely recommend checking this out.</p>
<p><a href="https://wynnnetherland.com/journal/extending-the-command-line/">Extending the command line - Wynn Netherland</a> - This is a nice roundup of the various ways you can customize your command line commands to aid in recall, reliability and efficiency.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.nytimes.com/2017/10/30/opinion/when-politics-becomes-your-idol.html?_r=0">When Politics Becomes Your Idol - The New York Times</a> - I thought this was an extremely insightful take on the current state of my country’s relationship with politics.  How many of us are looking to politics for solutions to problems and seeing it demand more and more for fewer and fewer results?  </p>
<p><a href="http://amzn.to/2ipypHO">The Tech-wise Family - Andy Crouch</a> - This is a book that is to some extent written for Christians and to some extent written for parents<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, but I think that it has a lot to offer anyone who has a sneaking suspicion that the tech in their life, while helping with many things, is also distracting them from things that are more valuable.  This book was the most challenging thing I’ve read this year, and I highly recommend it.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>I am a Christian, I am not yet a parent.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[How To Give A Perfectly Adequate Conference Talk]]></title>
            <link>https://benmccormick.org/2017/10/29/adequate-talks/</link>
            <guid>https://benmccormick.org/2017/10/29/adequate-talks/</guid>
            <pubDate>Mon, 30 Oct 2017 02:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>Tech talks at conferences or meetups generally end up being experienced in one of 4 ways by audience members.</p>
<ol>
<li>It’s a disaster, and that leads to <strong>rage</strong>.</li>
</ol>
<blockquote>
<p>This person is not just wasting my time, I don’t even understand what he’s trying to tell me.  Is this a talk about Vue or just him telling his life story?</p>
</blockquote>
<ol start="2">
<li>The talk is executed just fine, but it misses the mark in some way for the audience, leading to <strong>boredom</strong>.</li>
</ol>
<blockquote>
<p>The first 5 minutes seemed ok, but it didn’t catch my attention, and now I’ve been on Facebook for 20 minutes and woah are we already wrapping up?  I don’t really know how Vue relates to my work.  </p>
</blockquote>
<ol start="3">
<li>The talk is perfectly adequate, and the audience leaves with some new and useful <strong>knowledge</strong>.</li>
</ol>
<blockquote>
<p>That was really interesting, I’ll have to check out Vue soon, it sounds like it would really help me write more maintainable web apps.</p>
</blockquote>
<ol start="4">
<li>The talk is incredible and memorable.  It leads to <strong>inspiration</strong>.</li>
</ol>
<blockquote>
<p>Wow I’m looking at web development in a whole new way now.  This really changes how I think about my job!</p>
</blockquote>
<p>I have no idea how to give a talk that inspires people.  But after speaking a decent amount over the last few years, I’ve figured out what helps me give talks that can inform most people, and avoid having people leave bored or enraged.  I want to share what I know, because the truth is that giving a talk at a conference or meetup can be fun and rewarding, and I would love it if you too got the chance to enjoy that.  So here are my tips:</p>
<h2>The Pitch</h2>
<h4>1. Show up!</h4>
<p>The only way to give a talk that will interest and inform other people is to actually attempt it.  If you live in a place that has meetups, those are often the easiest place to start.  They’re usually run by 1 or 2 people who are going to be grateful to find new folks who are willing to speak. Depending on format, you may be able to give a 5 or 15 minute talk along with other speakers at a meetup to ease into things.  If there’s no meetup, you can also apply to conferences.  Almost all conferences have open “Call for Papers” periods where they invite applications, and many of them try to save some spots for new speakers.  Conference speaking is more of a crapshoot though, since they often have many applications for few spots, and your best bet is to apply widely, and possibly suggest several different talk ideas.  This year I applied to speak at 6 conferences, and actually spoke at 2, and that was by far my best ratio since I started applying to speak a few years ago.  </p>
<h4>2. Pick a topic that you’re interested in</h4>
<p>Giving a talk can be a fun experience, but it can also be frustrating for both you and the audience.  The best way to suck all of the joy out it is to give a talk about something that you don’t care about.  If you’re uninterested in the topic, the work to prepare is either going to be a painful grind, or you won’t do it.  In which case sitting through your talk may well be a painful grind for your audience.  </p>
<p>Note that I don’t say to pick a topic you’re passionate about.  Not every talk is going to be the pinnacle of your speaking career, and sometimes there may be nothing out there that is currently changing your life.  You can really help people by sharing the useful, interesting information you have, and this doesn’t need to be more than that.</p>
<h4>3. Pick an audience for whom that topic is relevant</h4>
<p>So you have a talk topic, and that’s great, but does your topic make sense for the people you’re speaking to?  Sometimes when you start speaking you may pick a topic before you’re sure where you’re going to give the talk, other times you may have a place you want to speak, and you need to pick a topic for it.  Either way, make sure that you end up with a topic and an audience that match.  If you’re talking to a group of beginner web programmers, a deep dive into the Rust memory model might not be the best choice.  If you’re speaking to veteran python programmers, a talk about the basics of object oriented programming might miss its mark.  </p>
<p>Sometimes you may not know your audience exactly.  This is especially true for speaking at large multi-track conferences, where there may be developers (and/or non-developers) from a variety of backgrounds.  In this case, you’ll still want to pick the audience you want to target (some subset of the group you know may be there), and then make sure to do a good job of following point #6 below.</p>
<h4>4. Pick a “main takeaway” for your audience</h4>
<p>It’s not enough to just have a topic and audience that generally match.  You’re also going to want to know what you want the audience to get out of it.  Talking about “debugging” to a JavaScript audience could be a good talk, but do you want them to learn</p>
<ul>
<li>how to use Chrome devtools to find performance bugs?</li>
<li>a repeatable step by step workflow for figuring out any bug?</li>
<li>a story about how you solved a specific bug?</li>
</ul>
<p>Unlike the “topic”, the takeaway should be pretty specific.  Given the audience that you’re targeting, what piece(s) of new information do you want them to receive as they walk away from your talk?</p>
<h4>5. Pick a talk format</h4>
<p>There are a few main formats that most tech talks fall into:</p>
<ul>
<li>Present a problem, describe several possible solutions (possibly recommending one)</li>
<li>Present a tool, explain what problems it solves and give examples of using it</li>
<li>Present an idea or way of looking at things, and show how it applies in different situations</li>
<li>Tell your story. Explain how a certain technology, idea, or problem in the tech community has affected your life.</li>
</ul>
<p>All of these formats can work, for a first talk I’d recommend one of the first 2, keeping things concrete and making it easier to get to that “main takeaway”.  </p>
<h4>6. Write a description that tells your audience what to expect</h4>
<p>The final step of putting together a pitch is writing a description that accurately lets attendees know what to expect.  A great title and description do a few things.  </p>
<ul>
<li>You actually have something to submit to a meetup organizer or a conferences call for papers.</li>
<li>A good description helps ground you as you prepare the content of the talk.  You can look at your slides and see if you’re actually focusing on the things you wanted to communicate<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.  </li>
<li>A well written title and description will help attract your target audience to your talk.  If you’re giving a talk for beginners or advanced users, or users of a particular technology, make sure that’s clear in the description.  People go out of their way to go to talks where they know they’re the target audience, and nothing kills the mood of a talk than a situation where the talk isn’t relevant to most of the audience.  </li>
</ul>
<p>Note that in general, a good description matters more than the exact title of the talk, but if you’re at a multi-track conference, make sure to give a descriptive title, as conferences will often only include the talk name in their schedules, without a top-level description.  Naming your talk about the creative uses of Golang “Go-ing Crazy” is fine for a Go meetup, but if people are going to be choosing what session to attend based on your talks name, something more descriptive would be nice, even if it has a little less personality.</p>
<h2>The Preparation</h2>
<h4>7. Have slides</h4>
<p>I’ve seen some amazing live-coding talks.  I’ve given one myself at a meetup.  There is definitely a place for them, as well as for minimally visual talks with 2-3 slides.  But if you’re aiming for informative, structuring your talk around a good slide deck is your best bet.  </p>
<p>Slides shouldn’t have too much information: they’re the backbone of your talk, and aren’t meant to stand alone<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.  Instead, they provide structure both for you and the audience as you move through your presentation.</p>
<h4>8. Have a talk track</h4>
<p>Slides are good, but they’re just the start.  You need a talk track that is more than just “reading off my slides”.  To feel really well prepared for a talk, I usually write out a complete script for the talk that I intend to follow, and then edit that after several practice run throughs.  For the actual talk I usually boil most of that script down to bullet points to keep me focused.  There will be some experimentation needed there to figure out what works best for you.</p>
<h4>9. Make sure your A/V setup works!</h4>
<p>I was reminded just last week about the importance of testing that you can give your talk in the venue you’re speaking at with the equipment you have as early as possible.  I was forced to give a talk last week on my manager’s laptop after mine failed to connect to the venue’s projector.  It ended up being a dumb problem on my side that I could have solved if I’d verified my setup earlier and had more time to figure things out.  So that’s my a/v setup parable.  The things to remember here:</p>
<ul>
<li>Show up early and test your setup if at all possible (event organizers are usually happy to help with this and may insist on this)</li>
<li>Bring your own adapters.  In the US, at least be ready to connect to HDMI and VGA.  I can’t speak to what might be common internationally, but at the very least it’s good to be paranoid</li>
<li>Make sure to bring a power cable.  Your slides going black in the middle of your talk is not a good look.</li>
</ul>
<h2>The Delivery</h2>
<h4>10. Have notes</h4>
<p>So now it is time to actually give your talk.  Make sure to bring notes.  Most presentation software programs like Powerpoint and Keynote have nice built in presenter note features for this (make sure to practice setting it up so that you see the notes and the audience just sees the slide). You also can just use paper notes in a notebook. Notes are important to keep you on track in case you freeze, and may be something you just want to read for portions of the talk.  </p>
<p>Here again you have several choices for how to handle notes:</p>
<ul>
<li>You can read your talk from a script. This lowers your ability to connect with your audience, but it is low risk, and you’ll guarantee that you’ll hit the content you intend to.  As a native english speaker, I probably underrate this a bit too.  If you’re presenting in a second language and reading can help you confidently deliver the material, it may be worth doing so.  </li>
<li>You can work off of bullet point notes, which were ideally pulled out of a full script that you wrote originally.  So you’re talking naturally, with some notes to give you structure and help pull you back in if you’re fumbling around.  </li>
<li>You can memorize your talk verbatim.  This is hard and high risk (if you forget something it can become an awkward stumble as you try to get back to your script), but has a chance at being a very compelling experience</li>
</ul>
<p>I have found that bullet point notes work well for me, but if you’re great at memorizing things, or would be more comfortable reading and are ok with sacrificing some connection to the audience, all 3 can work.  </p>
<h4>11. Give context and set expectations (again)</h4>
<p>At the start of your talk, you want to answer 3 questions:</p>
<ol>
<li>Who are you?</li>
<li>Who is this for?</li>
<li>What are you going to be talking about?</li>
</ol>
<p>You may think you answered these questions with your description, but there will definitely be people at your talk who didn’t read your description, and others who misread it.  Giving context at the beginning of your talk helps people prepare to hear the things that matter in your talk.  If this is a conference, it lets people decide whether they want to stay for your talk or not.  Don’t be discouraged if some people walk out of your talk after your explanation.  That’s a sign that you’ve done a good job clarifying the scope of your talk, and honoring their time. Having those folks leave now will be a much better experience than having them staring at Facebook and distracting others through out your talk, and it is now more likely that the people in front of you are the audience you wanted to address.</p>
<h4>12. Be Confident and Grateful</h4>
<p>When you know your topic and you’ve prepared well, the actual speaking part will usually end up being the easiest part.  So be confident.  Not because you’re already a great speaker, or because of some feeling of baseless optimism, but because you’ve done the work to be ready and you have the structure around you to succeed.  Also make sure to be grateful.  A bunch of people showed up to hear you speak.  Appreciate them, give them your best and hopefully try to answer their questions.  Speaking is a great opportunity, and I hope you get the chance to try it.</p>
<h3>More Resources</h3>
<ul>
<li>Rands has a <a href="http://randsinrepose.com/archives/out-loud/">great post</a> on preparing for a presentation.  Lots of great little details in there.</li>
<li><a href="https://www.papercall.io/events">Papercall.io</a> is a great way to find conferences that are looking for speakers</li>
<li>If you’re not already connected with local meetup/interest groups, take a look at <a href="https://www.meetup.com/">Meetup.com</a> and see if there are any in your area.</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>It’s ok to change your description later if things change as you prep the talk.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>People will often ask for the slides of my talk after I give them.  I usually link them, since people ask, but the slides on their own really aren’t a substitute for the talk (and if they are informative to that level, the talk will probably suffer as the audience tries to take in too much information).</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Taking Advantage of Jest Matchers (Part 2)]]></title>
            <link>https://benmccormick.org/2017/09/04/jest-matchers-2/</link>
            <guid>https://benmccormick.org/2017/09/04/jest-matchers-2/</guid>
            <pubDate>Tue, 05 Sep 2017 03:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p><em>This post continues my look at Jest matchers from <a href="https://benmccormick.org/2017/08/15/jest-matchers-1/">Part 1</a>.</em></p>
<p>In part 1 I covered the first 4 types of Jest matchers.  In this post I’m going to cover <em>contains</em> matchers, <em>async</em> matchers, <em>snapshot</em> matchers, <em>function</em> matchers and <em>meta</em> matchers, as well as looking at a few extra tips and tricks for using matchers.</p>
<h3>Contains Matchers</h3>
<p>Contains matchers are exactly what they sound like.  They’re matchers that check to see if an array contains an item or if a string contains a substring.  </p>
<h4>toContain and toContainEqual</h4>
<p><code>toContain</code> and <code>toContainEqual</code> both check to see if a value is contained inside of an array or string.  When used against a string, they are both equivalent and check to see if a passed string is a substring of the expression being tested.  This means they serve as a more limited version of <code>toMatch</code> that will only take a substring and not a regex.  When used against an array or array-like object, <code>toContain</code> looks for matches using strict equality while <code>toContainEqual</code> looks for matches using recursive equality<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.  In practice that looks like</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// toContain does exact matches</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> length<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token regex">/a/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token string">'bc'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token string">'cd'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token string">'bc'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

<span class="token comment" spellcheck="true">// toContainEqual does recursive matches</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContainEqual</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token string">'bc'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token string">'cd'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContainEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token string">'bc'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<h3>Async Matchers</h3>
<p>Async matchers handle testing functions that have an asynchronous component.  We’ll look at <code>resolves</code> and <code>rejects</code> for testing Promises.  But first, it is worth noting that any matcher can be used for asynchronous testing if necessary.  You just have to use the callback option that is passed to each test function, like so:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Delayed Test'</span><span class="token punctuation">,</span> done <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> delayedEval <span class="token operator">=</span> condition <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">delayedEval</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>Jest detects whether the <code>done</code> callback has been defined for the function, and if it is waits for 5 seconds to see if <code>done</code> is called before failing, and evaluates any
asynchronous expects that occur before then.  This behavior is inherited from Jasmine, and works ok, but can be a bit difficult to work with.  Jest makes this easier in 2 ways.  First with a set of special matchers for working with promises, and second with a set of meta matchers that can make async tests more reliable.  We’ll get to the meta matchers in a second, but first we’ll look at the promise matchers.</p>
<h4>.resolves, .rejects</h4>
<p><code>resolves</code> and <code>rejects</code> are chaining matchers like <code>not</code> that let you write async tests with Promises.  Using <code>resolves</code> to rewrite the previous example looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Delayed Test with promises'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> testPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> rej<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>testPromise<span class="token punctuation">)</span><span class="token punctuation">.</span>resolves<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>This waits for the promise to resolve, and then compares the resolved output with <code>toBe</code>.  If a rejection is expected, you can replace <code>resolves</code> with <code>rejects</code> for a similar test. This ends up being much clearer in my opinion than the callback-based async tests, since the assertion is much more direct, and you don’t have to worry about cases where <code>done</code> might not be called where it should be.</p>
<h3>Meta Matchers</h3>
<p>Meta matchers pair well with the <code>done</code> async matchers above, if you have to use them.  They just let you test that all of your assertions have actually run. The first one, <code>expect.assertions</code> tests that a specific number of assertions have been run at that point in the test.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'records have a name and an ID'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    expect<span class="token punctuation">.</span><span class="token function">assertions</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// true</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'fullName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    expect<span class="token punctuation">.</span><span class="token function">assertions</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>This can be useful for async tests to make sure things have run correctly before calling <code>done()</code>, for tests with conditional logic to make sure that the logic played out as expected, and for normal tests as an extra paranoid quality check to make sure that tests aren’t accidentally deleted.</p>
<p><code>expect.hasAssertions</code> is just a simpler version of this test that checks that you’ve asserted something in the test.  It’s useful for the same things as <code>expect.assertions</code> but will be a little less reliable and also a bit less fragile when tests change.</p>
<p>Note that neither <code>expect.assertions</code> nor <code>expect.hasAssertions</code> count as assertions themselves and don’t contribute to the assertion count.</p>
<h3>Snapshot Matchers</h3>
<p>Snapshot testing is one of Jest’s signature features.  It’s been described in depth in many other places, including <a href="https://benmccormick.org/2016/09/19/testing-with-jest-snapshots-first-impressions/">on this blog</a>.  If you’re unfamiliar with snapshot testing, I recommend checking out one of those deeper posts.  But at a high level, snapshots are an assertion that data has remained the same since the last time a test was run.  Jest has serializers for a bunch of built in data types and React components. But it’s possible to define serializers for different data types to determine how that data should be represented in a snapshot.  </p>
<p>The core snapshot function, <code>toMatchSnapshot()</code> is fairly simple to explain. When run the first time, <code>toMatchSnapshot</code> takes the string representation of the data passed to it (generated by whatever serializer is used for that data type) and writes it to a snapshot file.  After the snapshot has been written once, future runs of <code>toMatchSnapshot</code> behave differently.  If Jest is run normally, <code>toMatchSnapshot</code> compares the serialized data to the value in the snapshot file, and fails the test if they are different.  If Jest is run with the <code>-u</code> option, it will instead update the snapshot file with the current serialized value.  This behavior lets us write tests that don’t have a pre-defined “correct value”, instead we can use our test cases to see what has changed, and choose to accept it or not.</p>
<h4>toThrowErrorMatchingSnapshot</h4>
<p>In addition to <code>toMatchSnapshot</code>, Jest offers a second snapshot matcher, <code>toThrowErrorMatchingSnapshot</code>, which catches errors and verifies that they match a snapshot, similar to the <code>toThrow</code> matcher I described in part 1.</p>
<h3>Function Matchers</h3>
<p>One of Jest’s nicer features is its function mocking system.  A full discussion of function mocking is outside the scope of this post, but suffice it to say that you can create “tracked” functions in Jest.  The following matchers work with those tracked functions to verify behavior, using an example of a function that takes another function and calls it with the given arguments.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> executeFn <span class="token operator">=</span> <span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
</code></pre>
      </div>
<h4>toHaveBeenCalled, toHaveBeenCalledTimes</h4>
<p>The most basic matcher when dealing with functions is <code>toHaveBeenCalled</code>.  It works more or less how it sounds, and determines whether a function has executed during the test.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'does executeFn run the function passed to it?'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> fn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">executeFn</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>Jest also has a related matcher, <code>toHaveBeenCalledTimes</code> which lets you specify how many times a function has been called.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'does executeFn run the function passed to it only once?'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> fn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">executeFn</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h4>toHaveBeenCalledWith, toHaveBeenLastCalledWith</h4>
<p>Sometimes you don’t just want to know if a function was called, but want to make sure that it was called with the right arguments.  Jest has you covered.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'does executeFn run the function with the passed arguments'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> fn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">executeFn</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p><code>toHaveBeenCalledWith</code> lets you check that the function was called with the right arguments.  You have to be careful though, if the function was called multiple times, you’re only verifying that it was called with those arguments at some point.  If you want to get more specific, you can use <code>toHaveBeenLastCalledWith</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'does executeFn run the function with the passed arguments'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> fn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">executeFn</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">executeFn</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveBeenLastCalledWith</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Bonus Content</h3>
<p>That’s all for matcher methods, but there are a few other helpful things to know about matchers that I didn’t get to work into any of the matcher categories.  So here you go:</p>
<h3>Extension Methods</h3>
<p>Jest’s expect object has 2 methods for extending what it can do: <code>expect.addSnapshotSerializer</code> and <code>expect.extend</code>.  <code>expect.addSnapshotSerializer</code> lets you add a new snapshot serializer as a one off for a specific test file. A serializer is simply an object that defines <code>test</code> and <code>print</code> methods.  You can learn more <a href="http://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string">in the docs</a>.</p>
<p><code>expect.extend</code> allows you to define custom matchers!  It takes an object with methods that define the new matchers to add.  Each method should be a function that takes the expected value as a first argument, and then expected arguments to the matcher as the rest of the arguments.  For instance, here is a matcher to see whether a string is a palindrome.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">toBeAPalindrome</span><span class="token punctuation">(</span>received<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> received <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'expected ${received} to be a string, but it was a ${typeof received}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> reversed <span class="token operator">=</span> received<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> pass <span class="token operator">=</span> received <span class="token operator">===</span> reversed<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>
          <span class="token template-string"><span class="token string">`expected </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>received<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> not to be a palindrome`</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        pass<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`expected </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>received<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to be a palindrome but it was </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reversed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> when reversed`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        pass<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Anna is a palindrome'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'anna'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeAPalindrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'ann'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeAPalindrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h3>Matcher Wildcards</h3>
<p>Several of the matchers I’ve described in these posts are focused on equality of a particular part of a structure. These include the template matchers, contains matchers, and the <code>toEqual</code> matcher.  In these cases you’re trying to say that some part of an object is equal to something else.  But sometimes you want to be a bit open-minded about part of that.  Maybe you want to ensure that an object has an <code>email</code> property that is a string with the character <code>@</code> in it , or that it has a name property defined, but that could be anything as long as its defined.  Jest has wildcards that help you do this.</p>
<ul>
<li><code>expect.any(&#x3C;constructor>)</code> lets you match any object of a specific type</li>
<li><code>expect.anything()</code> matches anything except null and undefined</li>
<li><code>expect.stringMatching(regexp)</code> matches any string that matches the regex you pass it</li>
<li><code>expect.stringContaining(string)</code> matches strings against a substring</li>
<li><code>expect.arrayContaining(array)</code> matches arrays that have a specific set of values in them</li>
<li><code>expect.objectContaining(object)</code> matches objects that have a specific set of key/value pairs</li>
</ul>
<p>Using wildcards looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'wildcard example'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expect<span class="token punctuation">.</span><span class="token function">anything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> expect<span class="token punctuation">.</span><span class="token function">arrayContaining</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h3>expect outside of Jest</h3>
<p>As I was finishing up this post, Jest 21 was released, along with the exciting news that <code>jest-matchers</code> has been renamed to <code>expect</code> and is now available as a standalone module that can be used in other test frameworks, including in the browser.  So if the matchers in these blog posts have looked appealing to you, but you have an existing test framework that you’re tied to, feel free to check it out <a href="https://www.npmjs.com/package/expect">on npm</a>.</p>
<h2>More Resources</h2>
<ul>
<li>The latest info on all of these matcher APIs is always going to be in their very readable <a href="http://facebook.github.io/jest/docs/en/expect.html">docs</a>.  Check them out for more examples and good links to a deeper dive on some of the other topics that these posts have touched on, like snapshot testing and mock functions.</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>Similar to toBe and toEqual from part 1, strict equality here means it’s the same reference and is equivalent to <code>x === y</code>, while recursive equality means the object’s are structured the same and any object with the same structure and values will be considered equal.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Taking Advantage of Jest Matchers (Part 1)]]></title>
            <link>https://benmccormick.org/2017/08/15/jest-matchers-1/</link>
            <guid>https://benmccormick.org/2017/08/15/jest-matchers-1/</guid>
            <pubDate>Tue, 15 Aug 2017 04:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>Back in May, my favorite testing library, Jest, released it’s 20th version and <a href="https://facebook.github.io/jest/blog/2017/05/06/jest-20-delightful-testing-multi-project-runner.html">rebranded itself</a> as the library for “Delightful JavaScript Testing”.  Delightful and testing are two words that usually don’t go together in the software development lexicon.  But that claim is the result of 2 years of hard work from the Jest team trying to get the usability details of testing exactly right.  One of the version 20 announcements that exemplified this commitment to detail was the addition of several new assertion APIs to an already large list. This post dives into the many matcher options in Jest, why they’re there, and how to make good use of them.</p>
<p>Assertion APIs, or matchers, are the methods that the library makes available for defining the expected value of a variable or expression.  The most basic assertion in Jest is the <code>.toBe</code> matcher, which checks to see if one value is the same as the other.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Why so many matchers?</h3>
<p>When writing tests, the only assertion api you really <strong>need</strong> is a method that takes a boolean and determines whether it is true or false.  Assuming you can figure out inspecting functions and async code, everything else can be expressed with an assert method like that:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math still works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>So why does Jest need 30+ matcher methods?  Because they allow you to be specific in your intent, and also let Jest provide helpful error messages.  For instance, when you write a test like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> getRecord <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'fullName'</span><span class="token punctuation">:</span> <span class="token string">'Ben McCormick'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'records have a name and an ID'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>it is obvious what the test is trying to check, and you can get detailed output like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="undefined"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; z-index: -1; display: block; "
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 58.94736842105264%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz62TyVKDQBiE8/4v4cWjN48+gpaJ0WyQFWIihLAOBGaIbf8kpWVOwfLQzLB99HQPne36Df5mhOBjzHGILJzCKOfP6kR3N4jvbxG6PeycLny3j/i9DxNZqNM56tjG58G9Wp06nUHvx6j8ATRlwglK7xXVbthADYF1vroeKIcqW0BTxh81rsp0wWvLZixTm7LaAVUwQbLuI108Q/ljpE4P2qNDjx8I7ZOSGY5qeR2w4LJ22y4KviSlqOg0isM2+X0D/1MN0KgVXc6QU4dkDkV3OV0W8RxRNMWGkXh7Cz6XHskK+EzBzA/MWbI+Fs4PUHIRoNzQ2cWc7ZZSjpTGuchcSGC/gOXZlbjTbFhz22hmeWp+2WwZ02bbrFcvkL8lCSxUwQjZ4AG588RzG+nebp+hbT3CJTQ75+ZtBnTl/LmUL6wpjW4P0dPsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Error output from Jest"
        title=""
        src="/static/165f7e639e1a843277420540e4ec6cf6-d766e.png"
        srcset="/static/165f7e639e1a843277420540e4ec6cf6-a6b6e.png 143w,
/static/165f7e639e1a843277420540e4ec6cf6-8e488.png 285w,
/static/165f7e639e1a843277420540e4ec6cf6-d766e.png 570w"
        sizes="(max-width: 570px) 100vw, 570px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>You get the structure of the object as it is, the name of the property that is missing, the line number and file name where you can find the assertion, all in a concise, colorful and nicely formatted test failure message.</p>
<p>You can categorize Jest’s matchers into 8 different categories: equality matchers, template matchers, numeric comparison matchers, contains matchers, async matchers, snapshot matchers, function matchers, and meta matchers.  I’ll go through the first 3 in this post, and cover the rest in a followup.</p>
<h3>Equality Matchers</h3>
<p>Equality matchers are the workhorse matchers of any test libraries.  This is where we see whether an expression evaluates to the value we expect. This being JavaScript however, equality takes a few different forms, and Jest covers each of them, along with some syntactic shortcuts.</p>
<h4>toBe and toEqual</h4>
<p><code>toBe</code>, as mentioned previously, is the simplest Jest matcher.  It is equivalent to a simple <code>===</code> statement, and verifies that the expression being tested is the same reference as the expression that it is matched against.  Since it is reference based, toBe is a good fit for numbers, strings and booleans, or for checking that an object is the exact same reference as another object.  But it’s not good for comparing two separate objects.  It behaves like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> <span class="token string">'e'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false!</span>
</code></pre>
      </div>
<p>For comparing object and array equality, it usually is better to use <code>toEqual</code>, which does a deep property comparison:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nestedObj <span class="token operator">=</span> <span class="token punctuation">{</span>nested<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>nestedObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>nested<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toEqual</code> doesn’t line up to any built in JavaScript idea of equality exactly, it just does a recursive equal check. But it behaves like most people who haven’t already encountered the details of JavaScript equality would expect equality to work.  If objects share the same structure and values, they’re equal. There also is no Jest equivalent to <code>==</code> with its odd type casting behavior, and that is ok by me.</p>
<h4>toBeDefined, toBeNull and toBeUndefined</h4>
<p><code>toBeDefined</code>, <code>toBeNull</code>, and <code>toBeUndefined</code> are all shortcut functions.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(x).toBe(null)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(typeof x).not.toBe('undefined')</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>One thing worth pointing out here is the use of <code>.not</code> in my example comment.
<code>.not</code> is a utility property that you can chain to reverse the output of
any matcher.</p>
<h4>toBeFalsy and toBeTruthy</h4>
<p>These matchers essentially are shortcuts that act like <code>if</code> and <code>else</code> statements.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token comment" spellcheck="true">// same as expect(!!x).toBe(true)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// same as expect(!!x).toBe(false)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<p>If you aren’t aware of the JavaScript concepts of truthiness and falsiness, the terms refer to whether a value is evaluated as true or false when evaluated in a boolean context.</p>
<h3>Template matchers</h3>
<p>Template matchers are matchers that don’t check for a specific value, but instead look to see if the expression is consistent with a certain pattern or shape.</p>
<h4>toMatch</h4>
<p><code>toMatch</code> is a template matcher for strings.  It accepts a regular expression that
you can use to describe the acceptable list of strings.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> id1 <span class="token operator">=</span> <span class="token string">'155-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> id2 <span class="token operator">=</span> <span class="token string">'15-60-7723'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> socialSecurityNumberFormat <span class="token operator">=</span> <span class="token regex">/\d{3}-\d{2}-\d{4}/</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>id2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span>socialSecurityNumberFormat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
</code></pre>
      </div>
<h4>toMatchObject and toHaveProperty</h4>
<p><code>toMatchObject</code> and <code>toHaveProperty</code> are template matchers for objects. <code>toMatchObject</code> works similarly to <code>toEqual</code> and does a deep comparison on objects and arrays.  But unlike <code>toEqual</code>, <code>toMatchObject</code> doesn’t require an exact match, it just verifies that the expression has the same properties as the template object.  So extra properties on the expression we’re evaluating don’t matter.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> uno<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> performs a similar function but doesn’t enforce the whole structure of an object.  Instead it just tests whether a single property is defined.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<p><code>toHaveProperty</code> can take a second “value” argument, at which point it acts as a more limited version of <code>toMatch</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> oneObj <span class="token operator">=</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span>oneObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
</code></pre>
      </div>
<h4>toHaveLength</h4>
<p><code>toHaveLength</code> is a simple matcher for checking the length of strings, arrays and any other array-like object that has a length property.  <code>expect(x).toHaveLength(y)</code> is just a shorthand for <code>expect(x.length)</code> with the benefit of handling undefined values of <code>x</code> safely.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'From'</span><span class="token punctuation">,</span> <span class="token string">'The'</span><span class="token punctuation">,</span> <span class="token string">'Other'</span><span class="token punctuation">,</span> <span class="token string">'Side'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<h4>toBeInstanceOf</h4>
<p><code>toBeInstanceOf</code> allow’s checking the “type” of an object to see if it is an instance of a class, including inherited classes.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'We can test whether an object is an instance of a class'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true because of inheritance</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeInstanceOf</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>toThrow</h3>
<p><code>toThrow</code> is a bit of a different template matcher, because rather than matching a value, it matches against an exception.  <code>except()</code> takes a function, and instead of evaluating that function, it executes the function and looks to see if an exception is thrown. If there is an exception, <code>toThrow</code> can take a string, regex or Class and acts like either <code>toMatch</code> or <code>toBeInstanceOf</code> depending on what it is passed.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'We can match exceptions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> throwingFunc1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">SpecialError</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> throwingFunc2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SpecialError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token string">'err'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token regex">/err/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>throwingFunc2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>SpecialError<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Numeric Comparison Matchers</h3>
<p>Numeric comparison matchers are straightforward.  They test whether a number relates correctly to another number.</p>
<h4>toBeGreaterThan, toBeGreaterThanOrEqual, toBeLessThan, toBeLessThanOrEqual</h4>
<p>These are exactly what they sound like.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
      </div>
<h4>toBeCloseTo</h4>
<p>This test checks whether a number is the same as another number within a set number of significant digits.  <code>toBeCloseTo</code> takes a number and an optional second option that determines the number of significant digits, then tests whether an expression is the same as that number within that number of significant digits.  This is useful in JavaScript since <a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">floating point math is not precise and 0.1 + 0.2 famously does not equal 0.3 exactly</a>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Floating Point Math Is Hard'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//true</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
      </div>
<h3>Part 2 Coming Soon</h3>
<p>There’s a lot to cover here, so check back soon for part 2 of this post, with contains matchers, async matchers, snapshot matchers, function matchers, meta matchers, and a few extra tricks for using matchers.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[My Favorite Interview Question]]></title>
            <link>https://benmccormick.org/2017/07/24/my-favorite-interview-question/</link>
            <guid>https://benmccormick.org/2017/07/24/my-favorite-interview-question/</guid>
            <pubDate>Mon, 24 Jul 2017 11:45:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>I have a favorite question to ask in interviews for web developers.</p>
<blockquote>
<p>“How does the internet work?  In other words, when I open a browser and enter a url then hit enter, and a website shows up on my screen what can you tell me about what is happening?”</p>
</blockquote>
<p>Usually I get one of a few responses:</p>
<h4>1. The clueless shrug</h4>
<blockquote>
<p>Uh….  ¯\_(ツ)_/¯  </p>
</blockquote>
<p>Some people have no idea what to do with the question.  Things get awkward. This is mostly for junior positions but still isn’t the best sign.  Sometimes a few prods will get things back on track.</p>
<h4>2. The bare minimum</h4>
<blockquote>
<p>It is asking a server for the site and the server sends you the site.    </p>
</blockquote>
<p>Some people can give a very basic response, but don’t give a lot of details.  This again mostly corresponds to less experienced devs and can be fine as a starting spot with some follow-up questions.</p>
<h4>3. The CliffNotes</h4>
<blockquote>
<p>Your browser sends an HTTP request which gets routed through a local modem/router and gets sent to a name server for its url extension.  That name server routes the request to the correct IP address, which will resolve to some sort of web server.  That server will serve up either some static files, or run some backend code in order to generate a resource (probably an html page).  When the HTML page is returned, your browser will parse it, which will likely generate more requests, and the cycle will repeat.  </p>
</blockquote>
<p>Some people know how some of this works, maybe with a few hazy areas and can explain it in a reasonably straightforward way.  An explanation like this is a great start.</p>
<h4>4. The Geek-out</h4>
<blockquote>
<p><Some variation on the previous answer... followed by:> Let me tell you all about my in depth knowledge of &#x3C;HTTP<em>network routing</em>JavaScript parsing/TCP/other related topic>  </p>
</blockquote>
<p>Some people dive in and explode with information.  </p>
<h3>So why is this a good interview question again?</h3>
<p>So which answer is best?  The geek-out right?  Well… its great when somebody gets there, but in my mind this question is more about the journey than the destination.</p>
<p>It’s pretty easy to make the case that this is a pretty bad interview question.  It’s not clear what the expected answer is.  When I ask it in junior dev interviews, they often don’t have much of a clue how to answer it.  And it’s not strictly answerable in full detail by pretty much anyone.  But I’d argue that those things actually end up being strengths.  I like this question for 5 reasons.</p>
<ol>
<li>
<p><strong>It tests the candidate’s ability to deal with ambiguity.</strong>  The question is intentionally vague and open ended.  Am I just looking for a perfunctory response like “it gets a resource from a server”?  Do I want a deep dive into how DNS works?  It’s ambiguous.  Candidates can respond to that ambiguity in one of a few ways.  </p>
<p>They can freeze because they’re afraid of saying the wrong thing.  </p>
<p>They can ask a clarifying question.  </p>
<p>They can make a guess at what I want and start going down that road, while reading my reaction to see if they’re still on track.  </p>
<p>Or they can decide they know what I want (or what they want to tell me) and shoot off like a rocket (potentially for a very long time).</p>
<p>This is super useful information in an interview because developers deal with ambiguity all the time.  When a candidate encounters unclear requirements from a product manager, or unclear documentation from another developer, it’s good to have an idea how they’ll respond<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p>
</li>
<li>
<p><strong>It tests the breadth of a candidates knowledge.</strong> - For the most part, when I interview people, I ask them questions about the role they’re applying for:  Front-End Dev, Backend Dev, QA Engineer, etc.  But this question gives a candidate the chance to show that they understand what’s happening up and down the web stack from the code they interact with the most.</p>
</li>
<li>
<p><strong>It gives the candidate a chance to explain a complex technical topic.</strong> - In my mind, good communication ability is the most important skill for a developer once they’ve achieved a minimum level of technical competence.  Being able to talk about problems and solutions clearly and explain them to a variety of audiences matters, and it matters a lot.  Can the candidate summarize a complex technical topic without getting bogged down in details?  Are they communicating with me (verbally or otherwise) to make sure I’m following their explanation?  Or are they fading off into a rambling run-on explanation of a trivial detail without any big picture context?</p>
</li>
<li>
<p><strong>It forces the candidate to confront something they don’t know.</strong> - The internet is a perfect example of the Isaac Newton quote about <a href="https://en.wikipedia.org/wiki/Standing_on_the_shoulders_of_giants">standing on the shoulders of giants</a>.  It is the culmination of 50+ years of research and work on networked computer systems.  No candidate I interview for a web development position is going to understand every detail of how it works, because you can always go a layer deeper in the stack or afield into crazier edge case behavior.  So at some point in questioning (possibly very early), this question exhausts every candidate’s knowledge.  The question is how do they react?  Some candidates start guessing at things.  Some admit they don’t know.  Some try to skirt around areas they don’t feel confident in and work at avoiding any questions where they would have to admit they don’t know something.  And some will actually ask me how part of the system works.  This again is helpful because “not knowing the answer” is such a common experience in real world web dev.  It’s great to have some clues to how a candidate handles that.</p>
</li>
<li>
<p><strong>It gives the candidate an opportunity to show off what they know.</strong>  I’ve gotten some amazing answers to this question.  It turns out some candidates actually know a lot about networking and HTTP/TCP/nameservers.  Some can give detailed answers about browsers and how they parse resources and display the DOM.  Maybe they just know a lot of random trivia about URLs and DNS.  Regardless, this is a chance to show off and prove that they’ve delved deep into something.</p>
</li>
</ol>
<p>To be clear, I don’t think every interview question should be like this one.  Most should probably directly relate to the work the candidate is doing, be clearly comparable in an objective way candidate to candidate, and not risk sending the interview down a 10 minute rabbit hole.  But this one is my favorite, and I think there’s a place for questions that show how a candidate might handle some real world lack of structure.</p>
<hr>
<p>Feel free to hit me up on Twitter at <a href="https://twitter.com/ben336">@ben336</a> to tell me your favorite interview question.  I’ll retweet them.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>There is of course a limit to how much any interview is going to teach you about how somebody will behave in a future job situation.  We’re all chasing breadcrumbs here.  </p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Ten Things A Serious JavaScript Developer Should Learn]]></title>
            <link>https://benmccormick.org/2017/07/19/ten-things-javascript/</link>
            <guid>https://benmccormick.org/2017/07/19/ten-things-javascript/</guid>
            <pubDate>Wed, 19 Jul 2017 04:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>There’s been an interesting Reddit thread circling my corner of the internet for the last week or so. It started with a question:</p>
<blockquote>
<p>I’m inviting pure opinion here, but what’s your list of ten things that everyone looking for a good javascript role should know and understand. Personally, I’m in a role where what I know is adequate, but I want to be somewhere better; somewhere that has some flippin standards. I’m learning outside of work requirements at the moment, but there is so much to learn out there.
The objective is to do good work in a good place.
Narrow it down to your ten for me, or for you..
<em>- From <a href="https://www.reddit.com/r/javascript/comments/6mlc9d/what_10_things_should_a_serious_javascript/">“What 10 Things Should a Serious Javascript Developer Know Right Now?”</a></em></p>
</blockquote>
<p>I think this is a great question if you take it seriously, because when you think about it critically, it exposes all of the things JavaScript don’t really <strong>need</strong> to know.  Can you contribute productively as a mid-level JavaScript developer without knowing anything about <a href="https://github.com/prettier/prettier">Prettier</a>, <a href="https://www.typescriptlang.org/">Typescript</a> or <a href="https://facebook.github.io/react/">React</a>?  Sure!  Can you contribute productively if you’re writing and testing your JavaScript using <em>&#x3C;awful uncool code editor that you the reader can’t stand></em>?  Definitely.  So here’s my take on answering the question.</p>
<h2>Assumptions</h2>
<p>I’m making the following assumptions about the question</p>
<ol>
<li>
<p>I’m assuming the audience is a developer who has some level of professional programming experience and some existing JavaScript experience, and that they are primarily interested in “code skill” answers. Thus I’ll exclude things like communication ability, experience with version control, professional conduct, or basic coding ability that are very important to success in a JavaScript development environment but are out of the scope of this question.</p>
</li>
<li>
<p>I’m optimizing for “what specific pre-existing knowledge will make the most difference between success and failure for a new hire in a mid-level JavaScript role”.  </p>
<p><strong>Pre-existing</strong> means that these are things that somebody is expected to know before taking the job.  Learning the details of a company’s technology stack, style guide and engineering philosophy are all important, but you shouldn’t be expected to know them in advance, and in many cases doing so is impossible.</p>
<p><strong>Specific knowledge</strong> means that these are things that you can learn with some effort and study.  They should not be broad categories like “security”, “design”, or “server-side development”.  They  should be things you know or know how to do, not things you “have experience with”.  And they should be specific enough that somebody can feel comfortable saying they understand the topic or don’t. Most of the things I list below are <em>topics</em>, but I try to lay out a specific set of things that you would need to know to understand it.</p>
<p><strong>The most difference between success and failure</strong> means that these are the things that are really going to make a difference in how effective you are at understanding and completing the work assigned to you.  There are many such things, and their importance will vary situationally, so this is just my educated take on a generalists list.  </p>
<p>When I say <strong>mid-level</strong>, I’m picturing hiring for a role that pays well but is not the most senior person on the team.  This would be a developer who would be expected to complete tasks with minimal help and oversight but wouldn’t necessarily be planning the architecture of everything right off the bat.  To be clear this list is not a set of things that you need to go to get paid to write JavaScript.  It is more along the lines of “next steps” for junior devs.  Its also not a step function where you need to know all of these at once to get to the next level.  These are just things that may limit you if you don’t have them.</p>
<p>I’m taking the liberty to assume that <strong>JavaScript role</strong> implies using JavaScript in some sort of client/UI environment (Browser, React Native, Cordova, Electron, etc).  This list would be at least a bit different for a Node.js server-side role, and somebody else will have to write that post.</p>
</li>
</ol>
<h2>The List</h2>
<h4>1. You should know the core language</h4>
<p>JavaScript is not a very complicated language at its core.  It can seem difficult to learn because of all of the noise around it.  Browser APIs, Library APIs, jQuery, React, TypeScript, the many npm packages out there, etc all can make the language syntax space seem huge.  And this isn’t helped by the fact that the language has evolved over time so you’ll see many different ways to do a single task spread out over the internet.  But the core language and standard libraries are actually pretty small compared to languages like Python and Java that have more features and larger standard libraries.  Eventually you’ll need the ecosystem.  But knowing the core language features that are implemented in most browsers is a great start.  </p>
<p>This means you should know about basic language features like if/else, error handling with throw/try/catch, array manipulation with push/map/reduce/filter, and string manipulation methods like replace/slice/split.  You should also know about how JavaScript handles things like truthiness and falsiness<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, how to work with JSON data with the JSON object methods, and how variable scope works in JavaScript.  These days its also becoming more and more important to have at least a basic familiarity with the more important language features that were added in ES6 like Promises, modules, classes, template literals, generators and destructuring. Even if you choose not to use those features, being able to see and understand them will help you learn faster from others.</p>
<p>This list is mostly unordered, but this comes first because learning everything else becomes a lot harder without this knowledge, mostly because it becomes difficult to learn from other people’s code since you won’t understand what it is doing.  If you’re starting from a weak base here I’d recommend finding a good book on the core language like <a href="http://amzn.to/2uD4R1Y">Eloquent JavaScript</a><sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> and digging in.  If you’ve been using JavaScript in an older code base or haven’t used it in a while and want to catch up, you can see <a href="https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/">my post on keeping up with new language features</a>.</p>
<h4>2. You should understand async code</h4>
<p>One of the biggest leaps for new JavaScript developers, even those who are experienced with other languages is the amount of asynchronous code found in idiomatic JavaScript.  Asynchronous (async) code is code that is scheduled to run at a later time after some event, delay or response.  It can appear a bunch of different ways in JavaScript code, and it’s important to be able to interpret them.</p>
<p>This means learning about <a href="https://benmccormick.org/2015/12/30/es6-patterns-converting-callbacks-to-promises/">callbacks and promises</a> at least.   You should also learn about the JavaScript <a href="http://blog.carbonfive.com/2013/10/27/the-javascript-event-loop-explained/">event loop</a> and how it works  Ideally some of the standard APIs that use them like <a href="https://developer.mozilla.org/en-US/docs/Talk:DOM/window.setTimeout">setTimeout</a> and  <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch</a>.  If you’re ambitious you can learn about newer async syntax and library implementations like <a href="https://ponyfoo.com/articles/understanding-javascript-async-await">async-await</a> or <a href="https://github.com/Reactive-Extensions/RxJS">RxJS</a> But the most important thing is to spend time using and writing async code so that you get an intuitive understanding of how it works.</p>
<h4>3. You should get comfortable with at least one set of developer tools</h4>
<p>When developing JavaScript, its important to be able to debug problems and understand how existing systems work.  JavaScript has a fantastic ecosystem of developer tools for diagnosing bugs and examining application code.  For the most part they’re bundled with browsers (though some IDEs like VS Code and WebStorm have their own debuggers).  Learning how to use these tools well will turbocharge your JS dev skills.  If you can’t use them though, it will make everything much harder.  </p>
<p>Competence in this means comfort with at least the JavaScript debugger panel of a browser’s devtools.  You should be able to set and use breakpoints, use watch mode and the console to test for the value of expressions, and understand the stack traces. But its also good to get comfortable using the elements panel to understand and manipulate the DOM, and the network panel to debug network requests.</p>
<h4>4. You should be proficient with JavaScript functions</h4>
<p>Functions are the core of the JavaScript language.  You should be able to use them fluently.  That means understanding function scope, closures, how <code>this</code> works, and the difference between normal functions and arrow functions. It also means knowing about how to process arrays with function using methods like map, filter, and reduce.  A good resource for “thinking in functions” is <a href="https://leanpub.com/javascriptallongesix/read">JavaScript Allonge</a> by Reginald Braithwaite.</p>
<h4>5. You should be comfortable with basic design tasks</h4>
<p>No matter how well you learn JavaScript, you’ll be limited career-wise if you can’t manage basic design tasks.  This might not seem inherently true; after all isn’t that what professional designers are for?  But the truth is that unless you’re a purely server-side developer (excluded by our assumptions above), there will be times when you’re asked to fill in a visual gap that a designer doesn’t have time for, or there will be ambiguities in a designers spec that aren’t worth a meeting.  And learning the basics of design will help you communicate better with designers and product managers about technical constraints and design requirements.  </p>
<p>When I talk design, I mean both the basics of implementing a visual design with HTML and CSS<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>, and enough of an understanding of design basics to create a simple UI that looks ok and isn’t confusing.  That last requirement is harder than you’d think.  Design is hard and mostly orthogonal to the set of skills most folks pick up while learning to code.  For learning design theory, I’d recommend finding a simple resource on visual design first like <a href="http://amzn.to/2uz3vEG">White Space is Not Your Enemy</a>, and ideally supplementing that with a more UX focused resource like <a href="http://amzn.to/2uvUrR7">Don’t Make Me Think</a>.  The practical side of HTML/CSS is easiest to pick up with experience.  If you’re using devtools you can see what other people are doing with CSS and tweak and explore using the elements panel.  And there are lots of good online resources for learning about CSS and HTML syntax like <a href="https://developer.mozilla.org/en-US/">MDN</a> for API info or <a href="https://css-tricks.com/">CSS-Tricks</a> for ideas, tutorials and keeping up with new stuff.</p>
<h4>6. You should have a basic understanding of networking and HTTP-based APIs</h4>
<p>Because we’re assuming that this job involves using JavaScript in a browser or other client context, you should be able to understand the basics of networking.  You should know what a client and server is.  You should be able to explain a rough approximation of what happens when somebody enters a URL into the browser<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>. There’s a bunch of vocabulary thats good to know here. You should know what an HTTP request is and ideally know the conventions of what GET/PUT/POST/DELETE imply.  It will help you to have a working definition of what REST is and what AJAX is. It’s good to get experience working with some HTTP based APIs, either at work or playing around with an API like <a href="https://dev.twitter.com/rest/public">Twitter</a> or <a href="https://developer.github.com/v3/">Github</a>.  You should also get familiar with at least one way to make HTTP requests in JavaScript (XMLHttpRequest, fetch, jQuery’s ajax methods).  </p>
<h4>7. You should be comfortable with Node.js based tooling</h4>
<p>One of the biggest shifts in the last 5 years in the JavaScript world has been the explosive growth and consolidation of tools to help build JavaScript applications.  Tools like <a href="http://eslint.org/">eslint</a>, <a href="http://babeljs.io/">Babel</a>, <a href="https://www.typescriptlang.org/">Typescript</a>, and <a href="https://webpack.js.org/">Webpack</a> are essential to many teams workflows.  While you don’t necessarily have to be experienced writing applications for Node.js, it is important that you be able to use those tools.  That means knowing how to install Node and use npm to install and update packages.  It also means getting comfortable with build tools like Webpack, Rollup or Ember CLI and knowing how to use them.  Reasonable people can differ on how many tools and libraries you should be using, or what the right ones to use are, but having a basic familiarity with how the Node ecosystem works has become essential.</p>
<h4>8. You should know how to use a framework to structure a moderately sized program</h4>
<p>A critical requirement for a developer who is expected to complete work with minimum supervision or hand-holding is the ability to structure their code in a maintainable way.  That means having an understanding of (or helping define) the overall architecture of the system, and then writing code that fits into it.  It also means being able to identify and help solve situations where the current architecture or code base norms causes problems.  I put this in terms of frameworks because pretty much all medium to large JavaScript programs are using some sort of framework, whether it is an “official” framework like React, Angular, and Ember or a collection of helper files and functions cobbled together by a development team over time.  For learning purposes, the popular official frameworks will usually be better to learn, since the knowledge can translate elsewhere, the purposes behind the structure are documented on the internet, and at least some sense of best practice architecture should be embedded in the code.  To check this box I think it would be best to get experience with at least 2 frameworks/architectures, since it is difficult to tell which decisions a Framework makes are specific to its architecture and constraints without something to compare it with.</p>
<p>This is probably the most controversial item on this list, since I know a lot of folks believe it’s better to learn architecture ideas outside the constraints of a framework.  My stance here is that frameworks are practical: they’re most likely to translate to an actual employment background and it’s easy to find practical explanations of how they solve architecture problems.  </p>
<h4>9. You should know the basics of JavaScript program performance</h4>
<p>Like design, performance is a deep well of things you can learn.  But knowing the basics is important and can go a long ways.  For performance “the basics” is more about process than knowledge.  You need to learn how to debug slow processes and understand where the problems are coming from.  For browser environments in particular there are some baseline things to understand.  You’ll want to be able to tell the difference between code that is running slowly due to parsing slowness, runtime slowness, and network latency.  It’s important to learn how to keep a UI responsive and not block rendering with other calculations.  And it’s great to understand how to cache data and avoid making too many requests to the server.  </p>
<p>This is also an area where learning more about Computer Science theory can be beneficial.  Studying data structures and algorithms can help give you good intuitions on how to handle data, and learning about Big O notation gives you a language for discussing performance tradeoffs.  This is the type of background knowledge that pays off in occasional subtle ways though, not something that is always obvious applicable in the moment.</p>
<h4>10. You should have a process for learning new things</h4>
<p>JavaScript development has changed a lot over the last 10 years, and there’s no reason to think it won’t continue to evolve over the next 10.  There are also a lot of different technologies that fall under the umbrella of JavaScript, more than any one person can keep in their head.  So it’s important to be able to keep up with the new technologies as they come along, and also learn about new technologies quickly when you need them.  Ideally this means having at least one place where you can follow news about new JavaScript innovation.  Could be Twitter, a set of blogs, newsletters or an aggregator site like Reddit or Hacker News.  If you’re looking for an easy place to start, I’d recommend the <a href="http://javascriptweekly.com/">JavaScript Weekly mailing list</a>.  </p>
<p>You also need to get comfortable finding information about specific technologies, either to learn to use them or troubleshoot problems.  These resources will likely be more varied, but it’s important to learn to <a href="https://xkcd.com/627/">Google well</a>, and also helpful to get familiar with <a href="http://stackoverflow.com/">Stack Overflow</a> or some other resource for getting help when you have specific questions or problems.  </p>
<hr>
<p>Do you have a different list?  Feel free to post it and then link in the comments!</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>If you don’t learn all the pitfalls here, at least learn that there are pitfalls.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>Disclosure: Some of these book links are affiliate links</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
<li id="fn-3">
<p>Or SASS/LESS/CSS in JS/whatever</p>
<a href="#fnref-3" class="footnote-backref">↩</a>
</li>
<li id="fn-4">
<p>This can be explained at several levels, but its good to at least know that a request is sent from the users computer to a server somewhere, and that server returns resources like HTML, CSS, JS, and image files.  </p>
<a href="#fnref-4" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[How to follow the JavaScript roadmap]]></title>
            <link>https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/</link>
            <guid>https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/</guid>
            <pubDate>Mon, 10 Jul 2017 12:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>It can be difficult to keep up with all the things going on in web development, especially since the JavaScript language itself has been changing over the last several years.  After several years of relative stability<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, the ECMAScript spec (<a href="https://benmccormick.org/2015/09/14/es5-es6-es2016-es-next-whats-going-on-with-javascript-versioning/">ECMAScript is the specification for the JavaScript language</a>) has changed quite a bit over the last 3 years, with more changes on the way.  In this post I wanted to highlight a few of the resources I can recommend for keeping up with the language changes.</p>
<h3>Learning ES6/ES2015</h3>
<p>If you haven’t paid attention to any features that aren’t ready in all browsers yet, or you’re getting back to JavaScript development after being away for a while, you probably could use a resource to catchup on the ES6 JavaScript release from 2015.  ES6 is now <a href="https://kangax.github.io/compat-table/es6/">almost completely</a> implemented in the latest versions of all major browsers, so if you’ve been ignoring it due to compatibility concerns, now is the time to learn.  Fortunately there are a lot of great resources for learning about ES6.  My favorite quick reference is the <a href="https://babeljs.io/learn-es2015/">Learn ES2015 page</a> from <a href="https://babeljs.io/">Babel</a>.  It’s a short, example filled page with explanations of all the major features of the language update. If you want something meatier, there have been several resources created by JS experts.  <a href="http://amzn.to/2tVcwaW">Understanding ECMAScript 6</a> by <a href="https://www.nczonline.net/about/">Nicholas Zakas</a> and <a href="http://exploringjs.com/es6.html">Exploring ES6</a> by <a href="http://2ality.com/">Axel Rauschmayer</a> are books that go through the new features in detail.  If you prefer video tutorials, <a href="http://wesbos.com/">Wes Bos</a> has a <a href="https://es6.io/">whole video course on ES6</a>.</p>
<h3>Keeping up with new features</h3>
<p>Things haven’t been changing as fast since the ES6 release.  The first 2 “annual releases” of the ECMAScript spec contained only a <a href="http://2ality.com/2016/01/ecmascript-2016.html">combined</a> <a href="http://2ality.com/2016/02/ecmascript-2017.html">8 features</a>. but there are still a lot of new features working their way through the ECMAScript pipeline.  If you want to get a quick overview of the features being considered for future releases, the best place to look is the <a href="https://github.com/tc39/proposals">TC39 proposals repo on Github</a>.  TC39 is the organization that guides the future of the ECMAScript spec.  Proposals go through a 4 stage process, where stage 1 can best be understood as “ideas”, and stage 4 is “confirmed for the next ECMAScript release”.  <a href="https://ponyfoo.com/contributors/ponyfoo">Nicolás Bevacqua</a> put up a <a href="https://ponyfoo.com/articles/tc39-ecmascript-proposals-future-of-javascript">good post</a> last week describing this process in depth, as well as giving a brief description of the more advanced proposals in the queue. If you’re interested in keeping up with new proposals but want somebody to walk you through them, I recommend subscribing to Axel Rauschmayer’s <a href="http://2ality.com/">2ality</a> blog.  In addition to writing the ES6 book mentioned above, he regularly writes blog posts highlighting new proposals with detailed explanations of the feature implementation and motivation.</p>
<h3>Testing new features</h3>
<p>Almost all of the higher stage proposals on the TC39 list have been implemented by <a href="https://babeljs.io/">Babel</a> and you can try them out in the Babel <a href="https://babeljs.io/repl/#?babili=false&#x26;evaluate=true&#x26;lineWrap=false&#x26;presets=es2015%252Creact%252Cstage-2&#x26;targets=&#x26;browsers=&#x26;builtIns=false&#x26;debug=false&#x26;code_lz=Q">REPL</a> or by setting up a small project that loads in Babel.  </p>
<h3>Keeping up with the conversation</h3>
<p>If you’re a twitter user, probably the easiest way to keep up with language evolution is to follow the people who are shaping and teaching the new language features.  Some twitter follow recommendations:</p>
<ul>
<li><a href="https://twitter.com/wycats">Yehuda Katz</a> - TC39 member, Ember core developer</li>
<li><a href="https://twitter.com/rauschma">Axel Rauschmayer</a> - JS blogger and trainer</li>
<li><a href="https://twitter.com/wesbos">Wes Bos</a> - JS blogger and trainer</li>
<li><a href="https://twitter.com/sebmarkbage">Sebastian Markbåge</a> - TC39 member, React core developer</li>
<li><a href="https://twitter.com/left_pad">Henry Zhu</a> - Babel maintainer</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>From the release of the ECMAScript 5 spec to the ES6/ECMAScript2015 spec, the language wasn’t exactly stable in practice because browser implementations didn’t always move quickly, and there were still many incompatibilities.  But standard language syntax stayed stable for quite a while, which allowed the browser ecosystem to iron out some of those kinks prior to the adoption of ES6.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
    </channel>
</rss>