<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>benmccormick.org</title>
        <link>http://benmccormick.org</link>
        <description>A blog by Ben McCormick</description>
        <lastBuildDate>Fri, 15 Dec 2017 14:05:50 GMT</lastBuildDate>
        <docs>http://blogs.law.harvard.edu/tech/rss</docs>
        <generator>Feed for Node.js</generator>
        <image>
            <title>benmccormick.org</title>
            <url>https://benmccormick.org/logo.png</url>
            <link>http://benmccormick.org</link>
        </image>
        <copyright>All rights reserved 2016, Ben McCormick</copyright>
        <atom:link href="http://benmccormick.org/atom.xml" rel="self" type="application/rss+xml"/>
        <item>
            <title><![CDATA[Weekly Links: December 8th 2017]]></title>
            <link>https://benmccormick.org/2017/12/15/weekly-links-12-15-17/</link>
            <guid>https://benmccormick.org/2017/12/15/weekly-links-12-15-17/</guid>
            <pubDate>Fri, 15 Dec 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h3>JavaScript And The Web</h3>
<p><a href="https://stateofjs.com/">The State Of JavaScript 2017</a> - This annual survey of JavaScript developers always has lots of interesting insights.  Since it is an internet survey, I view it less as a full snapshot of the industry, but more as a place to see what is new and trending in the JS world.  This year <a href="https://code.visualstudio.com/">Visual Studio Code</a>, <a href="https://prettier.io/">Prettier</a> and <a href="https://vuejs.org/">Vue</a> caught my eye as spiking in popularity.</p>
<p><a href="https://engineering.linkedin.com/blog/2017/12/the-glimmer-binary-experience">The Glimmer Binary Experience | LinkedIn Engineering</a> - I had the privilege of seeing Yehuda Katz, one of the Ember core developers, give a talk about <a href="https://glimmerjs.com/">Glimmer</a> and bytecode at this year’s All Things Open conference.  They’re doing some pretty serious software engineering in the Ember community right now.  This write-up covers a lot of the same ground and is worth a read.</p>
<h3>Programming Tools and Practices</h3>
<p><a href="http://blog.atom.io/2017/12/12/atom-1-23.html">Atom 1.23</a> and <a href="https://code.visualstudio.com/updates/v1_19">Visual Studio Code 1.19</a> were released this week, making this a big week for Electron based text editors.  If you use either of them, you’ll get to enjoy a nice set of performance improvements when you upgrade.</p>
<p><a href="https://blog.bear-writer.com/bear-1-4-the-tags-edition-298d6fdc55dd">Bear 1.4</a> - Speaking of software that I love to use getting updates, I’ve been using Bear as my primary notes app for the last year, and it is a delight.  Getting autocomplete on tags this week solved it’s last real annoyance for me, and I would definitely recommend it to anyone interested in a simple notes app.  It’s more powerful than Apple’s notes or text files, but cleaner and more elegant than <a href="https://evernote.com/">Evernote</a>.  And even the paid level is very affordable.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: December 8th 2017]]></title>
            <link>https://benmccormick.org/2017/12/08/weekly-links-12-08-17/</link>
            <guid>https://benmccormick.org/2017/12/08/weekly-links-12-08-17/</guid>
            <pubDate>Fri, 08 Dec 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h3>JavaScript And The Web</h3>
<p><a href="https://reactjs.org/blog/2017/12/07/introducing-the-react-rfc-process.html">Introducing the React RFC Process | React Blog</a> - React is now using a public process for proposing and designing new features, starting with a new context API.</p>
<p><a href="https://blog.neufund.org/why-we-have-banned-default-exports-and-you-should-do-the-same-d51fdc2cf2ad">Why we have banned default exports in Javascript and you should do the same | Krzysztof Kaczor</a> - This lines up pretty well with my own experience when it comes to native JS modules.  The named exports are pretty much always better than the default ones.</p>
<p><a href="https://egghead.io/courses/advanced-react-component-patterns">Advanced React Component Patterns | Egghead.io/Kent C. Dobbs</a> - This is a new Egghead course on React Component patterns, and is the best “advanced” React resource I’ve seen.  If you’re a React developer, you should either watch it this weekend while it is still free, or pay up to Egghead (it will be behind their subscriber wall starting Monday).  He also released a <a href="https://egghead.io/courses/the-beginner-s-guide-to-reactjs">beginner level React course</a> this week that will remain free.</p>
<h3>Non-Tech</h3>
<p><a href="https://stratechery.com/2017/the-pollyannish-assumption/">The Pollyannish Assumption | Stratechery</a> - Ben Thompson gives a pretty good breakdown here of the problems companies face moderating Internet scale content.  Human beings capable of both greater heights and darker depths than we like to think.  </p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: December 1st 2017]]></title>
            <link>https://benmccormick.org/2017/12/01/weekly-links-12-01-17/</link>
            <guid>https://benmccormick.org/2017/12/01/weekly-links-12-01-17/</guid>
            <pubDate>Fri, 01 Dec 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h3>JavaScript And The Web</h3>
<p><a href="http://2ality.com/2017/04/flatmap.html">Functional pattern: flatMap | 2ality</a> - This post isn’t new, but <code>flatmap</code> and <code>flatten</code> hit stage 3 in the TC39 process for adding new features to JavaScript this week<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.  So this is a great time to read up on them.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Stage 3 for Array.prototype.flatMap and Array.prototype.flatten! Thank you so much <a href="https://twitter.com/jspedant?ref_src=twsrc%5Etfw">@jspedant</a> for driving this!<a href="https://t.co/9kLCKJcZEv">https://t.co/9kLCKJcZEv</a></p>&mdash; Brian Terlson (@bterlson) <a href="https://twitter.com/bterlson/status/935582351999901696?ref_src=twsrc%5Etfw">November 28, 2017</a></blockquote>
<p><a href="http://bholley.net/blog/2017/stylo.html">Boiling the Ocean, Incrementally - How Stylo Brought Rust and Servo to Firefox | Bobby Holley </a> - This is a great review of the technical achievement that Firefox 57 represents, and also gives some insight into where Mozilla is going from here. I’ve switched back to Firefox over the past 2 weeks and am pretty happy with it so far.</p>
<h3>Programming Tools and Practices</h3>
<p><a href="https://aws.amazon.com/blogs/aws/introducing-amazon-appsync/">Introducing AWS AppSync | AWS News Blog</a> - AWS announced a bunch of new services this week, but I wanted to highlight AppSync, an Amazon GraphQL service.  <a href="http://graphql.org/">GraphQL</a> seems to be gaining more and more momentum, and if you don’t know anything about it I’d suggest checking it out.  I’ve gotten to play with it since rewriting my blog to <a href="https://www.gatsbyjs.org/">Gatsby</a> 1.0, and it is a nice way to work with data.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.seattletimes.com/business/amazon/this-city-hall-brought-to-you-by-amazon/">This City Hall, brought to you by Amazon | The Seattle Times</a> - I’m amazed by the incentives cities have been willing to offer Amazon to locate a headquarters in their city.  I think the outrage in this column is a bit over the top, but it is a startling insight into the power large tech companies have over the cities where they’re located.</p>
<p><a href="http://amzn.to/2i78Knm">Doomsday Clock - #1</a> - If you have any interest in comic books DC’s <a href="http://amzn.to/2i78Knm">Watchmen</a> sequel has begun.  It’s a story that crosses over with the mainstream DC Universe, and appears to be a rebuttal of the cynical vantage point of the original work.  This is the first of 12 issues over the next year and it was a strong (but slow start).  If you’re interested in Watchmen but don’t read a lot of comics, this is the continuation of a story that began with <a href="http://amzn.to/2jD0Y5c">a big DC special</a> and continued in a special <a href="http://amzn.to/2i5zSDn">Batman/Flash crossover</a></p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>See <a href="https://benmccormick.org/2017/07/10/how-to-follow-the-javascript-roadmap/">this post</a> for more info about staying informed about features that are being added to JavaScript.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Implementing The Sieve Of Eratosthenes in JavaScript]]></title>
            <link>https://benmccormick.org/2017/11/28/sieveoferatosthenes/</link>
            <guid>https://benmccormick.org/2017/11/28/sieveoferatosthenes/</guid>
            <pubDate>Tue, 28 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>As a way of keeping my math skills sharp, I’ve recently started to work through the <a href="https://projecteuler.net/">Project Euler</a> set of computational math problems.  They ask you not to post your work publicly, so I won’t be posting about any of my specific solutions, but I did think it would be fun to share about a helper method I’ve been using.</p>
<p>For several of the Project Euler problems I’ve worked on, I needed to be able to generate a list of prime numbers.  To do that, I borrowed a Python implementation of the Sieve Of Erathosthenes from <a href="https://stackoverflow.com/a/568618/1424361">this StackOverflow answer</a>.  Since I haven’t had much reason to use generators in JavaScript yet, I thought it would be fun to translate that algorithm to JavaScript and share that here.</p>
<h3>Sieve of Eratosthenes</h3>
<p>The Sieve of Erathosthenes is a very old<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> simple algorithm for identifying prime numbers.  In its normal implementation it is a useful way of finding small primes up to a certain number.  Beginning at 2, the algorithm iterates upward.  For the current number, if the number has not been marked, we identify it as a prime, and then mark all multiples of that number up to our target number.  So to find all primes up to 12, we would</p>
<ul>
<li>start at 2, note <strong>2</strong> as prime, and mark 4, 6, 8, 10 and 12 as non-prime</li>
<li>move to 3, note <strong>3</strong> as prime, and mark 6, 9, 12 as non-prime</li>
<li>move to 4, see that it is marked, and skip it</li>
<li>move to 5, note <strong>5</strong> as prime and mark 10 as non-prime</li>
<li>move to 6, see that it is marked and skip it</li>
<li>move to 7 , note <strong>7</strong> as prime</li>
<li>see that 8-10 are marked and skip them</li>
<li>move to 11, note <strong>11</strong> as prime</li>
<li>move to 12, see that it is marked and skip it</li>
</ul>
<p>You can see it graphically with this visualization from <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Wikipedia</a>:</p>
<p><img src="/6420e3488e509dce176a1e957ea07ff5.gif" alt="sieve animation, shows the numbers being marked visually"></p>
<h3>Python Implementation</h3>
<p>The Python implementation that I used makes some modifications to the classic version of the algorithm that lets it generate an indefinite number of primes while being memory efficient</p>
<div class="gatsby-highlight">
      <pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">gen_primes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">""" Generate an infinite sequence of prime numbers."""</span>
    marked_not_prime <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    value_to_check <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value_to_check <span class="token operator">not</span> <span class="token keyword">in</span> marked_not_prime<span class="token punctuation">:</span>
            <span class="token keyword">yield</span> value_to_check
            marked_not_prime<span class="token punctuation">[</span>value_to_check <span class="token operator">*</span> value_to_check<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>value_to_check<span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> prime <span class="token keyword">in</span> marked_not_prime<span class="token punctuation">[</span>value_to_check<span class="token punctuation">]</span><span class="token punctuation">:</span>
                marked_not_prime<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>prime <span class="token operator">+</span> value_to_check<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>prime<span class="token punctuation">)</span>
            <span class="token keyword">del</span> marked_not_prime<span class="token punctuation">[</span>value_to_check<span class="token punctuation">]</span>
        value_to_check <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre>
      </div>
<p>This version of the algorithm keeps a running set of the relevant matches, and keeps only the ones it needs.  We can translate it more or less directly to JavaScript like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatePrimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> markedNotPrime <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> valueToCheck <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>valueToCheck <span class="token keyword">in</span> markedNotPrime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">yield</span> valueToCheck
            markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> primes <span class="token operator">=</span>markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span><span class="token punctuation">;</span>
            primes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>prime<span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> nextMultipleOfPrime <span class="token operator">=</span> prime <span class="token operator">+</span> valueToCheck<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nextMultipleOfPrime <span class="token keyword">in</span> markedNotPrime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    markedNotPrime<span class="token punctuation">[</span>nextMultipleOfPrime<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>prime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    markedNotPrime<span class="token punctuation">[</span>nextMultipleOfPrime<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>prime<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">delete</span> markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        valueToCheck <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Let’s break down what this is doing.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatePrimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//...</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p><code>generatePrimes</code> is a JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator">generator</a>.  Generators “generate” a series of values in a “just in time” fashion; they only calculate the next value when it is needed, making them an efficient solution for working with large or infinite series.  You specify a generator function by adding the <code>*</code> to the function declaration.  Generators then use the <code>yield</code> keyword rather than <code>return</code> to return their values, and can <code>yield</code> multiple times. After a generator yields, it pauses execution until it is asked for another value.  For our <code>generatePrimes</code> function, we are operating inside an infinite loop and will yield continuously without stopping<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> markedNotPrime <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> valueToCheck <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//...</span>
    valueToCheck <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>We’re using a plain object to keep track of our marked numbers, and using <code>valueToCheck</code> to keep track of where we are in iterating through numbers. As noted, we will iterate it forever if the generator continues to be called.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>valueToCheck <span class="token keyword">in</span> markedNotPrime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> valueToCheck
    markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//...</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>As in the original algorithm, if we get to a number that isn’t marked, we know that it is a prime.  So we <code>yield</code> it, which pauses execution.  If the generator is queried again, when we resume execution we mark the prime squared as not-prime, and we do that by assigning it an array with the current prime value in it.  Using arrays for markers will make more sense in a moment. For now its worth noting that we only need to mark prime-squared as non-prime since every multiple below that is the current prime multiplied by a number less than it, which means it will already be covered, as we will see below.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>valueToCheck <span class="token keyword">in</span> markedNotPrime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> primes <span class="token operator">=</span> markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span><span class="token punctuation">;</span>
    primes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>prime <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextMultipleOfPrime <span class="token operator">=</span> prime <span class="token operator">+</span> valueToCheck<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nextMultipleOfPrime <span class="token keyword">in</span> markedNotPrime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            markedNotPrime<span class="token punctuation">[</span>nextMultipleOfPrime<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>prime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            markedNotPrime<span class="token punctuation">[</span>nextMultipleOfPrime<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>prime<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">delete</span> markedNotPrime<span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Here’s the clever part of this implementation.  When we hit a number that is marked as not-prime, instead of just skipping it and moving on, we use some logic to keep our list of marked values small and memory efficient. This is also what allows us to get an infinite list of primes instead of settling for those under a particular value.  What we want to do is keep a list of all the primes that are factors of each marked number.  Then when we hit a number that is marked, we mark the next multiple for each prime (<code>valueToCheck + prime</code>), and remove the current value from the object.  That keeps checks fairly cheap by eliminating the number of marked numbers, and allows us to only add values to the marked list as we need them.</p>
<p>We can then use this code to get the 1,000,001st prime like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">let</span> gen <span class="token operator">=</span> <span class="token function">generatePrimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</code></pre>
      </div>
<p>That executed on my laptop in ~20seconds, approximately the same as the python implementation in python2, a little slower than running it under python3.  I was curious whether using a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> for our marked prime list would speed things up:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatePrimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> markedNotPrimeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> valueToCheck <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>markedNotPrimeMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>valueToCheck<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">yield</span> valueToCheck
            markedNotPrimeMap<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>valueToCheck<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>valueToCheck<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> primes <span class="token operator">=</span>markedNotPrimeMap<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>valueToCheck<span class="token punctuation">)</span>
            primes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>prime<span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> nextMultipleOfPrime <span class="token operator">=</span> prime <span class="token operator">+</span> valueToCheck<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>markedNotPrimeMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>nextMultipleOfPrime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    markedNotPrimeMap<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>nextMultipleOfPrime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>prime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    markedNotPrimeMap<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>nextMultipleOfPrime<span class="token punctuation">,</span> <span class="token punctuation">[</span>prime<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            markedNotPrimeMap<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>valueToCheck<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        valueToCheck <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>This version of the code runs about 25% faster, in 15 seconds on my machine. Not bad.</p>
<h3>More Resources</h3>
<ul>
<li>You can dig in more on the Sieve of Erosthenes on <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Wikipedia</a></li>
<li>Check out <a href="https://projecteuler.net/">Project Euler</a> for some fun computational math problems.</li>
</ul>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>There are references as old as ~100 AD</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
<li id="fn-2">
<p>At least until we hit system boundaries for memory/number size/etc.</p>
<a href="#fnref-2" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: Thanksgiving 2017 edition]]></title>
            <link>https://benmccormick.org/2017/11/26/weekly-links-11-26-17/</link>
            <guid>https://benmccormick.org/2017/11/26/weekly-links-11-26-17/</guid>
            <pubDate>Sun, 26 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>In honor of Thanksgiving this week, instead of a list of writing from around the web, this week I’ll be linking to some of my favorite lesser known software tools, apps and gear.  These are things that let me get things done, and I’m thankful for that.</p>
<h3>JavaScript Libraries</h3>
<p><a href="https://www.gatsbyjs.org/">Gatsby</a> - I’ve written and spoken about Gatsby before, but it keeps getting better as a tool for building React-based web sites and applications.  This blog is written using it.</p>
<p><a href="https://date-fns.org/">date-fns</a> - date-fns is a nice modular lightweight alternative to <a href="https://momentjs.com/">moment.js</a> for date management in JavaScript.  Because JavaScript’s built in dates are weird and hard to work with, and not everybody needs all of the goodness moment provides.</p>
<p><a href="https://mobx.js.org/">MobX</a> - It’s been overshadowed by Redux, but MobX is a fantastic state management library for JavaScript libraries.  Since its an object oriented model that can be used in a variety of ways, it is easier to pull in incrementally</p>
<p><a href="https://glamorous.rocks/">glamorous</a> - My favorite CSS-in-JS library for React, it lets you write styles in a few different ways, which allows you to manage things in a very React-y way, without ever getting stuck with things you can’t do.</p>
<h3>Apps</h3>
<p><a href="https://flexibits.com/fantastical">Fantastical</a> - The best app I’ve ever used for OSX and iPhone</p>
<p><a href="https://mailplaneapp.com/">Mailplane</a> - If you like GMail’s web app (obviously not to everyone’s taste) Mailplane is a great way to use it as a native app on OSX.  I like it because it allows me to use both of my Gmail accounts side by side with their own notification settings and no risk of being lost in a sea of browser tabs.</p>
<h3>Gear</h3>
<p><a href="http://www.rickshawbags.com/commuter-laptop-bag">Rickshaw Bagworks Commuter Bag</a> - I’ve had the 2.0 version of this bag for the past 4 years, and it has been an amazingly versatile and durable tool for transporting my laptops, notebooks and more.  Highly recommended.</p>
<p><a href="https://store.google.com/product/chromecast_2015">Chromecast</a> - I have a Chromecast and a Chromecast audio, and they’re an amazing cheap way to turn TVs and speakers into “Smart devices” that you can control from your phone without having to pay for “smart devices” that probably won’t be kept up to date the way you’d want.</p>
<p><a href="http://amzn.to/2zpBZcm">Backbeat Fit</a> - I’ve now ended up buying 4 pairs of these headphones for myself and others.  They’re fantastic versatile headphones that work great for exercise headphones but are good enough quality to use for other purposes.  I personally have trouble with ear-buds (they don’t stay in my ears), so the over-ear style of the fit is perfect for me.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: November 17th 2017]]></title>
            <link>https://benmccormick.org/2017/11/17/weekly-links-11-17-17/</link>
            <guid>https://benmccormick.org/2017/11/17/weekly-links-11-17-17/</guid>
            <pubDate>Fri, 17 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h3>JavaScript And The Web</h3>
<p><a href="http://2ality.com/2017/11/currying-in-js.html">Currying In JS | 2ality</a> - A nice round up of the different approaches for using currying (a functional programming concept) in JavaScript.  My favorite line: <em>“One of JavaScript’s best traits is how many different styles of programming it can accommodate.”</em> This is one of my favorite things about the language as well.</p>
<p><a href="https://medium.com/@dhruvrajvanshi/thoughts-on-redux-and-its-similarities-with-oop-6d200f34656">Thoughts on Redux and its similarities with OOP | Dhruv Rajvanshi</a> - I always find it useful to understand when core concepts are shared across very different looking tools and paradigms</p>
<h3>Programming Tools and Practices</h3>
<p><a href="https://hacks.mozilla.org/2017/11/entering-the-quantum-era-how-firefox-got-fast-again-and-where-its-going-to-get-faster/">Entering the Quantum Era—How Firefox got fast again and where it’s going to get faster | Lin Clark</a> - I’ve been using Firefox 57 as my primary browser this week and so far it is very very nice.  Other than a single Chrome-specific extension that I’m missing, and a few minor devtool annoyances, everything has worked great.  And it is blazing fast.</p>
<p><a href="https://code.visualstudio.com/blogs/2017/11/15/live-share">Introducing Visual Studio Live Share | Microsoft</a> and
<a href="https://blog.atom.io/2017/11/15/code-together-in-real-time-with-teletype-for-atom.html">Code together in real time with Teletype for Atom | Github</a>  - In what appears to be a crazy coincidence, both Atom and Visual Studio/Visual Studio Code announced new tools for collaborating with other developers on code, using a google docs-like experience.  Atom’s solution is available in beta today, and is a free WebRTC based peer-to-peer solution for editing code together, with the primary user sharing their active tab with anybody who has the uniqueID for your session.  It also includes open-sourcing a library that would let other editors implement its document protocol. Microsoft’s solution is more ambitious, supporting both Visual Studio and Visual Studio code, and allowing users access to a whole shared workspace.  It is just an announcement for now though, and it’s not clear if it is a peer to peer or centralized solution, nor whether it will have a cost associated with it.  Regardless, both solutions look amazingly cool.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">As one of the three engineers that built Teletype, I share your curiosity! 🙈</p>&mdash; Jason Rudolph (@jasonrudolph) <a href="https://twitter.com/jasonrudolph/status/930856578915344384?ref_src=twsrc%5Etfw">November 15, 2017</a></blockquote>
<p><a href="http://amzn.to/2AVaAjx">Managing Humans | Michael Lopp (AKA Rands)</a> - This book was a great roundup of some of the best writings from one of my favorite blogs <a href="http://randsinrepose.com/">Rands in Repose</a>.  Michael Lopp has been a manager and executive at Netscape, Apple, Palantir, Pinterest and now Slack.  He’s seen a lot.  While the book is aimed first at managers, it’s helpful for anyone who is interested in understanding how engineering teams work, and how to lead or work in one better.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.nytimes.com/2017/11/09/sports/aaron-hernandez-brain-cte.html?_r=0">On the Table, the Brain Appeared Normal | The New York Times</a> - Powerful reading about the dangers of football, a sport that I still love watching.  <a href="https://www.si.com/nfl/2017/09/21/aaron-hernandez-brain-cte-video-photos">More context here if you’re confused after reading the NYT story</a>.</p>
<p><a href="https://www.nytimes.com/2017/11/12/us/nsa-shadow-brokers.html?_r=0">Security Breach and Spilled Secrets Have Shaken the N.S.A. to Its Core | The New York Times</a> - Interesting to see such mainstream questioning of the NSA’s habit of hording zero-day exploits.  Don’t read this one if you want to maintain any naive good feelings about US cybersecurity.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[A Quick Browser Compatibility Checkup]]></title>
            <link>https://benmccormick.org/2017/11/15/browser-compatibility-checkup/</link>
            <guid>https://benmccormick.org/2017/11/15/browser-compatibility-checkup/</guid>
            <pubDate>Wed, 15 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>I’ve written a few times about the state of browser compatibility and the web platform over the years.  Over 4 years ago I <a href="https://benmccormick.org/2013/06/11/evergreen-browsers">linked to a post celebrating the rise of evergreen browsers</a>. Then 2 years ago I was one of several people stressing about <a href="https://benmccormick.org/2015/06/10/is-safari-being-left-behind/">whether Safari was going to hold the web back</a>.  It’s something I’ve followed closely because supporting many different subtly incompatible execution environments is one of the most unique and frustrating challenges of front-end development.  </p>
<p>The last few years have been really good for web compatibility with Microsoft dumping Internet Explorer in favor of the evergreen Edge, and <a href="https://babeljs.io/">Babel</a> allowing JavaScript developers to write modern JS spec-compliant code and then have it transpiled back into something that runs in a wide variety of environments.  But fairly recently things have started to get even better.</p>
<p>For the web application I have spent my workdays building over the past 4 years, we target the <a href="http://browserl.ist/?q=last+2+Chrome+versions%252C+last+2+Safari+versions%252C+last+2+Firefox+versions%252C+last+2+Edge+versions">last 2 versions of the major desktop browsers</a> (Chrome, Firefox, Safari, Edge).  At the time of writing that means we target</p>
<ul>
<li>Chrome 61 + 62</li>
<li>Edge 15 + 16</li>
<li>Firefox 55 + 56</li>
<li>Safari 10.1 + 11</li>
</ul>
<p>I get that for some of you this is a very lax browser support standard, and you’re still supporting IE9 or old Android versions.  For others you don’t care about browser compatibility at all and are just hacking demos on the newest Chrome.  But “last 2 versions” is a real world standard that I know plenty of teams target.  And it certainly is a reasonable target for new devs learning about JavaScript and the web.  So let’s look at what is natively supported in all targeted browsers if you use this standard today. Spoiler Alert: life is pretty good.</p>
<h3>Available Now</h3>
<h4>All of ES6 and ES2016, and almost all of ES2017</h4>
<p>If you’re distrustful of Babel and have been holding off on learning the new features that have transformed JavaScript over the past few years until they were “browser supported”, now is your time.  Other than shared memory and atomics (more on that below), every single feature from the recent updates to the ECMAScript spec is available in the last 2 versions of all 4 major browsers.</p>
<p>That includes core ES6 stuff like classes, destructuring, and arrow functions.  But also features that were just standardized this summer like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">async functions</a>.</p>
<h4>Modern CSS</h4>
<p>Modern CSS specifications like <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">Flexbox</a>, <a href="https://css-tricks.com/snippets/css/complete-guide-grid/">CSS Grid</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables">CSS Variables</a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports">CSS Feature Queries</a> are all fully supported in these browsers, making creating layouts especially much easier than it had been in the past.</p>
<h4>Promises and Fetch</h4>
<p>Promises have been mostly supported for a while, but they didn’t have native support in IE11, so some folks may still be polyfilling them.  With a last 2 versions standard, you not only don’t need to polyfill Promises, but also can drop any polyfills for the promise based fetch api as well (and use them with async-await natively!).</p>
<h3>Coming Soon</h3>
<p>So there is a ton of stuff that is available today for people targeting the last 2 versions of browsers.  But there is also a bunch of stuff that is almost there:</p>
<h4>Web Assembly and low level primitives</h4>
<p><a href="https://blog.mozilla.org/blog/2017/11/13/webassembly-in-browsers/">WebAssembly is now shipping in the latest version of every major browser</a>.  WebAssembly is a target bytecode for the web that can interop with JavaScript.  Essentially somebody can write C, C++ or Rust code and then compile it to WebAssembly, which runs natively in the browser, potentially much more performantly than equivalent JavaScript code.  The latest version of all browsers also support <a href="http://2ality.com/2017/01/shared-array-buffer.html">SharedArrayBuffer and Atomics</a>, low level APIs for exploring better parallelism support in JavaScript.  In short, it will soon be possible to create much more performant experiences in web browsers than is currently possible.</p>
<h4>WebRTC</h4>
<p>The latest versions of all browsers also support WebRTC, an API for peer to peer communication through browsers.  This potentially opens the door for all types of browser-based text/video chat and collaboration applications.</p>
<h4>Service Workers</h4>
<p><a href="https://jakearchibald.github.io/isserviceworkerready/">Service workers are getting close</a>.  They’re available in every browser but Safari now, and Safari is working on them.  If we get another big <code>x.1</code> release of Safari like last year, they could be available for early adopters across the board within the next 6 months.  </p>
<h3>The web is moving forward together</h3>
<p>It’s fun to see this level of unified activity across the web platform over the past 2 years.  In my 7+ years of front-end development, I’ve never seen a more compatible web than the one we can develop against today.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: November 10th 2017]]></title>
            <link>https://benmccormick.org/2017/11/10/friday-links/</link>
            <guid>https://benmccormick.org/2017/11/10/friday-links/</guid>
            <pubDate>Fri, 10 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>I started this new thing last week, <em>Friday Links</em>.  There’s a <a href="https://goo.gl/forms/MwEtFrDwFWzXSRv13">feedback form</a> if you’re a regular reader and want to tell me what you think of it.  Otherwise, enjoy the links!</p>
<h3>JavaScript And The Web</h3>
<p> <a href="https://medium.com/javascript-inside/slaying-a-ui-antipattern-in-react-64a3b98242c">Slaying a UI Antipattern in React – JavaScript Inside</a> - This is an interesting case study of how to work through an architectural problem using React.  I love seeing posts like this that take real world scenarios (I deal with this case of having data that might be in one of several loading states all the time), and identify re-usable patterns for solving them.</p>
<p> <a href="https://jakearchibald.com/2017/netflix-and-react/">Netflix functions without client-side React, and it’s a good thing - JakeArchibald.com</a> - A nice look at what Netflix’s experience removing client-side react from their landing page means and doesn’t mean.  I’m going to be really curious to see how the JS community gets better at enabling fast initial experiences while still having full rich interactivity when the users need it.</p>
<h3>Programming Tools and Practices</h3>
<p><a href="https://prettier.io/">Prettier</a> - Prettier put out a new release this week and now supports Markdown as well as JavaScript, TypeScript, CSS, and GraphQL.  It has been my favorite new tool of 2017, solving a problem I didn’t know I had: the mental overhead of constantly reformatting my own code.  </p>
<p><a href="http://amzn.to/2zvm12Z">The Pragmatic Programmer - Andy Hunt &#x26; Dave Thomas</a> - Not a new book at all, but I like to recommend it at every opportunity.  It’s my favorite resource on the practice of Software Engineering and well worth checking out if you’ve never read it.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.economist.com/news/briefing/21730870-economy-based-attention-easily-gamed-once-considered-boon-democracy-social-media">Once considered a boon to democracy, social media have started to look like its nemesis - The Economist</a> - This is a wide-ranging take on the downsides of social media with a focus on it’s deleterious effects on our political systems.  If you’re on social media and/or you care about the future of politics in your place of living, it is worth a read.  </p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Improving Gatsby Blog Deploy UX]]></title>
            <link>https://benmccormick.org/2017/11/07/blog-deploy-ux/</link>
            <guid>https://benmccormick.org/2017/11/07/blog-deploy-ux/</guid>
            <pubDate>Tue, 07 Nov 2017 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>About a year ago I switched back to using a static site generator for this blog.  Specifically, I chose <a href="https://www.gatsbyjs.org/">Gatsby</a> and it has been fantastic.  It’s incredibly easy to customize and make my own, and I can do fun things like adding metadata to my posts to enable features like the “read next” list at the bottom of each post, and the “most popular” posts feature that is actually generated from google analytics data.  The biggest downside of using a static site generator relative to a hosted service though is the annoyance of actually posting.  I could edit or write a post to my <a href="https://ghost.org/">Ghost</a> blog from anywhere, which was a real perk of using that platform.  Until recently I was only able to deploy this site from a single computer, because I needed an API key for Google Analytics to be available.  That has been mostly fine, since I usually work on posts for this site over the course of a few days.</p>
<p>But last week I decided to start aiming for <a href="https://benmccormick.org/2017/11/03/friday-links/">weekly shorter linklog posts</a>, and that meant having a bit more flexibility with my deploys.  So this week I did 2 things: I set up a <a href="https://travis-ci.org/">Travis CI</a> job to auto-deploy my app when changes hit the master branch, and wrote an initial version of a CLI for managing the blog.  The first version just helps me write out a templated new post.  My setup is pretty tailored to this blog, but I thought it’d be helpful to share, and maybe inspire some folks looking to do the same thing for their static site.</p>
<h3>Travis CI</h3>
<p>Travis is a continuous integration environment that is free for open source.  I had used it very minimally for some open source projects, but never to deploy anything so I had to learn about the <code>deploy</code> option travis provides.  In the end my <code>.travis.yml</code> file was pretty simple and looked like this:</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>language: node_js
node_js:
- '8'
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/deploy.sh
  on:
    branch: master
env:
  global:
  - ANALYTICS_KEY=./analytics-api-key.json
  - secure: r43TdsxdDrqYtmZiBmBSe+7u0UBdepMWAYmpTGzGJoAt9p0z+CxcR9ZIj4uMPvBtO3n1wcEvylWcmmY6smu57uXNPhQpyYJaw6HlnfKrz5GjRVX6Ti6oDm8Yyhha1IlcS73dJTpApFis30Kv7fsfDvpNcvVxpF1eDUlw2UAYCwI=
before_install:
- openssl aes-256-cbc -K $encrypted_dd5d287df7ed_key -iv $encrypted_dd5d287df7ed_iv
  -in analytics-api-key.json.enc -out analytics-api-key.json -d</code></pre>
      </div>
<p>Breaking that down a bit:</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>language: node_js
node_js:
- '8'</code></pre>
      </div>
<p>I’m using node for this project and I want to deploy on node 8, so these lines just make sure I have that environment available.</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>deploy:
  skip_cleanup: true
  provider: script
  script: scripts/deploy.sh
  on:
    branch: master</code></pre>
      </div>
<p>I’ve bundled my deploy steps into a script, <code>deploy.sh</code>.  This config tells travis to run the script after my (currently non-existent) tests have completed, and not to remove any built files before starting the deploy.  It also makes it clear that this should only happen for changes to the master branch.</p>
<div class="gatsby-highlight">
      <pre class="language-yml"><code>env:
  global:
  - ANALYTICS_KEY=./analytics-api-key.json
  - secure: r43TdsxdDrqYtmZiBmBSe+7u0UBdepMWAYmpTGzGJoAt9p0z+CxcR9ZIj4uMPvBtO3n1wcEvylWcmmY6smu57uXNPhQpyYJaw6HlnfKrz5GjRVX6Ti6oDm8Yyhha1IlcS73dJTpApFis30Kv7fsfDvpNcvVxpF1eDUlw2UAYCwI=
before_install:
- openssl aes-256-cbc -K $encrypted_dd5d287df7ed_key -iv $encrypted_dd5d287df7ed_iv
  -in analytics-api-key.json.enc -out analytics-api-key.json -d</code></pre>
      </div>
<p>This section looks messy, but its all about the environment variables I need for deploying.  Specifically I’m pulling in a github key for deploys (thats the secure key), and then also pulling my google analytics key from a json file.  The JSON file is stored as an encrypted file in the directory with a key that only Travis can decrypt.  Then I use a public environment variable to tell my deploy script where to look up the file.  That allows me to set a different path locally and still have local deploys work even though I can’t decrypt the checked in JSON file.</p>
<h3>CLI</h3>
<p>I’ve started with an extremely basic CLI using <a href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js</a>.  It asks me a series of questions and then generates a markdown doc with the appropriate YAML headings.  Inquirer.js, lodash, and ES6 template strings make this super easy.  It looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/map'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> find <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash/find'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> mkFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../src/utils/file_system'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> categories <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../src/pages/categories.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>categories<span class="token punctuation">;</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> dates <span class="token operator">=</span> <span class="token punctuation">{</span>
  Today<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Tomorrow<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">'Two Days From Now'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string">'Three Days From Now'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

inquirer
  <span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'type'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What Type of Post is this'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Post'</span><span class="token punctuation">,</span> <span class="token string">'Page'</span><span class="token punctuation">,</span> <span class="token string">'Friday-Links'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> val <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the title be?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Title can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'description'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the description say?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Description can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'key'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What should the post key be?'</span><span class="token punctuation">,</span>
      validate<span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"Key can't be empty"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'What Category of post is this'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token function">map</span><span class="token punctuation">(</span>categories<span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> title <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>categories<span class="token punctuation">,</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'tags'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'Write out any tags you want to use'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'When is this going to be posted'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token function">map</span><span class="token punctuation">(</span>dates<span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> key<span class="token punctuation">)</span><span class="token punctuation">,</span>
      filter<span class="token punctuation">:</span> key <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dates<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>answers <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> postDate <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>answers<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'days'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> year <span class="token operator">=</span> postDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> formattedDate <span class="token operator">=</span> postDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY/MM/DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mkFile</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token string">`/src/pages/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.md`</span></span><span class="token punctuation">,</span>
      <span class="token template-string"><span class="token string">`---
title: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
date: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>formattedDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
layout: "post"
path: "/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>formattedDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/"
description: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>description<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
keywords: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>tags<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
category: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>category<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
key: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
readNext: "ten-things-js,favorite-interview,jest-matchers-1"
---

    `</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Inquirer makes it really nice to gather up all the information, then I use a utility I’ve already written to dump it in a file.  I want to do a bunch more here in the future here, starting by giving this script the ability to read and parse my existing posts, which will let me enforce uniqueness on names and keys, as well as offer autocomplete on the readNext column, which I’ve left hardcoded for now, since its hard to type free form.  There’s more to come here, and you all may feel free to steal and remix anything you find useful for your own blogs here.</p>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
        <item>
            <title><![CDATA[Weekly Links: November 3rd 2017]]></title>
            <link>https://benmccormick.org/2017/11/03/friday-links/</link>
            <guid>https://benmccormick.org/2017/11/03/friday-links/</guid>
            <pubDate>Fri, 03 Nov 2017 04:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>Today marks the start of a new thing I’m trying with this blog: <em>Friday Links</em> (<strong>Edit: Since renamed to Weekly Links</strong>).  Every Friday I’m going to be gathering some of the best links and content I’ve found that week and sharing it here.  It will be primarily but not completely programming focused, with minimal commentary. Some weeks it may be 2-3 links, some weeks it may be 10, but I’m going to give it a run at making this a true weekly feature.  </p>
<p>If you’re a regular reader (or not) and you have feelings about this, feel free to fill out this <a href="https://goo.gl/forms/MwEtFrDwFWzXSRv13">survey</a> and let me know what you think.  I’m still working through how this should work, though eventually it will almost definitely get integrated into the site as a different type of post than my main articles.  </p>
<p>Without further ado, here are this week’s Friday links:</p>
<h3>JavaScript And The Web</h3>
<p><a href="https://blog.kentcdodds.com/effective-snapshot-testing-e0d1a2c28eca">Effective Snapshot Testing – Kent Dodds</a> - This is a great set of practical tips for using snapshot testing well with Jest.  I’m guilty of sometimes making really large snapshots, and as he says here, I’ve found those tests to be useless because the diffs cause eyes to glaze over.</p>
<p><a href="https://mobiforge.com/news-comment/safari-service-workers-and-other-pwa-good-news-stories">Safari service workers and other PWA good news stories - mobiForge</a> - I’ve never been a big fan of the PWA terminology.  It smells very “marketing-y” to me, in the sense of the word that engineers use as an insult.  Exactly what people mean by a Progressive Web App seems hard to pin down and contextual.  Is it about the technologies used?  The user experience? Is it just that it is installable on phones? Is there a clear checklist that you can check against to see if something is a PWA?  In any case, I am a fan of many of the trends and technology that are getting pushed under the PWA banner, so this article, which discusses how the underlying technologies are being adapted in different places, is indeed good news from my point of view.</p>
<h3>Programming Tools</h3>
<p><a href="https://stackoverflow.blog/2017/10/31/disliked-programming-languages/">What are the Most Disliked Programming Languages? - Stack Overflow Blog</a> -  To be honest, I don’t totally buy the premise of this post.  I don’t think people always list their most disliked languages as the languages they don’t want to work with on Stack Overflow, I think they also list the languages or technologies that people might expect them to work with, but they don’t want to.   Like PHP or CoffeeScript for a web developer, or SQLServer for a DBA. Thats acknowledged but not fully grappled with in the article.  That said, it’s still an interesting dataset, no matter how you label the languages that are being excluded.  </p>
<p><a href="https://pragprog.com/book/modvim/modern-vim">Modern Vim - Drew Neil</a> - Drew Neil’s first book,<a href="http://amzn.to/2h7tQp3">Practical Vim</a>, was my introduction to useful text editing.  I’ve moved off of Vim for my day to day editing over the last few years, but I still plan on buying this book when it goes paperback, because I know I’ll learn at least a few useful tips, and it’s totally possible I’ll be back to Vim as my day to day editor again someday soon.  If you’re a Vim user I definitely recommend checking this out.</p>
<p><a href="https://wynnnetherland.com/journal/extending-the-command-line/">Extending the command line - Wynn Netherland</a> - This is a nice roundup of the various ways you can customize your command line commands to aid in recall, reliability and efficiency.</p>
<h3>Non-Tech</h3>
<p><a href="https://www.nytimes.com/2017/10/30/opinion/when-politics-becomes-your-idol.html?_r=0">When Politics Becomes Your Idol - The New York Times</a> - I thought this was an extremely insightful take on the current state of my country’s relationship with politics.  How many of us are looking to politics for solutions to problems and seeing it demand more and more for fewer and fewer results?  </p>
<p><a href="http://amzn.to/2ipypHO">The Tech-wise Family - Andy Crouch</a> - This is a book that is to some extent written for Christians and to some extent written for parents<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>, but I think that it has a lot to offer anyone who has a sneaking suspicion that the tech in their life, while helping with many things, is also distracting them from things that are more valuable.  This book was the most challenging thing I’ve read this year, and I highly recommend it.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn-1">
<p>I am a Christian, I am not yet a parent.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div>]]></content:encoded>
            <author>ben@benmccormick.org (Ben McCormick)</author>
        </item>
    </channel>
</rss>