<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=yyxgnp97qG"/><link rel="icon" type="image/png" href="/favicon-32x32.png?v=yyxgnp97qG" sizes="32x32"/><link rel="icon" type="image/png" href="/favicon-16x16.png?v=yyxgnp97qG" sizes="16x16"/><link rel="manifest" href="/manifest.json"/><link rel="mask-icon" href="/safari-pinned-tab.svg?v=yyxgnp97qG" color="#57a3e8"/><link rel="alternate" title="JSON Feed" type="application/json" href="/feed.json"/><link rel="shortcut icon" href="/favicon.ico?v=yyxgnp97qG"/><meta name="theme-color" content="#ffffff"/><script type="text/javascript" src="//use.typekit.net/msd6bqv.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script><title data-react-helmet="true">marionette-service: Service Objects for Marionette | benmccormick.org</title><meta data-react-helmet="true" name="description" content="Ben McCormick&#x27;s blog on JavaScript and Web Development"/><meta data-react-helmet="true" name="keywords" content="Marionette JavaScript marionette-service services Backbone Radio"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:site" content="@benmccormickorg"/><meta data-react-helmet="true" name="twitter:creator" content="@ben336"/><meta data-react-helmet="true" name="twitter:title" content="marionette-service: Service Objects for Marionette"/><meta data-react-helmet="true" name="twitter:description" content=""/><meta data-react-helmet="true" name="twitter:image" content="http://benmccormick.org/logo.png"/><script data-react-helmet="true" type="application/ld+json">{
                  "@context": "http://schema.org"
                  "@type": "BlogPosting",
                  "headline": "marionette-service: Service Objects for Marionette",
                  "genre": "Software Development",
                  "keywords": "Marionette JavaScript marionette-service services Backbone Radio",
                  "url": "http://benmccormick.org/2015/05/25/marionette-service-service-objects-for-marionette",
                  "image": "http://benmccormick.org/logo.png",
                  "datePublished": "2017-07-11",
                  
                  "articleBody": "<p><a href=\"http://backbonejs.org/\">Backbone.js</a> is a great way to structure web applications.  Its built in Models, Collections, Views and Routers are a very reasonable “minimum common ground” that pretty much any web project will be able to put to good use.  But more sophisticated applications have needs that extend beyond these basic concepts.  In addition to having some data that needs to be displayed, rich web apps often have resources and functionality that need to be shared across many different Views and Models.  There’s no definitive way to implement this consistently, but a common pattern is to create “services” of some type that Views and Models can communicate with.   </p>
<p>This pattern is easiest to show with an example.  Let’s take a look at a simple logging implementation.  We might start out just using simple console commands throughout our code like this:</p>
<div class=\"gatsby-highlight\">
      <pre class=\"language-javascript\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">doFoo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
  <span class=\"token comment\" spellcheck=\"true\">// Do a thing</span>
  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'We did Foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
<span class=\"token punctuation\">}</span>
</code></pre>
      </div>
<p>That’s fine for a while, but what if we wanted to switch to a logging library like <a href=\"http://js.jsnlog.com/\">JSNLog</a> or some 3rd party service?  We’d have a huge find and replace job to work through.  It’s better to centralize.  <a href=\"https://github.com/marionettejs/backbone.radio\">Backbone.Radio</a> is perfect for this purpose.  We can use it to centralize our logic and create a logging module:</p>
<div class=\"gatsby-highlight\">
      <pre class=\"language-javascript\"><code><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Radio <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone.radio'</span>

<span class=\"token keyword\">let</span> loggingChannel <span class=\"token operator\">=</span> Radio<span class=\"token punctuation\">.</span><span class=\"token function\">channel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>

loggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>

loggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'logError'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>

loggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">comply</span><span class=\"token punctuation\">(</span><span class=\"token string\">'logWarning'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
    console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
</code></pre>
      </div>
<p>We could then log a message like this:</p>
<div class=\"gatsby-highlight\">
      <pre class=\"language-javascript\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">doFoo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
  <span class=\"token comment\" spellcheck=\"true\">// Do a thing</span>
  loggingChannel<span class=\"token punctuation\">.</span><span class=\"token function\">command</span><span class=\"token punctuation\">(</span><span class=\"token string\">'log'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'We did Foo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
<span class=\"token punctuation\">}</span>
</code></pre>
      </div>
<p>There are 2 main use cases for this sort of service pattern: centralizing common tasks and UI actions like logging or displaying an alert, and requesting a resource without having to worry about where it came from.  Both are easily possible using Backbone Radio, using code very similar to whats above.</p>
<p>Using Backbone Radio like this is a useful pattern, but it’s very ad hoc and imperative.  Not very Backbone-like.  What if we could follow the Marionette route of pulling a useful pattern into an object and allow it to be configured declaratively?  We could instead create a “Service Object” like this:</p>
<div class=\"gatsby-highlight\">
      <pre class=\"language-javascript\"><code><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Mn <span class=\"token keyword\">from</span> <span class=\"token string\">'backbone.marionette'</span>

<span class=\"token keyword\">let</span> LoggingService <span class=\"token operator\">=</span> Mn<span class=\"token punctuation\">.</span>Service<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>

    radioCommands<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>
        <span class=\"token string\">'log log'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'logMessage'</span><span class=\"token punctuation\">,</span>
        <span class=\"token string\">'log logError'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'logError'</span><span class=\"token punctuation\">,</span>
        <span class=\"token string\">'log logWarning'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'logWarning'</span><span class=\"token punctuation\">,</span>
    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>

    logMessage<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>

    logError<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>

    logWarning<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>
        console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>
<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>

<span class=\"token keyword\">let</span> logger <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LoggingService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>
</code></pre>
      </div>
<p>This is much more in the Backbone and Marionette style, with a declarative hash to delegate to different functions based on channels and the events passed.  It makes it much easier to create “service objects” to make functionality available in a decoupled way.</p>
<p>Declarative radio handling will be <a href=\"https://github.com/marionettejs/backbone.marionette/pull/2431\">coming to Marionette Core</a> as part of Marionette version 3, but for now I’ve written a small library to make it available in the short term.  </p>
<p><a href=\"https://github.com/benmccormick/marionette-service\">marionette-service</a> provides the above Service Object to Marionette.  It allows you to listen to Radio Events, Commands or Requests, and associate them with callback functions.  It’s compatible with plans for Marionette v3, so all that will be required to remove it when upgrading will be a name change for service objects to use Marionette.Object rather than Marionette.Service. I’m excited to see how people use it.</p>
<p>Marionette-service is available to install both on <a href=\"https://www.npmjs.com/package/marionette-service\">npm</a>, and <a href=\"http://bower.io/search/?q=marionette%20service\">bower</a>.  Or you can clone the repo directly from <a href=\"https://github.com/benmccormick/marionette-service\">Github</a>.</p>
<h3>More Resources</h3>
<ul>
<li>If you’re new to Backbone.Radio you can learn more about it from <a href=\"http://benmccormick.org/2015/01/26/backbone-radio/\">my post</a>, or from the <a href=\"https://github.com/marionettejs/backbone.radio\">official docs</a>.</li>
<li>If you’re confused why somebody would want to separate out the implementation of a service through Radio rather than passing a service object directly, <a href=\"http://arguments.callee.info/2009/05/18/javascript-design-patterns--mediator/\">this is a nice piece by HB Stone</a> on the power of loose coupling and the Mediator Pattern</li>
</ul>",
                    "author": {
                      "@type": "Person",
                      "name": "Ben McCormick"
                      "email": "mailto:ben@benmccormick.org",
                      "image": "/profile_pic.jpg",
                      "jobTitle": "Software Engineer",
                      "alumniOf": "Duke",
                      "birthPlace": "Pittsburgh, PA",
                      "gender": "male",
                      "url": "http://benmccormick.org",
                	    "sameAs" : [
                        "https://www.linkedin.com/in/benmccormick",
                        "http://twitter.com/ben336",
                      ]
                   }
                }</script><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:125%/1.55em 'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.5rem;line-height:2.325rem;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.27542rem;line-height:1.55rem;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.17608rem;line-height:1.55rem;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.55rem;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.92211rem;line-height:1.55rem;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;color:inherit;font-family:'brandon-grotesque','Brandon Grotesque','Helvetica Neue','Helvetica','Arial','Lucida Sans','Geneva','Verdana','sans-serif';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.88547rem;line-height:1.55rem;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}ul{margin-left:1.55rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.55rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;font-size:0.85rem;line-height:1.1;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.1625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;font-size:1rem;line-height:1.55rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}blockquote{margin-left:1.55rem;margin-right:1.55rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.1625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.1625rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.1625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.55rem;margin-bottom:calc(1.1625rem / 2);margin-top:calc(1.1625rem / 2);}li > ul{margin-left:1.55rem;margin-bottom:calc(1.1625rem / 2);margin-top:calc(1.1625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.1625rem / 2);}code{font-size:0.85rem;line-height:1.55rem;}kbd{font-size:0.85rem;line-height:1.55rem;}samp{font-size:0.85rem;line-height:1.55rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.03333rem;padding-right:1.03333rem;padding-top:0.775rem;padding-bottom:calc(0.775rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}tt,code{background-color:hsla(0,0%,0%,0.04);border-radius:3px;font-family:"SFMono-Regular", Consolas,"Roboto Mono","Droid Sans Mono","Liberation Mono",Menlo,Courier,monospace;padding:0;padding-top:0.2em;padding-bottom:0.2em;font-size:75%;}pre code{background:none;line-height:1.1;}code:before,code:after,tt:before,tt:after{letter-spacing:-0.2em;content:" ";}pre code:before,pre code:after,pre tt:before,pre tt:after{content:"";}h1,h2,h3,h4,h5,h6{line-height:1.1;}@media only screen and (max-width:480px){html{font-size:112.5%;}}</style><style>.subscribe-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap}.subscribe-block{width:400px;padding-right:30px;overflow:hidden}.subscribe-block #mc_embed_signup form{margin-bottom:20px}.up-next-block{width:300px}.subscribe-button{color:#fff;background:#57a3e8;border-radius:4px;border:0;padding:5px 10px;margin:20px 0;cursor:pointer}.rss{padding-bottom:10px}.rss a{display:-webkit-box;display:-ms-flexbox;display:flex}.rss-icon{display:block;width:17px;margin-right:.5em;height:50px}.rss-icon *{fill:#e2777a}.twitter-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.twitter-item iframe{margin:0 0 0 10px}.markdown pre{display:block;background:#343d46;color:#d8dee9}.token.comment,.token.quote{color:#a7adba}.token.addition,.token.attr,.token.selector-tag,.token.string{color:#99c794}.token.doctag,.token.meta .token.meta-string,.token.regexp{color:#89ddf3}.token.built_in,.token.function{color:#5fb3b3}.token.name,.token.section,.token.selector-class,.token.selector-id,.token.title{color:#69c}.token.attribute,.token.class .token.title,.token.template-variable,.token.type,.token.variable{color:#fac863}.token.bullet,.token.link,.token.meta,.token.meta .token.keyword,.token.selector-attr,.token.selector-pseudo,.token.subst,.token.symbol{color:#f9ae58}.token.boolean,.token.deletion,.token.literal,.token.number{color:#f07178}.token.keyword{color:#c594c5}.token.formula{background:#a7adba}.token.emphasis{font-style:italic}.token.strong{font-weight:700}a{color:#e2777a;text-decoration:none}blockquote{border-left:5px solid #57a3e8;font-style:italic;background:#eee;font-weight:400;font-size:.9rem;padding:10px 20px;margin:0 0 30px -25px}blockquote p{margin-bottom:.667em}h2,h3{color:#57a3e8}.explanation{padding:10px;background:#eee;border-radius:10px;margin:20px auto;font-size:.85em}.footnotes li>*{display:inline;margin-bottom:0}.article-body .reading-img img{width:150px;float:right;margin:0 10px 20px}.gatsby-resp-image-wrapper{max-width:75%;display:block;margin:40px auto 20px}.article-body img.full-width{max-height:none}.article-body img.half-width{max-height:none;width:50%}.bordered-img{border:3px solid #57a3e8}.img-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.img-group img{padding:0;height:auto}twitterwidget{margin-left:auto;margin-right:auto}.mc-field-group{width:400px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 0}.mc-field-group input{border-radius:3px;max-width:350px;width:80vw;border:1px solid #ccc;margin-right:10px;height:30px}.mc-field-group label{font-size:.9em;font-weight:600}#mc-embedded-subscribe{color:#fff;background:#57a3e8;border-radius:4px;border:0;padding:0 10px;margin:10px 0;cursor:pointer;width:40vw}#mc-embedded-subscribe:hover{background:#3e8acf}.twitter-row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.twitter-row>div{padding-right:20px;min-width:300px}.category-icon-wrapper{color:rgba(87,163,232,.5)}.category-icon{display:inline-block;width:.75em;margin-right:.5em}.category-icon *{fill:#57a3e8;fill:rgba(87,163,232,.5)}.category-icon>i{height:30px}.header-link{color:hsla(0,0%,39%,.7)}.header-link:hover{color:#e2777a}#carbonads{height:100px;font-size:14px;width:300px;position:relative;background:#f0f0f0}.carbon-wrap{height:100px;display:-webkit-box;display:-ms-flexbox;display:flex}.carbon-text{padding:5px 10px;max-height:80px;display:inline-block;overflow:hidden;line-height:1.3}.carbon-poweredby{color:hsla(0,0%,39%,.7);position:absolute;right:5px;bottom:0}@media (max-width:600px){#carbonads,.no-mobile{display:none}.subscribe-block{padding-right:0;padding:0 10px}.subscribe-block,.subscribe-block .mc-field-group{width:100%!important}.subscribe-block .mc-field-group input{width:100%!important;font-size:.8em;height:2.4em}.up-next-block{width:100%!important;padding:0 10px}}@media (max-width:321px){html{font-size:100%!important}}</style><link rel="preload" href="/page-component---src-templates-blog-post-js-bc36df2fd45ce0df8dd2.js" as="script"/><link rel="preload" href="/path---2015-05-25-marionette-service-service-objects-for-marionette-9007a96265465bc3cc39.js" as="script"/><link rel="preload" href="/layout-component---index-2a0f238b798982c2c7da.js" as="script"/><link rel="preload" href="/app-5de4cedb161287d2bb36.js" as="script"/><link rel="preload" href="/commons-5ade941a0ddda2740b0b.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"1":"page-component---src-templates-blog-post-js-bc36df2fd45ce0df8dd2.js","2":"page-component---src-pages-index-js-b681681bf0f3a02c39a5.js","3":"page-component---src-templates-category-page-js-e32fa790baa77d7b6697.js","4":"layout-component---index-2a0f238b798982c2c7da.js","5":"page-component---src-pages-archive-js-9b089d0476698fd685a1.js","6":"path---subscribe-d2033a6560dabec4634c.js","7":"path---speaking-0a30191a194b6f2e0b3c.js","8":"path---readinglist-72d4f1e2240c40c4cf07.js","9":"path---offline-plugin-app-shell-fallback-586c7e095e534a3909ec.js","10":"path---marionette-explained-6036e01f351b28b639cf.js","11":"path---learning-vim-in-2014-53195c4b6f030c4b64e8.js","12":"path---index-1123e1482eedf1b9fdb9.js","13":"path---category-tools-de6ec2c948eea779f1b1.js","14":"path---category-software-productivity-f699610c634c29e1af01.js","15":"path---category-reviews-7e82988922df911153b0.js","16":"path---category-platform-7a009d509b5e69c45502.js","17":"path---category-opinion-d4e3a64ba244acad7b0f.js","18":"path---category-meta-a012cc5edf40ce06af14.js","19":"path---category-javascript-8a59e1f4a59b04542f95.js","20":"path---category-frameworks-bfcc6de59338e7c692b8.js","21":"path---archive-a0351fedee37f2ebf32e.js","22":"path---about-0e3af33c456f7deb1ce7.js","23":"path---a-note-to-recruiters-d998ef41a4d5bd11c48f.js","24":"path---404-html-43419096b156c3cb5509.js","25":"path---2017-07-10-how-to-follow-the-javascript-roadmap-6bbb208dcd511fa9fd4f.js","26":"path---2017-06-03-rss-atom-json-gatsby-37727533a882b090ef48.js","27":"path---2017-05-29-atom-tips-abb85715e6e84188dd02.js","28":"path---2017-05-28-mariana-syntax-atom-e090b62af393f1dcf676.js","29":"path---2017-05-11-building-normal-curves-highcharts-4e1e026d500bb8d604d3.js","30":"path---2017-04-14-grading-applications-on-config-portability-4f6c4ffb16732018146f.js","31":"path---2017-03-28-the-mystery-of-docker-and-the-disk-eating-cow-8f83af73f6f79b2f64aa.js","32":"path---2017-02-26-running-jest-tests-before-each-git-commit-7877ce08ddb4e8fd77f6.js","33":"path---2017-02-18-context-to-best-practices-d9e895e28c5169625a98.js","34":"path---2017-02-13-improving-site-performance-with-lighthouse-ece38f794695e6b0eec3.js","35":"path---2017-01-09-mobx-first-impressions-bb29fadfe2e8aa3bcd8f.js","36":"path---2017-01-03-orthogonality-and-css-in-js-da27bdcc7e4c836339c7.js","37":"path---2016-12-31-2016-roundup-25443dd47ebf07280e1a.js","38":"path---2016-12-14-what-are-higher-order-components-b882746b58b5d9a48cd0.js","39":"path---2016-12-11-readable-code-audience-5a28e25048065628c7ee.js","40":"path---2016-12-10-saving-time-with-jest-7fc52c01fc8eb7cca32e.js","41":"path---2016-12-02-whole-new-site-6818811432b12a73ad5b.js","42":"path---2016-09-19-testing-with-jest-snapshots-first-impressions-ab9d7d10ddc7dbb245e8.js","43":"path---2016-06-26-quick-tip-take-advantage-of-lodash-collections-2-e0b9ddb01daaacc829ee.js","44":"path---2016-06-04-what-are-mutable-and-immutable-data-structures-2-c715f2e6ca3ce2666bdf.js","45":"path---2016-05-02-digging-into-react-choosing-component-styles-7cbc401890ae32a65e14.js","46":"path---2016-04-30-ack-tips-fd4e7be8bea89d119276.js","47":"path---2016-03-09-stability-vs-decline-12af7748cbcdd7ffaff0.js","48":"path---2016-03-07-the-sad-state-of-the-backbone-ecosystem-d515620bafb313b4a4d2.js","49":"path---2016-01-25-staying-productive-1fc698d119585552640b.js","50":"path---2016-01-11-the-most-interesting-atom-packages-ive-found-so-far-716d948d3441e5d87fc8.js","51":"path---2016-01-08-reusable-code-patterns-bfb35606fa87f986683f.js","52":"path---2015-12-31-2015-roundup-2-d83235a7ff9dedb43b6b.js","53":"path---2015-12-30-es-6-patterns-converting-callbacks-to-promises-b9e3210ecd96cb817ac9.js","54":"path---2015-11-30-es-6-patterns-clean-higher-order-functions-151c33248ab30dbec6d5.js","55":"path---2015-11-25-productive-javascript-development-3171aff883b149f2efa0.js","56":"path---2015-09-14-es-5-es-6-es-2016-es-next-whats-going-on-with-javascript-versioning-7b7a7d6715caa37d11fa.js","57":"path---2015-09-09-what-can-backbone-developers-learn-from-react-be0ced87e82b0f062386.js","58":"path---2015-07-06-backbone-and-es-6-classes-revisited-105d65c4acba68bc3b6f.js","59":"path---2015-06-15-book-review-talking-with-tech-leads-051bae1a76da52ebb6fc.js","60":"path---2015-06-14-mozilla-the-state-of-web-components-85a1a63313a8bc17f016.js","61":"path---2015-06-10-is-safari-being-left-behind-ddd8fabd44d03a839c8f.js","62":"path---2015-06-08-how-jquery-works-an-introduction-a49127c6957c2db633a0.js","63":"path---2015-05-28-moving-past-requirejs-d9f866d18b6ac7033a41.js","64":"path---2015-05-25-marionette-service-service-objects-for-marionette-9007a96265465bc3cc39.js","65":"path---2015-04-07-es-6-classes-and-backbone-js-aec9fe0fcc990594912a.js","66":"path---2015-03-23-staying-dry-with-marionette-behaviors-80f083107e927095d9fa.js","67":"path---2015-02-22-rauchg-on-es-6-269f185934354a8cfcb5.js","68":"path---2015-01-26-backbone-radio-aaa46971018c2a8b1576.js","69":"path---2015-01-22-is-bower-useful-f010823f43c8379d7607.js","70":"path---2015-01-05-marionette-view-life-cycles-aba0faf5287bb97772b3.js","71":"path---2014-12-22-building-complex-layouts-with-marionette-js-a7b33d09d3b00149e459.js","72":"path---2014-12-18-come-build-with-me-d1165a3b9968b0f5b73f.js","73":"path---2014-12-10-marionette-explained-connecting-your-data-to-your-views-ec9a77fffeb1987885c0.js","74":"path---2014-12-02-the-case-for-marionette-js-69940877d8548c39cb77.js","75":"path---2014-11-24-alternative-javascript-7c2fb1ee8b6c17531a8f.js","76":"path---2014-11-12-underscore-vs-lodash-6f1c166be0fd23a6032c.js","77":"path---2014-11-10-vim-workflows-file-switching-strategies-dfb9b7c078ca5f41a0c2.js","78":"path---2014-11-08-all-about-angular-2-0-0077c7d59f90d706e725.js","79":"path---2014-11-04-a-quick-review-of-google-inbox-c2a52bc537bdb92ce96f.js","80":"path---2014-10-13-setting-up-your-text-editor-for-javascript-development-40d05aa2b85d6e8e4e39.js","81":"path---2014-08-28-custom-elements-by-example-7acdd9e67a3b271e80b8.js","82":"path---2014-08-19-the-debugging-toolbox-a83a7728539d142a298f.js","83":"path---2014-08-07-component-based-development-f9b61f78e5982afb7382.js","84":"path---2014-08-04-learning-vim-in-2014-search-a9f45d0af255d3b40d34.js","85":"path---2014-07-27-learning-vim-in-2014-copy-and-paste-the-vim-way-281cebe578068d60d42e.js","86":"path---2014-07-24-one-day-left-in-practical-vim-giveaway-908dd245a036c5374c88.js","87":"path---2014-07-21-learning-vim-in-2014-getting-more-from-vim-with-plugins-f83ef1786081ac630d53.js","88":"path---2014-07-16-learning-vim-in-2014-vim-as-art-06d2d39eefaec78b1d9a.js","89":"path---2014-07-14-learning-vim-in-2014-configuring-vim-d20b469a9df1c0185e9b.js","90":"path---2014-07-11-new-twitter-feed-and-practical-vim-giveaway-1c95d616d79f51efff36.js","91":"path---2014-07-09-understanding-the-backbone-mindset-a-review-of-building-backbone-plugins-by-derick-bailey-9f5fb478017e3bea3724.js","92":"path---2014-07-07-learning-vim-in-2014-working-with-files-172784f4f00062199435.js","93":"path---2014-07-02-learning-vim-in-2014-vim-as-language-62887afa03acaa1633d5.js","94":"path---2014-06-30-learning-vim-in-2014-the-basics-2e382e1e7f10ae9fba9b.js","95":"path---2014-06-02-discovering-vim-607cbec5cff2fad9e952.js","96":"path---2014-01-06-digging-into-knockout-builds-ab461f9b6c5652a467ce.js","97":"path---2013-12-30-meetings-and-concurrency-89bde664d49d7b953d19.js","98":"path---2013-11-25-a-look-at-ack-248ebf2fb4592eba2c15.js","99":"path---2013-11-14-modern-dojo-exploring-dojo-basedeclare-1163e6feff3708e4ffc8.js","100":"path---2013-11-13-modern-dojo-exploring-dojoquery-ed86ec9dabe95a8f85e0.js","101":"path---2013-09-10-blendconf-2013-takeaways-from-a-very-human-tech-conference-307e6192e3720ce42b9f.js","102":"path---2013-08-16-searching-for-the-perfect-reading-device-my-nexus-7-2013-review-0465f1faec22b9d659d6.js","103":"path---2013-08-15-somewhat-open-714e0ecfeeb797351202.js","104":"path---2013-08-12-book-review-user-centered-design-f7c8765b8dd86e5bc5ae.js","105":"path---2013-06-29-rss-roundup-17f2e1a0baa9bc52bfa6.js","106":"path---2013-06-11-how-i-use-stack-overflow-f87b96b28017d2e70da7.js","107":"path---2013-06-11-evergreen-browsers-c5588b789c4bfcd50f8a.js","108":"path---2013-06-09-90-done-halfway-there-383b4cfda698a4710696.js","109":"path---2013-06-08-customer-culture-revisited-3988b556f2f4228d421c.js","110":"path---2013-05-07-revertible-observables-in-knockout-b3abef66cc36b05f4a32.js","111":"path---2013-05-04-irreplaceable-98391baeafb0d0544a75.js","112":"path---2013-04-23-book-review-javascript-testing-with-jasmine-3e4f6660f90ecc5f3dcd.js","113":"path---2013-04-06-a-new-look-2a7c732b019514f1032b.js","114":"path---2013-03-23-creating-a-build-system-for-a-coffeescript-project-with-ant-e03bdeae3f9a9724df53.js","115":"path---2013-02-23-coffeescript-is-great-c03c7baf87c6387b5321.js","116":"path---2013-02-13-simple-publish-subscribe-with-jquery-ee89c69b7fa8763b5f98.js","117":"path---2013-02-03-how-i-work-refactoring-6bb2e21254e967213e78.js","118":"path---2013-01-25-career-fairs-how-to-not-get-hired-and-how-to-give-yourself-a-chance-1447c9fc7d0d48115249.js","119":"path---2013-01-15-unexpected-javascript-that-doesnt-do-what-you-think-77d088269333bbe07478.js","120":"path---2013-01-12-explaining-javascript-object-oriented-programming-34370a327315dcab7dce.js","121":"path---2013-01-08-explaining-javascript-closures-99c985f4f3941c00e519.js","122":"path---2013-01-06-book-review-effective-javascript-cecdd40c594f8a2c7714.js","123":"path---2013-01-03-sublime-text-for-javascript-plugins-eb4e3021351b0595a208.js","124":"path---2013-01-01-sublime-text-for-javascript-configuration-3b27f22b5e164ba7b362.js","125":"path---2012-12-30-sublime-text-for-javascript-keyboard-shortcuts-35068c0a88fc61566374.js","126":"path---2012-12-29-i-hate-computing-ecosystems-e078f22659bceb781412.js","127":"path---2012-12-29-cleaning-my-digital-house-4a50e11d064691c01f3c.js","128":"path---2012-12-25-medium-the-end-of-history-and-the-last-website-5b196d50229487378932.js","129":"path---2012-12-20-awesome-software-trello-c62fc7fad809e0ab93f4.js","130":"path---2012-11-09-bayesian-witch-hunt-5a212f5f93bbc4ea827a.js","131":"path---2012-11-08-shutdown-tiles-for-windows-8-start-screen-e0a14739240f14a6d4b9.js","132":"path---2012-11-07-sync-multiple-google-calendars-in-windows-8-0e81e889d1de7464f728.js","133":"path---2012-10-06-it-took-a-month-to-get-sick-of-php-602623c780ec95b5009d.js","134":"path---2012-09-19-the-iphone-5-conversation-so-far-0636e808f3371e8e5c90.js","135":"page-component---node-modules-gatsby-plugin-offline-app-shell-js-4f0dddda43ae15168f16.js","136":"app-5de4cedb161287d2bb36.js"}
            //]]>
            </script><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-5ade941a0ddda2740b0b.js","/app-5de4cedb161287d2bb36.js","/layout-component---index-2a0f238b798982c2c7da.js","/path---2015-05-25-marionette-service-service-objects-for-marionette-9007a96265465bc3cc39.js","/page-component---src-templates-blog-post-js-bc36df2fd45ce0df8dd2.js"
])
  </script></head><body class="landing-page" style="background:#FCFCFC;padding:0 10px;"><div id="___gatsby"><div style="max-width:40.3rem;margin-left:auto;margin-right:auto;padding:2.325rem 1.1625rem;" data-reactroot="" data-reactid="1" data-react-checksum="880627497"><div style="display:flex;padding-bottom:0.5rem;margin-bottom:0.5rem;" data-reactid="2"><div style="flex-grow:3;display:flex;flex-direction:column;justify-content:space-around;" data-reactid="3"><h3 style="margin:0;padding-bottom:0;" data-reactid="4"><a style="box-shadow:none;text-decoration:none;color:inherit;" name="title" href="/" data-reactid="5">benmccormick.org</a></h3><div style="color:rgba(100,100,100, 0.7);" data-reactid="6"><a class="header-link" href="/subscribe/" data-reactid="7">Subscribe</a><span style="padding:0 0.33rem;" data-reactid="8">•</span><a class="header-link" href="/archive/" data-reactid="9">Archive</a><span style="padding:0 0.33rem;" data-reactid="10">•</span><a class="header-link" href="http://twitter.com/ben336" data-reactid="11">Twitter</a><span style="padding:0 0.33rem;" data-reactid="12">•</span><a class="header-link" href="/about/" data-reactid="13">About</a></div></div><div style="flex-shrink:2;" data-reactid="14"><span data-reactid="15"></span></div></div><div class="markdown" data-reactid="16"><!-- react-empty: 17 --><h5 style="display:block;color:rgba(100,100,100, 0.7);margin-bottom:0.3875rem;" data-reactid="18">July 11, 2017</h5><h1 style="margin-top:0;margin-bottom:1rem;" data-reactid="19">marionette-service: Service Objects for Marionette</h1><div class="article-body" data-reactid="20"><p><a href="http://backbonejs.org/">Backbone.js</a> is a great way to structure web applications.  Its built in Models, Collections, Views and Routers are a very reasonable “minimum common ground” that pretty much any web project will be able to put to good use.  But more sophisticated applications have needs that extend beyond these basic concepts.  In addition to having some data that needs to be displayed, rich web apps often have resources and functionality that need to be shared across many different Views and Models.  There’s no definitive way to implement this consistently, but a common pattern is to create “services” of some type that Views and Models can communicate with.   </p>
<p>This pattern is easiest to show with an example.  Let’s take a look at a simple logging implementation.  We might start out just using simple console commands throughout our code like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">doFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Do a thing</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'We did Foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>That’s fine for a while, but what if we wanted to switch to a logging library like <a href="http://js.jsnlog.com/">JSNLog</a> or some 3rd party service?  We’d have a huge find and replace job to work through.  It’s better to centralize.  <a href="https://github.com/marionettejs/backbone.radio">Backbone.Radio</a> is perfect for this purpose.  We can use it to centralize our logic and create a logging module:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Radio <span class="token keyword">from</span> <span class="token string">'backbone.radio'</span>

<span class="token keyword">let</span> loggingChannel <span class="token operator">=</span> Radio<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

loggingChannel<span class="token punctuation">.</span><span class="token function">comply</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

loggingChannel<span class="token punctuation">.</span><span class="token function">comply</span><span class="token punctuation">(</span><span class="token string">'logError'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

loggingChannel<span class="token punctuation">.</span><span class="token function">comply</span><span class="token punctuation">(</span><span class="token string">'logWarning'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>We could then log a message like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">doFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Do a thing</span>
  loggingChannel<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">,</span> <span class="token string">'We did Foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>There are 2 main use cases for this sort of service pattern: centralizing common tasks and UI actions like logging or displaying an alert, and requesting a resource without having to worry about where it came from.  Both are easily possible using Backbone Radio, using code very similar to whats above.</p>
<p>Using Backbone Radio like this is a useful pattern, but it’s very ad hoc and imperative.  Not very Backbone-like.  What if we could follow the Marionette route of pulling a useful pattern into an object and allow it to be configured declaratively?  We could instead create a “Service Object” like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Mn <span class="token keyword">from</span> <span class="token string">'backbone.marionette'</span>

<span class="token keyword">let</span> LoggingService <span class="token operator">=</span> Mn<span class="token punctuation">.</span>Service<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    radioCommands<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'log log'</span><span class="token punctuation">:</span> <span class="token string">'logMessage'</span><span class="token punctuation">,</span>
        <span class="token string">'log logError'</span><span class="token punctuation">:</span> <span class="token string">'logError'</span><span class="token punctuation">,</span>
        <span class="token string">'log logWarning'</span><span class="token punctuation">:</span> <span class="token string">'logWarning'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    logMessage<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    logError<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    logWarning<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoggingService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>This is much more in the Backbone and Marionette style, with a declarative hash to delegate to different functions based on channels and the events passed.  It makes it much easier to create “service objects” to make functionality available in a decoupled way.</p>
<p>Declarative radio handling will be <a href="https://github.com/marionettejs/backbone.marionette/pull/2431">coming to Marionette Core</a> as part of Marionette version 3, but for now I’ve written a small library to make it available in the short term.  </p>
<p><a href="https://github.com/benmccormick/marionette-service">marionette-service</a> provides the above Service Object to Marionette.  It allows you to listen to Radio Events, Commands or Requests, and associate them with callback functions.  It’s compatible with plans for Marionette v3, so all that will be required to remove it when upgrading will be a name change for service objects to use Marionette.Object rather than Marionette.Service. I’m excited to see how people use it.</p>
<p>Marionette-service is available to install both on <a href="https://www.npmjs.com/package/marionette-service">npm</a>, and <a href="http://bower.io/search/?q=marionette%20service">bower</a>.  Or you can clone the repo directly from <a href="https://github.com/benmccormick/marionette-service">Github</a>.</p>
<h3>More Resources</h3>
<ul>
<li>If you’re new to Backbone.Radio you can learn more about it from <a href="http://benmccormick.org/2015/01/26/backbone-radio/">my post</a>, or from the <a href="https://github.com/marionettejs/backbone.radio">official docs</a>.</li>
<li>If you’re confused why somebody would want to separate out the implementation of a service through Radio rather than passing a service object directly, <a href="http://arguments.callee.info/2009/05/18/javascript-design-patterns--mediator/">this is a nice piece by HB Stone</a> on the power of loose coupling and the Mediator Pattern</li>
</ul></div><div data-reactid="21"><hr data-reactid="22"/><div class="subscribe-container" data-reactid="23"><div class="subscribe-block" data-reactid="24"><p data-reactid="25"><!-- react-text: 26 -->Thanks for taking the time to read this post!<!-- /react-text --><!-- react-text: 27 --> JavaScript development<!-- /react-text --><!-- react-text: 28 --> is one of the main topics of this blog, so if you enjoyed the post, please consider subscribing by using the feed, Twitter or my mailing list.<!-- /react-text --></p><div style="margin-bottom:3.875rem;" data-reactid="29"><div id="mc_embed_signup" data-reactid="30"><h6 style="margin:0;font-size:0.8165rem;line-height:1.55rem;letter-spacing:-0.25px;" data-reactid="31">EMAIL</h6><form action="//benmccormick.us8.list-manage.com/subscribe/post?u=115446b80fd9d930ba091cc27&amp;id=f5b9f5acf2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="" data-reactid="32"><div id="mc_embed_signup_scroll" data-reactid="33"><div class="mc-field-group" style="padding-right:30px;" data-reactid="34"><input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address" data-reactid="35"/><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" data-reactid="36"/></div><div id="mce-responses" class="clear" data-reactid="37"><div class="response" id="mce-error-response" style="display:none;" data-reactid="38"></div><div class="response" id="mce-success-response" style="display:none;" data-reactid="39"></div></div><div style="position:absolute;left:-5000px;" aria-hidden="true" data-reactid="40"><input type="text" name="b_115446b80fd9d930ba091cc27_f5b9f5acf2" tabindex="-1" value="" data-reactid="41"/></div><div class="clear" data-reactid="42"></div></div></form></div><div class="rss" data-reactid="43"><h6 style="margin:0;font-size:0.8165rem;line-height:1.55rem;letter-spacing:-0.25px;" data-reactid="44">RSS</h6><a href="/rss/" data-reactid="45"><i class="rss-icon" data-reactid="46"><svg viewBox="0 0 10 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>rss</title><desc>Created with Sketch.</desc><defs></defs><g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="rss" fill="#000000"><path d="M2,13 L0,13 L0,11 C1.11,11 2,11.89 2,13 L2,13 Z M0,3 L0,4 C4.97,4 9,8.03 9,13 L10,13 C10,7.48 5.52,3 0,3 L0,3 Z M0,7 L0,8 C2.75,8 5,10.25 5,13 L6,13 C6,9.69 3.31,7 0,7 L0,7 Z" id="Shape"></path></g></g></svg></i><!-- react-text: 47 --> <!-- /react-text --><span data-reactid="48">RSS</span></a></div><div data-reactid="49"><h6 style="margin:0;font-size:0.8165rem;line-height:1.55rem;letter-spacing:-0.25px;" data-reactid="50">TWITTER</h6><div class="twitter-item" data-reactid="51"><span data-reactid="52">Site Feed: </span><a href="https://twitter.com/benmccormickorg" class="twitter-follow-button" data-show-count="false" data-reactid="53">Follow @benmccormickorg</a></div></div><div data-reactid="54"><div class="twitter-item" data-reactid="55"><span data-reactid="56">Personal Feed: </span><a href="https://twitter.com/ben336" class="twitter-follow-button" data-show-count="false" data-reactid="57">Follow @ben336</a></div></div></div></div><div class="up-next-block" data-reactid="58"><h6 style="margin:0;font-size:0.8165rem;line-height:1.55rem;letter-spacing:-0.25px;" data-reactid="59">You Might Also Like:</h6><div data-reactid="60"><h3 style="margin-top:0;margin-bottom:0.3875rem;" data-reactid="61"><a href="/[object Object]" data-reactid="62">Marionette: Explained</a></h3><p data-reactid="63">A series of posts explaining Marionette.js</p></div><div data-reactid="64"><hr data-reactid="65"/><h3 style="margin-top:0;margin-bottom:0.3875rem;" data-reactid="66"><a href="/[object Object]" data-reactid="67">Lessons Backbone Developers Can Learn From React</a></h3><p data-reactid="68">A look at the lessons that Backbone developers can learn from React</p></div><div data-reactid="69"><hr data-reactid="70"/><h3 style="margin-top:0;margin-bottom:0.3875rem;" data-reactid="71"><a href="/[object Object]" data-reactid="72">Building Modular Web Apps With Backbone.Radio</a></h3><p data-reactid="73">An overview of using Backbone.Radio in Marionette apps</p></div></div></div></div><hr style="margin-bottom:3.1rem;" data-reactid="74"/><div title="marionette-service: Service Objects for Marionette" data-reactid="75"><div id="disqus_thread" data-reactid="76"></div><noscript data-reactid="77"><span data-reactid="78"><!-- react-text: 79 -->Please enable JavaScript to view the<!-- /react-text --><a href="http://disqus.com/?ref_noscript" data-reactid="80">comments powered by Disqus.</a></span></noscript><a href="http://disqus.com" class="dsq-brlink" data-reactid="81"><!-- react-text: 82 -->Blog comments powered by <!-- /react-text --><span class="logo-disqus" data-reactid="83">Disqus</span><!-- react-text: 84 -->.<!-- /react-text --></a></div></div><span style="display:block;clear:both;" data-reactid="85"> </span></div></div><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-37323973-1', 'auto');
            ga('send', 'pageview');
        </script></body></html>